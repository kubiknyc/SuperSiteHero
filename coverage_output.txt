
> jobsight@0.1.0 test
> vitest --run --coverage --reporter=verbose


 RUN  v4.0.16 C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero
      Coverage enabled with istanbul

 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > revised_budget calculation > should calculate revised budget as original + changes 2ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > revised_budget calculation > should handle zero changes 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > revised_budget calculation > should handle negative changes (budget reduction) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > variance calculation > should calculate variance as revised - actual (positive = under budget) 1ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > variance calculation > should show negative variance when over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > variance calculation > should show zero variance when exactly on budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > percent_spent calculation > should calculate percent spent correctly 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > percent_spent calculation > should handle 0% spent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > percent_spent calculation > should handle over 100% spent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > percent_spent calculation > should handle zero budget edge case 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > variance_percent calculation > should calculate variance percentage correctly 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > variance_percent calculation > should show positive percentage when under budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > variance_percent calculation > should handle zero budget edge case 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > complex budget scenarios > should correctly calculate all fields for typical budget line 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > complex budget scenarios > should handle budget with multiple change orders 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Threshold Logic > critical overrun detection > should detect critical overrun (>10% over budget) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Threshold Logic > critical overrun detection > should not trigger critical for exactly 10% overrun 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Threshold Logic > warning overrun detection > should detect warning overrun (5-10% over budget) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Threshold Logic > near budget detection > should detect when approaching budget (>90% spent) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Threshold Logic > near budget detection > should not trigger near budget for 89% spent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Threshold Logic > minimum variance amount threshold > should respect minimum variance amount (avoid noise) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Threshold Logic > minimum variance amount threshold > should trigger alert when exceeds minimum amount 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Severity > line-level severity classification > should classify as critical when >10% over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Severity > line-level severity classification > should classify as warning when 5-10% over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Severity > line-level severity classification > should classify as info when approaching budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Severity > project-level severity classification > should classify project as critical when >5% over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Severity > project-level severity classification > should classify project as warning when 3-5% over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Types > should identify line_over_budget alert 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Types > should identify line_near_budget alert 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Types > should identify project_over_budget alert 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Types > should identify division_over_budget alert 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Cost Variance (CV) > should calculate CV = EV - AC (positive = under budget) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Cost Variance (CV) > should show negative CV when over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Cost Variance (CV) > should calculate CV percentage 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Schedule Variance (SV) > should calculate SV = EV - PV (positive = ahead of schedule) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Schedule Variance (SV) > should show negative SV when behind schedule 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Schedule Variance (SV) > should calculate SV percentage 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Variance at Completion (VAC) > should calculate VAC = BAC - EAC (positive = under budget at completion) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Variance at Completion (VAC) > should show negative VAC when projected over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Variance at Completion (VAC) > should calculate VAC percentage 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Estimate to Complete (ETC) > should calculate ETC = EAC - AC 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Estimate to Complete (ETC) > should handle zero ETC when project complete 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > complete EVM variance scenario > should calculate all EVM variances correctly 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Indices > Cost Performance Index (CPI) > should calculate CPI = EV / AC 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Indices > Cost Performance Index (CPI) > should show CPI < 1 when over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Indices > Schedule Performance Index (SPI) > should calculate SPI = EV / PV 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Indices > Schedule Performance Index (SPI) > should show SPI < 1 when behind schedule 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Indices > Cost-Schedule Index (CSI) > should calculate CSI = CPI * SPI 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Indices > Cost-Schedule Index (CSI) > should show poor performance when CSI < 1 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Indices > To-Complete Performance Index (TCPI) > should calculate TCPI_BAC = (BAC - EV) / (BAC - AC) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Indices > To-Complete Performance Index (TCPI) > should calculate TCPI_EAC = (BAC - EV) / (EAC - AC) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Status > getPerformanceStatus function > should classify CPI 1.05+ as excellent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Status > getPerformanceStatus function > should classify CPI 1.0-1.04 as good 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Status > getPerformanceStatus function > should classify CPI 0.95-0.99 as fair 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Status > getPerformanceStatus function > should classify CPI 0.90-0.94 as poor 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Status > getPerformanceStatus function > should classify CPI <0.90 as critical 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Status > getPerformanceStatus function > should classify SPI using same thresholds 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Status > custom threshold support > should use custom thresholds when provided 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Complete Variance Scenarios > healthy project scenario > should show all positive indicators 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Complete Variance Scenarios > critical overrun scenario > should trigger critical alerts 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Complete Variance Scenarios > approaching budget scenario > should trigger near budget alert 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Complete Variance Scenarios > multiple change orders scenario > should track variance through multiple revisions 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateRevisedBudget > should add positive changes to original 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateRevisedBudget > should subtract negative changes from original 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateRevisedBudget > should handle zero changes 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateRevisedBudget > should handle zero original 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateRevisedBudget > should handle both zeros 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateRevisedBudget > should handle large values 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateRevisedBudget > should handle decimal values 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariance > should return positive when under budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariance > should return negative when over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariance > should return zero when exactly on budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariance > should handle zero budget with costs 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariance > should handle zero costs 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariance > should handle negative budget edge case 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculatePercentSpent > should calculate 50% spent correctly 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculatePercentSpent > should calculate 100% spent correctly 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculatePercentSpent > should calculate over 100% spent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculatePercentSpent > should return 0 for zero budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculatePercentSpent > should return 0 for negative budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculatePercentSpent > should return 0 for zero actual cost 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculatePercentSpent > should handle small percentages 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculatePercentSpent > should handle large percentages 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariancePercent > should calculate positive variance percent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariancePercent > should calculate negative variance percent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariancePercent > should return 0 for zero budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariancePercent > should return 0 for negative budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariancePercent > should handle very small variances 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariancePercent > should handle very large variances 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > determineAlertSeverity > should return critical for >10% variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > determineAlertSeverity > should return warning for 5-10% variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > determineAlertSeverity > should return info for <5% variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > determineAlertSeverity > should handle exactly 10% (critical threshold) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > determineAlertSeverity > should handle exactly 5% (warning threshold) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > determineAlertSeverity > should handle zero variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > shouldTriggerAlert > should not trigger for small variance below minimum 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > shouldTriggerAlert > should trigger line_over_budget for significant overrun 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > shouldTriggerAlert > should trigger line_near_budget when approaching limit 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > shouldTriggerAlert > should not trigger for healthy budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > shouldTriggerAlert > should prioritize over_budget over near_budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > generateVarianceAlert > should generate alert for over budget scenario 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > generateVarianceAlert > should generate alert for near budget scenario 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > generateVarianceAlert > should return null for healthy budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > generateVarianceAlert > should return null for small variance below minimum 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > generateVarianceAlert > should handle zero budget gracefully 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVarianceTrend > should return stable for single data point 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVarianceTrend > should return stable for empty data 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVarianceTrend > should return improving for increasing variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVarianceTrend > should return declining for decreasing variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVarianceTrend > should return stable for flat variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVarianceTrend > should use only last 5 data points 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > aggregateDivisionVariance > should aggregate single division correctly 1ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > aggregateDivisionVariance > should aggregate multiple divisions correctly 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > aggregateDivisionVariance > should handle empty budget array 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > aggregateDivisionVariance > should handle division with zero budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Commitment Variance > committed vs actual variance > should calculate under-committed scenario 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Commitment Variance > committed vs actual variance > should calculate over-committed scenario 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Commitment Variance > committed vs actual variance > should calculate exposure (uncommitted budget) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Commitment Variance > committed vs actual variance > should identify over-commitment 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Commitment Variance > forecast vs budget variance > should calculate positive forecast variance (under forecast) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Commitment Variance > forecast vs budget variance > should calculate negative forecast variance (over forecast) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Commitment Variance > forecast vs budget variance > should calculate forecast variance percent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Project-Level Variance > total project variance calculation > should sum all line item variances 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Project-Level Variance > total project variance calculation > should calculate weighted variance percent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Project-Level Variance > project variance thresholds > should classify project as critical when >5% over 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Project-Level Variance > project variance thresholds > should classify project as warning when 3-5% over 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Project-Level Variance > project variance thresholds > should classify project as info when <3% variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Project-Level Variance > contingency consumption > should calculate contingency usage percent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Project-Level Variance > contingency consumption > should alert when contingency exceeds threshold 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Project-Level Variance > contingency consumption > should calculate remaining contingency 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Summary > alert aggregation > should count alerts by severity 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Summary > alert aggregation > should calculate total overrun amount 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Summary > alert aggregation > should count lines over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Summary > alert aggregation > should generate complete summary 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > precision handling > should handle floating point precision for percent calculations 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > precision handling > should handle very small decimal variances 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > precision handling > should round currency appropriately 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > negative value handling > should handle negative original budget (credit) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > negative value handling > should handle negative actual costs (refunds) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > negative value handling > should calculate variance percent with negative budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > boundary conditions > should handle exactly at warning threshold 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > boundary conditions > should handle exactly at critical threshold 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > boundary conditions > should handle exactly at minimum variance amount 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > boundary conditions > should handle 100% percent spent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > boundary conditions > should handle 0% percent spent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > large number handling > should handle multi-million dollar budgets 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > large number handling > should handle very small percentages on large budgets 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > null and undefined handling > should default null values to zero in calculations 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > null and undefined handling > should handle undefined in variance calculation 1ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Commercial Office Building - Full Budget Analysis > should calculate total project variance 1ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Commercial Office Building - Full Budget Analysis > should identify divisions over budget 2ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Commercial Office Building - Full Budget Analysis > should calculate worst performing division 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Commercial Office Building - Full Budget Analysis > should calculate best performing division 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Residential Development - Multi-Unit Analysis > should calculate per-unit variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Residential Development - Multi-Unit Analysis > should calculate average variance per unit 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Residential Development - Multi-Unit Analysis > should identify units requiring attention 1ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Infrastructure Project - Phased Variance > should calculate variance for completed phases only 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Infrastructure Project - Phased Variance > should calculate percent complete by cost 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Infrastructure Project - Phased Variance > should project final cost based on current performance 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScore > should give max score to low bid 3ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScore > should calculate proportional score for higher bids 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScore > should handle double the low bid 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScore > should return 0 when low bid is 0 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScore > should not exceed max score 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScoreWithThreshold > should give full score within threshold 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScoreWithThreshold > should reduce score beyond threshold 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScoreWithThreshold > should give full score to low bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScoreWithThreshold > should give reduced score at threshold boundary 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScoreBestValue > should give max score at or below average 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScoreBestValue > should reduce score above average 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScoreBestValue > should give 0 score at 20% above average 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > scoreCriterion > should calculate weighted score 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > scoreCriterion > should handle perfect score 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > scoreCriterion > should handle zero score 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > scoreCriterion > should cap score at max 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > scoreCriterion > should handle negative scores 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > evaluateCriteria > should evaluate all criteria 2ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > evaluateCriteria > should default to 0 for missing scores 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > evaluateCriteria > should include notes when provided 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateTechnicalScore > should calculate weighted average 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateTechnicalScore > should return 0 for empty scores 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateTechnicalScore > should return 0 when total weight is 0 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateTechnicalScore > should handle perfect score 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > checkQualifications > should pass all checks for qualified bid 2ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > checkQualifications > should fail years of experience check 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > checkQualifications > should fail similar projects check 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > checkQualifications > should disqualify for missing bid bond 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > checkQualifications > should disqualify for late submission 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > checkQualifications > should fail workload check 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > checkQualifications > should pass with no requirements 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateQualificationScore > should return max score for all passed checks 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateQualificationScore > should calculate proportional score 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateQualificationScore > should return 0 for all failed checks 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateQualificationScore > should return max score when no checks 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateOverallScore > should calculate weighted overall score 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateOverallScore > should use default weights 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateOverallScore > should handle perfect scores 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateOverallScore > should handle zero scores 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateOverallScore > should handle custom weights 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > evaluateBid > should recommend award for excellent bid 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > evaluateBid > should recommend rejection for disqualified bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > evaluateBid > should recommend shortlist for good bid 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > evaluateBid > should identify strengths and weaknesses 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > evaluateAndRankBids > should evaluate and rank multiple bids 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > breakTie > should break tie by price 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > breakTie > should break tie by technical when price tied 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > breakTie > should use custom priority order 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > resolveTies > should resolve ties in results 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > generateRecommendation > should recommend top ranked qualified bid 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > generateRecommendation > should handle no qualified bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > generateRecommendation > should note when low price differs from recommendation 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > generateRecommendation > should note close competition 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > Real-World Evaluation Scenarios > should evaluate electrical subcontractor bids 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > Real-World Evaluation Scenarios > should handle cost-plus bid evaluation 3ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CPI (Cost Performance Index) Calculations > calculateCPI > should return 1.0 when project is on budget 3ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CPI (Cost Performance Index) Calculations > calculateCPI > should return < 1 when project is over budget 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CPI (Cost Performance Index) Calculations > calculateCPI > should return > 1 when project is under budget 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CPI (Cost Performance Index) Calculations > calculateCPI > should handle zero actual cost with positive earned value 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CPI (Cost Performance Index) Calculations > calculateCPI > should handle zero actual cost with zero earned value 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CPI (Cost Performance Index) Calculations > calculateCPI > should handle very small actual cost 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CPI (Cost Performance Index) Calculations > calculateCPI > should calculate correctly for small values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CPI (Cost Performance Index) Calculations > calculateCPI > should calculate correctly for large values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > SPI (Schedule Performance Index) Calculations > calculateSPI > should return 1.0 when project is on schedule 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > SPI (Schedule Performance Index) Calculations > calculateSPI > should return < 1 when project is behind schedule 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > SPI (Schedule Performance Index) Calculations > calculateSPI > should return > 1 when project is ahead of schedule 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > SPI (Schedule Performance Index) Calculations > calculateSPI > should handle zero planned value with positive earned value 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > SPI (Schedule Performance Index) Calculations > calculateSPI > should handle zero planned value with zero earned value 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > SPI (Schedule Performance Index) Calculations > calculateSPI > should handle project start (low values) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CSI (Cost-Schedule Index) Calculations > calculateCSI > should return 1.0 when both CPI and SPI are 1.0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CSI (Cost-Schedule Index) Calculations > calculateCSI > should correctly multiply CPI and SPI 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CSI (Cost-Schedule Index) Calculations > calculateCSI > should identify critical projects (CSI < 0.8) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CSI (Cost-Schedule Index) Calculations > calculateCSI > should identify healthy projects (CSI >= 1.0) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CSI (Cost-Schedule Index) Calculations > calculateCSI > should handle edge cases 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Cost Variance (CV) Calculations > calculateCV > should return 0 when on budget 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Cost Variance (CV) Calculations > calculateCV > should return negative when over budget 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Cost Variance (CV) Calculations > calculateCV > should return positive when under budget 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Cost Variance (CV) Calculations > calculateCV > should handle zero values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Cost Variance (CV) Calculations > calculateCVPercent > should return 0% when CV is 0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Cost Variance (CV) Calculations > calculateCVPercent > should calculate percentage correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Cost Variance (CV) Calculations > calculateCVPercent > should handle zero EV 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Variance (SV) Calculations > calculateSV > should return 0 when on schedule 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Variance (SV) Calculations > calculateSV > should return negative when behind schedule 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Variance (SV) Calculations > calculateSV > should return positive when ahead of schedule 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Variance (SV) Calculations > calculateSVPercent > should calculate percentage correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Variance (SV) Calculations > calculateSVPercent > should handle zero PV 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEAC > should equal BAC when CPI is 1.0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEAC > should exceed BAC when CPI < 1 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEAC > should be less than BAC when CPI > 1 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEAC > should return Infinity when CPI is 0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEAC > should return 0 when CPI is Infinity 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEAC > should calculate for various CPI values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEACWithSPI > should factor in both CPI and SPI 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEACWithSPI > should return Infinity when CSI is 0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEACWithSPI > should handle Infinity CSI 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > ETC (Estimate to Complete) Calculations > calculateETC > should calculate remaining cost correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > ETC (Estimate to Complete) Calculations > calculateETC > should return Infinity when EAC is Infinity 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > ETC (Estimate to Complete) Calculations > calculateETC > should handle zero AC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > ETC (Estimate to Complete) Calculations > calculateETC > should return negative when over-spent 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > VAC (Variance at Completion) Calculations > calculateVAC > should return 0 when EAC equals BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > VAC (Variance at Completion) Calculations > calculateVAC > should return negative when EAC exceeds BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > VAC (Variance at Completion) Calculations > calculateVAC > should return positive when EAC is less than BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > VAC (Variance at Completion) Calculations > calculateVAC > should return -Infinity when EAC is Infinity 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > VAC (Variance at Completion) Calculations > calculateVACPercent > should calculate percentage correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > VAC (Variance at Completion) Calculations > calculateVACPercent > should handle zero BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > VAC (Variance at Completion) Calculations > calculateVACPercent > should handle -Infinity VAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_BAC > should return 1.0 when on budget and on schedule 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_BAC > should return > 1 when over budget (harder to achieve) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_BAC > should return < 1 when under budget (easier to achieve) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_BAC > should return Infinity when no budget remaining 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_BAC > should return Infinity when already over budget 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_BAC > should return 0 when work is complete 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_EAC > should calculate performance needed to meet revised estimate 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_EAC > should return Infinity when EAC - AC = 0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_EAC > should return Infinity when EAC - AC < 0 (remaining budget negative) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_EAC > should handle EAC = Infinity 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_EAC > should be easier to achieve than TCPI_BAC when over budget 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculateEstimatedDuration > should equal planned when SPI is 1.0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculateEstimatedDuration > should exceed planned when SPI < 1 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculateEstimatedDuration > should be less than planned when SPI > 1 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculateEstimatedDuration > should return Infinity when SPI is 0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculateEstimatedDuration > should return 0 when SPI is Infinity 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculatePercentCompletePlanned > should calculate correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculatePercentCompletePlanned > should handle zero BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculatePercentCompleteActual > should calculate correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculatePercentCompleteActual > should handle zero BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculatePercentSpent > should calculate correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculatePercentSpent > should handle zero BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculatePercentSpent > should allow over 100% (overspending) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getPerformanceStatus > should return excellent for CPI >= 1.05 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getPerformanceStatus > should return good for CPI >= 1.0 and < 1.05 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getPerformanceStatus > should return fair for CPI >= 0.95 and < 1.0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getPerformanceStatus > should return poor for CPI >= 0.90 and < 0.95 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getPerformanceStatus > should return critical for CPI < 0.90 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getPerformanceStatus > should handle edge cases 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getPerformanceStatus > should work for SPI with same thresholds 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getOverallStatus > should return the worse of CPI and SPI status 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getOverallStatus > should identify critical projects 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should calculate all metrics correctly for on-budget project 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should calculate all metrics correctly for over-budget project 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should calculate all metrics correctly for under-budget project 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should handle critical project scenario 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should cap Infinity values for display 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should cap EAC/ETC at 10x budget when CPI is 0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should cap VAC at -9x budget when EAC is Infinity 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should cap TCPI values at 999 when budget is exhausted 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should cap estimated duration at 10x planned when SPI is 0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should cap CSI at 999 when CPI or SPI is Infinity 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should include all required fields 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should return empty array for valid inputs 2ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should catch negative BAC 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should catch negative PV 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should catch negative EV 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should catch negative AC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should catch EV exceeding BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should catch non-positive planned duration 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should catch negative actual duration 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should return multiple errors 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > safeDivide > should divide normally for valid inputs 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > safeDivide > should return default for zero denominator 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > safeDivide > should return default for non-finite inputs 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > roundTo > should round to specified decimal places 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > roundTo > should handle non-finite values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Edge Cases > Project at start (no work done) > should handle zero EV, AC, PV 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Edge Cases > Project completion > should handle 100% complete 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Edge Cases > Project completion > should handle completion under budget 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Edge Cases > Very large numbers > should handle billion-dollar projects 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Edge Cases > Very small numbers > should handle small budget projects 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Edge Cases > Fractional values > should handle decimal currency amounts 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should correctly group cost codes by division 24ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should sort results by division code 2ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should sum BAC correctly for each division 2ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should sum PV, EV, AC correctly 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should calculate CPI correctly from aggregated values 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should calculate SPI correctly from aggregated values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should calculate CV and SV correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should count cost codes per division 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should handle empty input 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should handle single cost code 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > calculateDivisionMetrics > should return empty metrics for empty input 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > calculateDivisionMetrics > should calculate percent complete correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > calculateDivisionMetrics > should assign correct performance status 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > createEmptyDivisionMetrics > should create metrics with all zeros 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateWeightedCPI > should weight by BAC correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateWeightedCPI > should give more weight to larger budget items 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateWeightedCPI > should handle empty array 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateWeightedCPI > should handle zero BAC items 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateWeightedCPI > should handle infinite CPI values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateWeightedSPI > should weight by BAC correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateWeightedSPI > should handle empty array 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateEVWeightedCPI > should weight by earned value 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateEVWeightedCPI > should handle zero EV items 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateACWeightedCPI > should weight by actual cost 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateACWeightedCPI > should handle zero AC items 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should calculate EAC variants for each division 2ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should calculate EAC_CPI correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should calculate EAC_CSI correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should calculate VAC and percentVariance correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should handle zero CPI gracefully 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should handle non-finite EAC values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should handle zero SPI separately from zero CPI 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should calculate variance percentage as 0 when BAC is 0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should handle VAC being non-finite 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should handle Infinity CPI (BAC/Infinity = 0) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should handle NaN CPI (falls back to BAC) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > findProblematicDivisions > should identify divisions below threshold 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > findProblematicDivisions > should sort by CSI (worst first) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > findProblematicDivisions > should return empty array if all divisions perform well 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > findProblematicDivisions > should use custom thresholds 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > findTopVarianceContributors > should sort by absolute CV value 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > findTopVarianceContributors > should include both positive and negative variances 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > calculateProjectTotalsFromDivisions > should sum all division values correctly 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > calculateProjectTotalsFromDivisions > should calculate project-level indices correctly 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > calculateProjectTotalsFromDivisions > should handle empty array 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > calculateProjectTotalsFromDivisions > should handle non-finite project indices 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > compareDivisionToProject > should calculate variance from project correctly 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > compareDivisionToProject > should assign correct performance rating 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > compareDivisionToProject > should identify below-average performance 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > compareDivisionToProject > should assign good rating when slightly above project average 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > compareDivisionToProject > should assign average rating when slightly below project average 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > compareDivisionToProject > should assign below-average rating when moderately below project average 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Edge Cases > should handle division with zero budget 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Edge Cases > should handle division with zero work done 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Edge Cases > should handle single cost code per division 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Edge Cases > should handle many cost codes in single division 1ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate all key 3ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate project key 1ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate average key without filters 1ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate average key with filters 1ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate byPriority key 1ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate byAssignee key 0ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate distribution key 0ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate trends key 0ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate complete key 0ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useAverageResponseTime > should not fetch when projectId is undefined 36ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useAverageResponseTime > should fetch average response time for valid projectId 67ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useAverageResponseTime > should pass filters to service 71ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should fetch all templates without filters 6ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should apply company_id filter 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should apply category filter 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should apply template_level filter 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should apply is_system_template filter 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should apply tags filter 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should apply search filter 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should handle database error 3ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should return data as array when successful 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplate > should fetch single template by ID 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplate > should handle database error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplateWithItems > should fetch template with items 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplateWithItems > should handle error when template not found 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > createTemplate > should create new template 3ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > createTemplate > should handle insert error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > updateTemplate > should update template 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > updateTemplate > should handle update error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > deleteTemplate > should soft delete template 6ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > deleteTemplate > should handle delete error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > duplicateTemplate > should duplicate template with items 3ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > duplicateTemplate > should handle duplication error 4ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplateItems > should fetch template items 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplateItems > should handle database error 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > createTemplateItem > should create template item 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > createTemplateItem > should handle insert error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > updateTemplateItem > should update template item 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > updateTemplateItem > should handle update error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > deleteTemplateItem > should soft delete template item 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > deleteTemplateItem > should handle delete error 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > reorderTemplateItems > should reorder multiple items 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > reorderTemplateItems > should handle empty array 3ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > reorderTemplateItems > should handle error during reorder 4ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should fetch all executions without filters 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should apply project_id filter 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should apply status filter 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should apply category filter 3ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should apply inspector_user_id filter 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should apply is_completed filter 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should apply date_from filter 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should apply date_to filter 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should handle database error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecution > should fetch single execution by ID 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecution > should handle error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutionWithResponses > should fetch execution with responses 3ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutionWithResponses > should handle error when execution not found 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > createExecution > should create new execution with defaults 4ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > createExecution > should handle insert error 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > updateExecution > should update execution 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > updateExecution > should handle update error 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should get all equipment for a company 6ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should filter by equipment_type (single) 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should filter by equipment_type (multiple) 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should filter by category 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should filter by status 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should filter by ownership_type 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should filter by current_project_id 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should search equipment by multiple fields 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should handle database errors 2ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should return empty array when no data 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipmentById > should get equipment with all details 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipmentById > should handle not found error 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > createEquipment > should create equipment with required fields 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > createEquipment > should create equipment with all optional fields 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > createEquipment > should handle user company not found 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > createEquipment > should handle creation errors 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > updateEquipment > should update equipment fields 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > updateEquipmentStatus > should update equipment status 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > deleteEquipment > should soft delete equipment 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > deleteEquipment > should handle deletion errors 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipmentStatistics > should calculate comprehensive statistics 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipmentStatistics > should calculate utilization rate 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipmentStatistics > should return default stats when no equipment 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getAvailableEquipment > should get only available equipment 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentAssignmentsApi > getAssignments > should get assignments for equipment 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentAssignmentsApi > getProjectEquipment > should get active equipment for project 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentAssignmentsApi > assignEquipment > should assign equipment to project 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentAssignmentsApi > assignEquipment > should assign with optional fields 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentAssignmentsApi > updateAssignment > should update assignment 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentAssignmentsApi > returnEquipment > should complete assignment and update equipment status 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentAssignmentsApi > returnEquipment > should use current date if not provided 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentLogsApi > getLogs > should get logs with filters 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentLogsApi > getLogs > should filter by date range 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentLogsApi > createLog > should create log entry 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentLogsApi > getTotalHours > should calculate total hours for date range 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentLogsApi > getTotalHours > should return 0 when no logs 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentLogsApi > postCostToTransaction > should post equipment cost via RPC 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentLogsApi > batchPostCosts > should batch post costs and return results 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentMaintenanceApi > getMaintenance > should get maintenance records with filters 2ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentMaintenanceApi > scheduleMaintenance > should schedule maintenance 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentMaintenanceApi > completeMaintenance > should complete maintenance with details 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentMaintenanceApi > completeMaintenance > should use current date if not provided 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentMaintenanceApi > cancelMaintenance > should cancel maintenance 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentMaintenanceApi > getUpcomingMaintenance > should get maintenance scheduled in next 30 days 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentInspectionsApi > getInspections > should get inspections for equipment 2ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentInspectionsApi > createInspection > should create inspection 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentInspectionsApi > getLatestInspection > should get most recent inspection 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentInspectionsApi > getLatestInspection > should return null when no inspections exist 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should get action items with default ordering 7ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by project_id 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by meeting_id 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by single status 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by multiple statuses 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by priority 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by category 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by assigned_to 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by assigned_company 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by urgency_status 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter items with tasks 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter items without tasks 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter overdue_only items 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter escalated_only items 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should support search by title and description 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should support pagination with limit 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should support pagination with offset 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should handle database errors 2ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should return empty array when no data 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItem > should get a single action item by ID 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItem > should return null when item not found (PGRST116) 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItem > should throw on other database errors 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > createActionItem > should create action item with required fields 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > createActionItem > should create action item with all optional fields 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > createActionItem > should handle creation errors 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > updateActionItem > should update action item fields 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > updateActionItem > should handle update errors 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > deleteActionItem > should delete action item 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > deleteActionItem > should handle deletion errors 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Status & Resolution > updateActionItemStatus > should update status to in_progress 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Status & Resolution > updateActionItemStatus > should auto-set resolution when completing 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Status & Resolution > updateActionItemStatus > should handle status update errors 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Status & Resolution > resolveActionItem > should resolve item as completed 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Status & Resolution > resolveActionItem > should resolve item as deferred 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Status & Resolution > resolveActionItem > should handle resolution errors 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > linkActionItem > should link to task 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > linkActionItem > should link to RFI 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > linkActionItem > should link to constraint 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > linkActionItem > should link to change order 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > linkActionItem > should handle linking errors 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > unlinkActionItem > should unlink task 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > unlinkActionItem > should unlink RFI 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > convertToTask > should convert action item to task via RPC 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > convertToTask > should handle conversion errors 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > carryoverActionItems > should carryover all items from source meeting 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > carryoverActionItems > should carryover specific items 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > carryoverActionItems > should handle carryover errors 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getProjectSummary > should get project action item summary 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getProjectSummary > should return null when no summary found 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getItemsByAssignee > should get items grouped by assignee 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getOverdueItems > should get overdue items 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getOverdueItems > should filter overdue by project 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getItemsDueSoon > should get items due today or soon 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getEscalatedItems > should get escalated items 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getStatusCounts > should count items by status 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getStatusCounts > should handle empty project 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > calculateEscalationLevel > should return level 0 for items not overdue 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > calculateEscalationLevel > should return level 1 for 3+ days overdue 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > calculateEscalationLevel > should return level 2 for 7+ days overdue 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > calculateEscalationLevel > should return level 3 for 14+ days overdue 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > calculateEscalationLevel > should use custom config 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > escalateActionItem > should escalate item to next level 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > escalateActionItem > should handle not found item 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > getEscalationStats > should calculate escalation statistics 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > getEscalationStats > should query all projects when no projectId 2ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetings > should get all meetings with default filters 7ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetings > should filter meetings by project_id 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetings > should filter meetings by meeting_type 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetings > should filter meetings by status 0ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetings > should filter meetings by date range 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetings > should search meetings by title and description 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetings > should handle database errors 3ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetings > should return empty array when no data 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetingById > should get a single meeting by ID 2ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetingById > should handle not found error 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetingWithDetails > should get meeting with all related data 4ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > createMeeting > should create a new meeting with required fields 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > createMeeting > should create meeting with all optional fields 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > createMeeting > should handle creation errors 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > updateMeeting > should update meeting fields 2ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > updateMeeting > should update timestamp 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > publishMinutes > should publish meeting minutes 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > deleteMeeting > should soft delete meeting 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > deleteMeeting > should handle deletion errors 2ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getUpcomingMeetings > should get upcoming meetings with default limit 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getUpcomingMeetings > should filter by project_id 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getUpcomingMeetings > should only include future meetings 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingNotesApi > getNotes > should get notes for a meeting 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingNotesApi > createNote > should create a note with required fields 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingNotesApi > createNote > should create note with all fields 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingNotesApi > updateNote > should update note content 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingNotesApi > deleteNote > should delete a note 0ms
 ✓ src/lib/api/services/meetings.test.ts > meetingNotesApi > reorderNotes > should reorder notes 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingActionItemsApi > getActionItems > should get action items for a meeting 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingActionItemsApi > createActionItem > should create action item with defaults 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingActionItemsApi > completeActionItem > should complete action item and set completion date 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingActionItemsApi > convertToTask > should convert action item to task 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttendeesApi > getAttendees > should get attendees ordered by required then name 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttendeesApi > addAttendee > should add attendee with default status 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttendeesApi > markAttendance > should mark attendee as attended 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttendeesApi > markAttendance > should mark attendee as absent 0ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttendeesApi > removeAttendee > should delete attendee 0ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttendeesApi > addProjectUsersAsAttendees > should add all project users as attendees 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttendeesApi > addProjectUsersAsAttendees > should return empty array if no project users 0ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttachmentsApi > getAttachments > should get attachments ordered by created_at desc 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttachmentsApi > addAttachment > should add attachment with default type 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttachmentsApi > deleteAttachment > should delete attachment 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttachmentsApi > uploadAndAttach > should upload file and create attachment record 4ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttachmentsApi > uploadAndAttach > should handle upload errors 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttachmentsApi > uploadAndAttach > should require authentication 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > submitExecution > should submit execution with timestamps 3ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > submitExecution > should handle submit error 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > deleteExecution > should soft delete execution 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > deleteExecution > should handle delete error 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getResponses > should fetch responses for execution 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getResponses > should handle database error 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > createResponse > should create response 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > createResponse > should handle insert error 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > updateResponse > should update response 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > updateResponse > should handle update error 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > deleteResponse > should delete response 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > deleteResponse > should handle delete error 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > batchCreateResponses > should batch create responses 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > batchCreateResponses > should handle batch insert error 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutionScore > should calculate execution score from responses 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutionScore > should return zero scores when no responses 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutionScore > should handle all NA responses 1ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate base key 2ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate list keys 1ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate list key with filters 1ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate detail keys 1ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate history key 0ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate template keys 0ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate template list key with filters 0ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate requirements keys 0ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate summary key 0ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate missing key 0ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignConnectionStatus > should fetch connection status successfully 106ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignConnectionStatus > should handle errors when fetching connection status 75ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignConnectionStatus > should not fetch when company_id is missing 5ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignConnectionStatus > should have correct staleTime configuration 5ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaivers > should fetch lien waivers 126ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaivers > should apply filters 26ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should calculate response time correctly for same day response 2ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should calculate response time correctly for 1 day 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should calculate response time correctly for multiple days 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should handle month boundary correctly 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should handle year boundary correctly 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should return null when submitted date is null 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should return null when responded date is null 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should return null when both dates are null 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should handle Date objects as input 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should handle ISO date strings with times 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should handle negative response time (responded before submitted - edge case) 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateBusinessDays > should calculate business days excluding weekends 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateBusinessDays > should exclude Saturday and Sunday 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateBusinessDays > should return 0 for same day (exclusive end) 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateBusinessDays > should handle weekend only span 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateBusinessDays > should handle multiple weeks correctly 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateBusinessDays > should handle Saturday as start 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > isResponseOnTime > should return true when response is within required days 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > isResponseOnTime > should return true when response is exactly on required days 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > isResponseOnTime > should return false when response exceeds required days 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > isResponseOnTime > should return null when submitted date is null 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > isResponseOnTime > should return null when responded date is null 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > isResponseOnTime > should use priority-specific threshold when provided 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > isResponseOnTime > should return true for same day response 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateDaysOverdue > should return negative number when response is early 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateDaysOverdue > should return zero when response is exactly on time 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateDaysOverdue > should return positive number when response is late 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateDaysOverdue > should use current date when responded date is null (pending RFI) 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateDaysOverdue > should return 0 when submitted date is null 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMean > should calculate mean correctly 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMean > should return 0 for empty array 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMean > should handle single value 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMean > should handle decimal values 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMean > should handle large values 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMedian > should calculate median for odd number of values 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMedian > should calculate median for even number of values 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMedian > should return 0 for empty array 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMedian > should handle single value 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMedian > should handle unsorted input 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMedian > should not modify original array 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should calculate 50th percentile (median) 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should calculate 25th percentile 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should calculate 75th percentile 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should calculate 90th percentile 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should return 0 for empty array 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should return min value for 0th percentile 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should return max value for 100th percentile 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should throw error for percentile < 0 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should throw error for percentile > 100 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateStandardDeviation > should calculate standard deviation correctly 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateStandardDeviation > should return 0 for empty array 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateStandardDeviation > should return 0 for single value 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateStandardDeviation > should return 0 for identical values 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateStatistics > should calculate all statistics correctly 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateStatistics > should return zeros for empty array 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateStatistics > should handle single value 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentiles > should calculate all percentiles correctly 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentiles > should handle small datasets 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Performance Rating > getPerformanceRating > should return excellent for >= 95% on-time 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Performance Rating > getPerformanceRating > should return good for >= 85% and < 95% 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Performance Rating > getPerformanceRating > should return average for >= 70% and < 85% 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Performance Rating > getPerformanceRating > should return needs_improvement for < 70% 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Performance Rating > getPerformanceRating > should use custom thresholds when provided 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > determineTrendDirection > should return improving when response times decrease significantly 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > determineTrendDirection > should return declining when response times increase significantly 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > determineTrendDirection > should return stable when change is within threshold 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > determineTrendDirection > should use custom threshold when provided 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > determineTrendDirection > should handle boundary values 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > calculateMovingAverage > should calculate moving average correctly 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > calculateMovingAverage > should return all nulls when window size exceeds array length 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > calculateMovingAverage > should handle window size of 1 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > calculateMovingAverage > should handle empty array 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Distribution Buckets > createDistributionBuckets > should create default buckets with correct counts 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Distribution Buckets > createDistributionBuckets > should calculate percentages correctly 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Distribution Buckets > createDistributionBuckets > should handle empty array 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Distribution Buckets > createDistributionBuckets > should use custom buckets when provided 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Date Helpers > getDayOfWeekName > should return correct day names 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Date Helpers > getDayOfWeekName > should return Unknown for invalid day number 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Date Helpers > getMonthName > should return correct month names 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Date Helpers > getMonthName > should return Unknown for invalid month number 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Date Helpers > getDateRangeFromPreset > should return correct range for last_7_days 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Date Helpers > getDateRangeFromPreset > should return correct range for last_30_days 2ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Date Helpers > getDateRangeFromPreset > should return correct range for all_time 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Date Helpers > getDateRangeFromPreset > should default to all_time for unknown preset 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Same day responses > should count as 0 days response time 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Same day responses > should be considered on time 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Same day responses > should show negative days overdue (early) 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Very long response times > should handle 100+ day response times 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Very long response times > should correctly classify as late 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Very long response times > should calculate correct days overdue 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Leap year handling > should handle February 29 in leap year 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Leap year handling > should handle non-leap year February 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Timezone edge cases > should normalize times for consistent day calculation 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Zero required response days > should handle 0 required days threshold 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Statistical edge cases > should handle all identical values 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Statistical edge cases > should handle very large dataset 5ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Statistical edge cases > should handle negative values (theoretical edge case) 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Statistical edge cases > should handle decimal precision 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Complete Analytics Scenarios > Healthy project scenario > should show positive metrics for on-time responses 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Complete Analytics Scenarios > Problematic project scenario > should identify issues with late responses 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Complete Analytics Scenarios > Priority-based analysis > should identify priority-specific performance issues 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Complete Analytics Scenarios > Trend detection > should detect improving trend when response times decrease 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Complete Analytics Scenarios > Trend detection > should detect declining trend when response times increase 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Complete Analytics Scenarios > Assignee comparison > should correctly rank assignees by performance 1ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useInitiateDocuSignConnection > should initiate connection and redirect to authorization URL 71ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaiver > should fetch single lien waiver by ID 100ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaiver > should not fetch when id is empty 4ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaiverHistory > should fetch waiver history 58ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItems > should fetch action items successfully 115ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useInitiateDocuSignConnection > should show error toast on failure 77ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCompleteDocuSignConnection > should complete connection successfully 74ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItems > should fetch action items with filters 106ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaiverTemplates > should fetch templates without filters 89ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaiverTemplates > should apply template filters 29ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCompleteDocuSignConnection > should show error toast on failure 70ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItems > should handle error when fetching action items fails 109ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItems > should use correct query key with filters 1ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItems > should fetch with multiple status filters 95ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaiverTemplate > should fetch single template by ID 86ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaiverRequirements > should fetch requirements for a project 66ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaiverRequirements > should fetch company-wide requirements when no projectId 7ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useProjectWaiverSummary > should calculate waiver summary from waiver data 14ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useRefreshDocuSignToken > should refresh token successfully 69ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useRefreshDocuSignToken > should show error toast on failure 69ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > ShareIcon > renders SVG with correct attributes 55ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > ShareIcon > applies custom className 13ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > ShareIcon > includes default h-4 w-4 classes 9ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > ShareIcon > renders share icon path elements 16ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItems > should fetch with priority filters 64ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDisconnectDocuSign > should disconnect successfully 70ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDisconnectDocuSign > should show error toast on failure 69ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Basic Rendering > renders all three instruction steps 63ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Basic Rendering > renders numbered step indicators 10ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Basic Rendering > renders Safari requirement info box 35ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Basic Rendering > applies custom className 24ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Header with Close Button > shows header when onClose is provided 20ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useCreateLienWaiver > should create a lien waiver 15ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useUpdateLienWaiver > should update a lien waiver 3ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useDeleteLienWaiver > should soft delete a lien waiver 7ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useSendWaiverRequest > should send waiver request email 6ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useMarkWaiverReceived > should mark waiver as received 15ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useSignWaiver > should record waiver signature 4ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useNotarizeWaiver > should record notarization 7ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useApproveWaiver > should approve a waiver 4ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useRejectWaiver > should reject a waiver with reason 3ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useVoidWaiver > should void a waiver with reason 3ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useCreateLienWaiverTemplate > should create a new template 22ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useUpdateLienWaiverTemplate > should update a template 5ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useCreateLienWaiverRequirement > should create a new requirement 3ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useRenderWaiverTemplate > should render template with placeholder data 4ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useRenderWaiverTemplate > should only replace provided placeholders 3ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > Waiver workflow business logic > should support full waiver lifecycle 1ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > Waiver workflow business logic > should track waiver amounts correctly 1ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > Waiver workflow business logic > should identify overdue waivers 2ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > Waiver workflow business logic > should validate waiver type requirements 1ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > Compliance tracking > should track waiver compliance per payment application 2ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > Compliance tracking > should identify blocking compliance issues 1ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItems > should fetch with search filter 69ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignEnvelopes > should fetch envelopes successfully 74ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItems > should fetch with pagination 105ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useProjectActionItems > should fetch project action items successfully 59ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useProjectActionItems > should not fetch when projectId is undefined 4ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignEnvelopes > should fetch envelopes with filters 82ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignEnvelopes > should handle errors when fetching envelopes 65ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignEnvelopes > should not fetch when company_id is missing 3ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useProjectActionItems > should fetch with extra filters 63ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useProjectActionItems > should handle error when fetching project items fails 66ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignEnvelope > should fetch single envelope successfully 74ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignEnvelope > should not fetch when envelopeDbId is undefined 3ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignEnvelopeByDocument > should fetch envelope by document successfully 69ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignEnvelopeByDocument > should not fetch when parameters are missing 3ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCreateDocuSignEnvelope > should create envelope successfully 79ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItem > should fetch single action item successfully 77ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItem > should not fetch when id is undefined 9ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Header with Close Button > does not show header when onClose is not provided 37ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItem > should handle not found action item 84ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItem > should handle error when fetching action item fails 59ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCreateDocuSignEnvelope > should show error toast on failure 64ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Header with Close Button > calls onClose when close button is clicked 486ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemSummary > should fetch project summary successfully 58ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemSummary > should not fetch when projectId is undefined 3ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemSummary > should handle error when fetching summary fails 68ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useSendDocuSignEnvelope > should send envelope successfully 79ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useSendDocuSignEnvelope > should show error toast on failure 73ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Visibility and Rendering > does not render when conflict is null 42ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Header with Close Button > renders close button with X icon 65ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Compact Mode > applies smaller text classes in compact mode 35ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Compact Mode > uses regular text classes in non-compact mode 8ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Compact Mode > renders smaller step indicators in compact mode 10ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Compact Mode > renders larger step indicators in non-compact mode 9ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemsByAssignee > should fetch items by assignee successfully 67ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemsByAssignee > should not fetch when projectId is undefined 3ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useGetSigningUrl > should get signing URL successfully 78ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Visibility and Rendering > does not render when open is false 131ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Visibility and Rendering > renders dialog when open is true and conflict exists 41ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Visibility and Rendering > applies max width and height classes 37ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemsByAssignee > should handle error when fetching by assignee fails 75ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useOverdueActionItems > should fetch overdue items successfully 77ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Don't Show Again Functionality > shows "don't show again" checkbox by default 99ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Don't Show Again Functionality > hides "don't show again" when showDontShowAgain is false 5ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Don't Show Again Functionality > updates checkbox state when clicked 71ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useGetSigningUrl > should show error toast on failure 81ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useVoidDocuSignEnvelope > should void envelope successfully 71ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Header and Metadata > renders title with alert icon 31ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Header and Metadata > renders description with entity type 26ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Header and Metadata > displays entity type badge 33ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Header and Metadata > displays formatted detected timestamp 32ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useVoidDocuSignEnvelope > should show error toast on failure 70ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useOverdueActionItems > should fetch overdue items for specific project 79ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useOverdueActionItems > should fetch with custom limit 76ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useOverdueActionItems > should handle error when fetching overdue items fails 83ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useResendDocuSignEnvelope > should resend envelope successfully 73ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useResendDocuSignEnvelope > should show error toast on failure 63ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Don't Show Again Functionality > calls onDontShowAgain when checkbox is checked and Close is clicked 225ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemsDueSoon > should fetch items due soon successfully 70ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCreatePaymentApplicationEnvelope > should create payment application envelope successfully 75ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCreatePaymentApplicationEnvelope > should show error toast on failure 67ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Don't Show Again Functionality > does not call onDontShowAgain when checkbox is unchecked and Close is clicked 103ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Don't Show Again Functionality > shows Close button when onClose is provided 57ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Icons and Styling > renders ShareIcon in step 1 9ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Icons and Styling > renders Plus icon in step 2 13ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Icons and Styling > applies dark mode classes to step indicators 10ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Icons and Styling > applies primary colors to info box 6ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemsDueSoon > should fetch items due soon for specific project 72ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemsDueSoon > should handle error when fetching items due soon fails 99ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCreateChangeOrderEnvelope > should create change order envelope successfully 79ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Accessibility > uses ordered list for steps 7ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Accessibility > provides accessible close button label 52ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Accessibility > associates label with checkbox using htmlFor 47ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Header and Metadata > displays number of differing fields 26ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCreateChangeOrderEnvelope > should show error toast on failure 78ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCreateLienWaiverEnvelope > should create lien waiver envelope successfully 70ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useEscalatedActionItems > should fetch escalated items successfully 73ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Visibility and Animation > does not render when shouldShowBanner is false 7ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Visibility and Animation > renders when shouldShowBanner is true 10ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Options > renders three resolution buttons 474ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Options > renders icons in resolution buttons 20ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useAverageResponseTime > should handle errors 3051ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeByPriority > should fetch response time by priority 71ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useEscalatedActionItems > should fetch escalated items for specific project 82ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useEscalatedActionItems > should handle error when fetching escalated items fails 76ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCreateLienWaiverEnvelope > should show error toast on failure 63ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignStats > should fetch envelope statistics successfully 78ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Visibility and Animation > calls trackPromptShown after delay when showing 130ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Visibility and Animation > applies bottom position by default 6ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Visibility and Animation > applies top position when position="top" 23ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Visibility and Animation > applies custom className 21ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Content Rendering > renders logo icon 12ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Content Rendering > renders "Install JobSight" title 7ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Options > defaults to server resolution selected 107ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeByAssignee > should fetch response time by assignee 78ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignStats > should handle errors when fetching stats 66ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignStats > should not fetch when company_id is missing 7ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Content Rendering > renders description with benefits 26ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Content Rendering > renders Install App button with download icon 87ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemStatusCounts > should fetch status counts successfully 84ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemStatusCounts > should not fetch when projectId is undefined 4ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Options > changes selection when Keep Local is clicked 153ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeByResponseType > should fetch response time by response type 74ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeDistribution > should fetch response time distribution 71ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignDashboard > should fetch dashboard data successfully 77ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignDashboard > should handle errors when fetching dashboard 69ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignDashboard > should not fetch when company_id is missing 2ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > docuSignKeys > should generate correct query keys 1ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > Loading States > should show loading state for queries 2ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemStatusCounts > should handle error when fetching status counts fails 98ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useCreateActionItem > should create action item successfully 84ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Content Rendering > renders "Not now" dismiss button 50ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Content Rendering > renders dismiss X button 52ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeTrends > should fetch response time trends 74ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeTrends > should not fetch when date range is incomplete 4ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > Loading States > should show loading state for mutations 67ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Content Rendering > renders "don't show again" checkbox 84ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useCreateActionItem > should invalidate queries after successful creation 79ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useOnTimePerformance > should fetch on-time performance metrics 80ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeByDayOfWeek > should fetch response time by day of week 81ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Install Flow - Non-iOS > calls promptInstall when Install App is clicked on non-iOS 114ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Options > changes selection when Keep Server is clicked 332ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Options > renders manual merge button with tooltip 83ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useCreateActionItem > should handle error when creation fails 81ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUpdateActionItem > should update action item successfully 77ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeByMonth > should fetch response time by month 79ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Tabs > renders three tabs 22ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Tabs > defaults to diff tab 13ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Tabs > renders tab labels 25ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Differences Tab > renders all field differences 25ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Install Flow - Non-iOS > does not show iOS instructions on non-iOS 117ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUpdateActionItem > should invalidate queries after successful update 75ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeRecords > should fetch fastest and slowest response records 75ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useRFIResponseAnalytics > should fetch complete analytics 67ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Differences Tab > displays local and server values for each difference 51ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Differences Tab > skips id and created_at fields 17ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Differences Tab > applies color coding to local and server values 18ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Differences Tab > shows "No differences found" when no differences exist 10ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Differences Tab > renders field names with underscores replaced by spaces 14ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Differences Tab > renders icons for local and server labels 19ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUpdateActionItem > should handle error when update fails 82ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useDeleteActionItem > should delete action item successfully 64ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useRFIResponseMetrics > should combine multiple metrics into one result 83ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useRFIResponseMetrics > should compute isError from individual query states 0ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Install Flow - iOS > shows iOS instructions when Install App is clicked on iOS 146ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Local Version Tab > renders local data as JSON 24ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Local Version Tab > wraps JSON in pre tag for formatting 16ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Server Version Tab > renders server data as JSON 14ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Server Version Tab > wraps JSON in pre tag for formatting 14ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Value Rendering > renders null as "Not set" 12ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Value Rendering > renders undefined as "Not set" 12ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Value Rendering > renders boolean true as "Yes" 12ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Value Rendering > renders boolean false as "No" 11ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useDeleteActionItem > should invalidate all queries after successful deletion 82ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useAssigneePerformance > should return assignee data with computed helpers 75ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useAssigneePerformance > should calculate average on-time percentage 84ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useAssigneePerformance > should filter by assignee IDs when provided 12ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Install Flow - iOS > calls analytics callback when iOS instructions are shown 115ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Value Rendering > renders objects as JSON 11ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Value Rendering > renders strings as-is 17ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Value Rendering > renders numbers as strings 20ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useDeleteActionItem > should handle error when deletion fails 81ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUpdateActionItemStatus > should update status successfully 65ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Install Flow - iOS > does not call promptInstall on iOS 114ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeTrendAnalysis > should return trends with computed helpers 66ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUpdateActionItemStatus > should show completion toast when status is completed 66ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUpdateActionItemStatus > should invalidate queries after status update 76ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Preview > shows local resolution preview when local is selected 137ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Preview > shows server resolution preview when server is selected 17ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeTrendAnalysis > should detect declining trend 66ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeTrendAnalysis > should detect stable trend 75ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeTrendAnalysis > should use specified granularity 8ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUpdateActionItemStatus > should handle error when status update fails 72ms
stderr | src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > Edge Cases > should handle null trends data in useResponseTimeTrendAnalysis
Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["rfi-response-analytics","project","test-project-123","trends",{"endDate":"2025-12-30","startDate":"2025-10-01"},"week"]

 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Preview > shows merge resolution preview when merge is selected 141ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useResolveActionItem > should resolve action item successfully 75ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useResolveActionItem > should invalidate queries after successful resolution 68ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > Edge Cases > should handle empty assignee list in useAssigneePerformance 75ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > Edge Cases > should handle null trends data in useResponseTimeTrendAnalysis 74ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > renders Cancel and Resolve buttons 150ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Dismiss Functionality > calls dismissPrompt when "Not now" is clicked 413ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useResolveActionItem > should handle error when resolution fails 71ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useLinkActionItem > should link action item to task successfully 81ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useLinkActionItem > should link action item to RFI successfully 72ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > calls onOpenChange(false) when Cancel is clicked 148ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getConversations > should fetch conversations for user 7ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getConversations > should apply type filter 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getConversations > should apply project filter 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getConversations > should apply search filter 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getConversations > should apply pagination 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getConversations > should handle errors 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getConversation > should fetch single conversation 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getConversation > should return error if user not a participant 2ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > createConversation > should create group conversation 3ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > createConversation > should add initial participants 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getOrCreateDirectConversation > should call database function 2ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > updateConversation > should update conversation name 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > addParticipants > should add new participants 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > addParticipants > should require creator to add participants 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > removeParticipant > should remove participant as creator 2ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > removeParticipant > should prevent removing self 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > leaveConversation > should allow user to leave 1ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > getMessages > should fetch messages for conversation 1ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > getMessages > should apply before_id filter for pagination 1ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > getMessages > should apply sender filter 1ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > getMessage > should fetch single message 1ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > sendMessage > should send text message 1ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > sendMessage > should extract @mentions from content 2ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > editMessage > should edit message content 2ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > deleteMessage > should soft delete message 1ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > markAsRead > should mark messages as read 1ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > searchMessages > should search messages globally 3ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > searchMessages > should search within specific conversation 1ms
 ✓ src/lib/api/services/messaging.test.ts > Participant Methods > getParticipants > should fetch all participants 1ms
 ✓ src/lib/api/services/messaging.test.ts > Participant Methods > updateParticipant > should update participant settings 1ms
 ✓ src/lib/api/services/messaging.test.ts > Participant Methods > getUnreadCount > should get total unread count 1ms
 ✓ src/lib/api/services/messaging.test.ts > Participant Methods > getUnreadCount > should get conversation-specific unread count 1ms
 ✓ src/lib/api/services/messaging.test.ts > Reaction Methods > addReaction > should add new reaction 1ms
 ✓ src/lib/api/services/messaging.test.ts > Reaction Methods > addReaction > should return existing reaction if duplicate 1ms
 ✓ src/lib/api/services/messaging.test.ts > Reaction Methods > removeReaction > should remove reaction 1ms
 ✓ src/lib/api/services/messaging.test.ts > Error Handling > should handle database errors gracefully 1ms
 ✓ src/lib/api/services/messaging.test.ts > Error Handling > should handle permission errors 1ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useLinkActionItem > should invalidate queries after successful link 82ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useLinkActionItem > should handle error when linking fails 75ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUnlinkActionItem > should unlink action item from task successfully 56ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Dismiss Functionality > calls dismissPrompt when X button is clicked 446ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUnlinkActionItem > should unlink action item from RFI successfully 72ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUnlinkActionItem > should invalidate queries after successful unlink 74ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUnlinkActionItem > should handle error when unlinking fails 77ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useConvertToTask > should convert action item to task successfully 76ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useConvertToTask > should invalidate queries after successful conversion 74ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useConvertToTask > should handle error when conversion fails 70ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useCarryoverActionItems > should carryover action items successfully 63ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useCarryoverActionItems > should handle single item carryover message correctly 74ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Dismiss Functionality > dismisses permanently when "don't show again" is checked 508ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Dark Mode Support > applies dark mode classes to card 7ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Accessibility > provides aria-label for dismiss button 49ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installed State > shows installed state when isInstalled is true 6ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installed State > shows installed state when isStandalone is true 4ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installed State > renders CheckCircle icon in installed state 3ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installed State > shows running in standalone mode status 4ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installed State > shows app version 4ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installed State > applies green border in installed state 7ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useCarryoverActionItems > should carryover specific action items 76ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > iOS Instructions State > shows iOS instructions when clicked on iOS device 92ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useCarryoverActionItems > should invalidate queries after successful carryover 62ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useCarryoverActionItems > should handle error when carryover fails 67ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for all 0ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for lists 0ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for list with filters 0ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for details 0ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for detail with id 0ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for summary 0ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for byAssignee 0ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for overdue 0ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for overdue without project 2ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for dueSoon 0ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for escalated 0ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for statusCounts 0ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > iOS Instructions State > calls analytics callback when iOS instructions are shown 82ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > iOS Instructions State > does not show "don't show again" in iOS instructions 95ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Not Installable State > shows not installable state when not installable and not iOS 13ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Not Installable State > shows "Show Install Prompt" button in not installable state 48ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Not Installable State > calls resetDismissed when "Show Install Prompt" is clicked 68ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Not Installable State > shows supported browsers info 6ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Not Installable State > renders Monitor icon in not installable state 5ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installable State > shows install button when installable on non-iOS 30ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installable State > shows "How to Install" button on iOS 28ms
 × src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > calls resolveConflict with local data when Keep Local is selected 1305ms
   → expected "vi.fn()" to be called with arguments: [ 'conflict-123', …(1) ]

Received: 

  1st vi.fn() call:

@@ -1,7 +1,8 @@
  [
    "conflict-123",
+   "local",
    {
      "created_at": "2024-01-01T00:00:00Z",
      "id": "report-456",
      "notes": "Local notes",
      "status": "draft",


Number of calls: 1


Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"dialog"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-4xl max-h-[90vh]"[39m
          [33mdata-testid[39m=[32m"dialog-content"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"dialog-header"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"flex items-center gap-2"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"h-5 w-5 text-warning"[39m
                [33mdata-testid[39m=[32m"icon-alert-circle"[39m
              [36m>[39m
                [0mAlert[0m
              [36m</span>[39m
              [0mSync Conflict Detected[0m
            [36m</h2>[39m
            [36m<p>[39m
              [0mThe [0m
              [0mdaily_report[0m
              [0m was modified both locally and on the server. Choose which version to keep.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4 text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<span[39m
                [33mdata-testid[39m=[32m"badge"[39m
                [33mdata-variant[39m=[32m"outline"[39m
              [36m>[39m
                [0mdaily_report[0m
              [36m</span>[39m
              [36m<span>[39m
                [0mDetected: [0m
                [0mJan 15, 2024, 5:30 AM[0m
              [36m</span>[39m
              [36m<span>[39m
                [0m3[0m
                [0m field(s) differ[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-3 gap-2"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
                [33mdata-variant[39m=[32m"default"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mdata-testid[39m=[32m"icon-hard-drive"[39m
                [36m>[39m
                  [0mHardDrive[0m
                [36m</span>[39m
                [0mKeep Local[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
                [33mdata-variant[39m=[32m"outline"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mdata-testid[39m=[32m"icon-cloud"[39m
                [36m>[39m
                  [0mCloud[0m
                [36m</span>[39m
                [0mKeep Server[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
                [33mdata-variant[39m=[32m"outline"[39m
                [33mtitle[39m=[32m"Manually select which values to keep for each field"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mdata-testid[39m=[32m"icon-arrow-left-right"[39m
                [36m>[39m
                  [0mMerge[0m
                [36m</span>[39m
                [0mManual Merge[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-default-value[39m=[32m"diff"[39m
              [33mdata-testid[39m=[32m"tabs"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid w-full grid-cols-3"[39m
                [33mdata-testid[39m=[32m"tabs-list"[39m
              [36m>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"tab-trigger-diff"[39m
                  [33mdata-value[39m=[32m"diff"[39m
                [36m>[39m
                  [0mDifferences[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"tab-trigger-local"[39m
                  [33mdata-value[39m=[32m"local"[39m
                [36m>[39m
                  [0mLocal Version[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"tab-trigger-server"[39m
                  [33mdata-value[39m=[32m"server"[39m
                [36m>[39m
                  [0mServer Version[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
                [33mdata-testid[39m=[32m"tab-content-diff"[39m
                [33mdata-value[39m=[32m"diff"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-[400px] w-full rounded-md border p-4"[39m
                  [33mdata-testid[39m=[32m"scroll-area"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-2"[39m
                    [36m>[39m
                      [36m<h4[39m
                        [33mclass[39m=[32m"font-medium text-sm capitalize heading-card"[39m
                      [36m>[39m
                        [0mtitle[0m
                      [36m</h4>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-hard-drive"[39m
                              [36m>[39m
                                [0mHardDrive[0m
                              [36m</span>[39m
                              [0m Local[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-warning-light dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mLocal Report Title[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-cloud"[39m
                              [36m>[39m
                                [0mCloud[0m
                              [36m</span>[39m
                              [0m Server[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mServer Report Title[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-2"[39m
                    [36m>[39m
                      [36m<h4[39m
                        [33mclass[39m=[32m"font-medium text-sm capitalize heading-card"[39m
                      [36m>[39m
                        [0mstatus[0m
                      [36m</h4>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-hard-drive"[39m
                              [36m>[39m
                                [0mHardDrive[0m
                              [36m</span>[39m
                              [0m Local[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-warning-light dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mdraft[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-cloud"[39m
                              [36m>[39m
                                [0mCloud[0m
                              [36m</span>[39m
                              [0m Server[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0msubmitted[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-2"[39m
                    [36m>[39m
                      [36m<h4[39m
                        [33mclass[39m=[32m"font-medium text-sm capitalize heading-card"[39m
                      [36m>[39m
                        [0mnotes[0m
                      [36m</h4>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-hard-drive"[39m
                              [36m>[39m
                                [0mHardDrive[0m
                              [36m</span>[39m
                              [0m Local[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-warning-light dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mLocal notes[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-cloud"[39m
                              [36m>[39m
                                [0mCloud[0m
                              [36m</span>[39m
                              [0m Server[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mServer notes[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tab-content-local"[39m
                [33mdata-value[39m=[32m"local"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-[400px] w-full rounded-md border p-4"[39m
                  [33mdata-testid[39m=[32m"scroll-area"[39m
                [36m>[39m
                  [36m<pre[39m
                    [33mclass[39m=[32m"text-xs whitespace-pre-wrap"[39m
                  [36m>[39m
                    [0m{
  "id": "report-456",
  "title": "Local Report Title",
  "status": "draft",
  "notes": "Local notes",
  "created_at": "2024-01-01T00:00:00Z"
}[0m
                  [36m</pre>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tab-content-server"[39m
                [33mdata-value[39m=[32m"server"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-[400px] w-full rounded-md border p-4"[39m
                  [33mdata-testid[39m=[32m"scroll-area"[39m
                [36m>[39m
                  [36m<pre[39m
                    [33mclass[39m=[32m"text-xs whitespace-pre-wrap"[39m
                  [36m>[39m
                    [0m{
  "id": "report-456",
  "title": "Server Report Title",
  "status": "submitted",
  "notes": "Server notes",
  "created_at": "2024-01-01T00:00:00Z"
}[0m
                  [36m</pre>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-muted p-3 rounded-md"[39m
            [36m>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm font-medium mb-1"[39m
              [36m>[39m
                [0mResolution Preview:[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
              [36m>[39m
                [0mThe local changes will be kept and synced to the server, overwriting the server version.[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"dialog-footer"[39m
          [36m>[39m
            [36m<button[39m
              [33mdata-variant[39m=[32m"outline"[39m
            [36m>[39m
              [0mCancel[0m
            [36m</button>[39m
            [36m<button>[39m
              [0mResolve Conflict[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installable State > calls promptInstall when Install App is clicked on non-iOS 91ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installable State > renders logo icon on non-iOS 4ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installable State > renders smartphone icon on iOS 5ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installable State > shows benefits description 4ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Styling > applies custom className 5ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Styling > applies primary border in installable state 3ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Visibility > does not render when not installable 2ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Visibility > does not render when dismissed 2ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Visibility > renders when installable and not dismissed 19ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Button Rendering > renders download icon 6ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Button Rendering > renders pulse indicator dot 10ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Button Rendering > applies custom className 3ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Install Flow - Non-iOS > calls promptInstall when clicked on non-iOS 57ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Install Flow - Non-iOS > does not show tooltip on non-iOS 69ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Install Flow - iOS > shows iOS instructions tooltip when clicked on iOS 70ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Install Flow - iOS > calls analytics callback when iOS tooltip is shown 63ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Install Flow - iOS > does not call promptInstall on iOS 61ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Install Flow - iOS > renders compact iOS instructions in tooltip 66ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Install Flow - iOS > allows dismissing iOS tooltip permanently 250ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Accessibility > provides aria-label for install button 17ms
 × src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > calls resolveConflict with server data when Keep Server is selected 1138ms
   → expected "vi.fn()" to be called with arguments: [ 'conflict-123', …(1) ]

Received: 

  1st vi.fn() call:

@@ -1,7 +1,8 @@
  [
    "conflict-123",
+   "server",
    {
      "created_at": "2024-01-01T00:00:00Z",
      "id": "report-456",
      "notes": "Server notes",
      "status": "submitted",


Number of calls: 1


Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"dialog"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-4xl max-h-[90vh]"[39m
          [33mdata-testid[39m=[32m"dialog-content"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"dialog-header"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"flex items-center gap-2"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"h-5 w-5 text-warning"[39m
                [33mdata-testid[39m=[32m"icon-alert-circle"[39m
              [36m>[39m
                [0mAlert[0m
              [36m</span>[39m
              [0mSync Conflict Detected[0m
            [36m</h2>[39m
            [36m<p>[39m
              [0mThe [0m
              [0mdaily_report[0m
              [0m was modified both locally and on the server. Choose which version to keep.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4 text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<span[39m
                [33mdata-testid[39m=[32m"badge"[39m
                [33mdata-variant[39m=[32m"outline"[39m
              [36m>[39m
                [0mdaily_report[0m
              [36m</span>[39m
              [36m<span>[39m
                [0mDetected: [0m
                [0mJan 15, 2024, 5:30 AM[0m
              [36m</span>[39m
              [36m<span>[39m
                [0m3[0m
                [0m field(s) differ[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-3 gap-2"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
                [33mdata-variant[39m=[32m"outline"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mdata-testid[39m=[32m"icon-hard-drive"[39m
                [36m>[39m
                  [0mHardDrive[0m
                [36m</span>[39m
                [0mKeep Local[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
                [33mdata-variant[39m=[32m"default"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mdata-testid[39m=[32m"icon-cloud"[39m
                [36m>[39m
                  [0mCloud[0m
                [36m</span>[39m
                [0mKeep Server[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
                [33mdata-variant[39m=[32m"outline"[39m
                [33mtitle[39m=[32m"Manually select which values to keep for each field"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mdata-testid[39m=[32m"icon-arrow-left-right"[39m
                [36m>[39m
                  [0mMerge[0m
                [36m</span>[39m
                [0mManual Merge[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-default-value[39m=[32m"diff"[39m
              [33mdata-testid[39m=[32m"tabs"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid w-full grid-cols-3"[39m
                [33mdata-testid[39m=[32m"tabs-list"[39m
              [36m>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"tab-trigger-diff"[39m
                  [33mdata-value[39m=[32m"diff"[39m
                [36m>[39m
                  [0mDifferences[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"tab-trigger-local"[39m
                  [33mdata-value[39m=[32m"local"[39m
                [36m>[39m
                  [0mLocal Version[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"tab-trigger-server"[39m
                  [33mdata-value[39m=[32m"server"[39m
                [36m>[39m
                  [0mServer Version[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
                [33mdata-testid[39m=[32m"tab-content-diff"[39m
                [33mdata-value[39m=[32m"diff"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-[400px] w-full rounded-md border p-4"[39m
                  [33mdata-testid[39m=[32m"scroll-area"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-2"[39m
                    [36m>[39m
                      [36m<h4[39m
                        [33mclass[39m=[32m"font-medium text-sm capitalize heading-card"[39m
                      [36m>[39m
                        [0mtitle[0m
                      [36m</h4>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-hard-drive"[39m
                              [36m>[39m
                                [0mHardDrive[0m
                              [36m</span>[39m
                              [0m Local[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-warning-light dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mLocal Report Title[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-cloud"[39m
                              [36m>[39m
                                [0mCloud[0m
                              [36m</span>[39m
                              [0m Server[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mServer Report Title[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-2"[39m
                    [36m>[39m
                      [36m<h4[39m
                        [33mclass[39m=[32m"font-medium text-sm capitalize heading-card"[39m
                      [36m>[39m
                        [0mstatus[0m
                      [36m</h4>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-hard-drive"[39m
                              [36m>[39m
                                [0mHardDrive[0m
                              [36m</span>[39m
                              [0m Local[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-warning-light dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mdraft[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-cloud"[39m
                              [36m>[39m
                                [0mCloud[0m
                              [36m</span>[39m
                              [0m Server[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0msubmitted[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-2"[39m
                    [36m>[39m
                      [36m<h4[39m
                        [33mclass[39m=[32m"font-medium text-sm capitalize heading-card"[39m
                      [36m>[39m
                        [0mnotes[0m
                      [36m</h4>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-hard-drive"[39m
                              [36m>[39m
                                [0mHardDrive[0m
                              [36m</span>[39m
                              [0m Local[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-warning-light dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mLocal notes[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-cloud"[39m
                              [36m>[39m
                                [0mCloud[0m
                              [36m</span>[39m
                              [0m Server[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mServer notes[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tab-content-local"[39m
                [33mdata-value[39m=[32m"local"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-[400px] w-full rounded-md border p-4"[39m
                  [33mdata-testid[39m=[32m"scroll-area"[39m
                [36m>[39m
                  [36m<pre[39m
                    [33mclass[39m=[32m"text-xs whitespace-pre-wrap"[39m
                  [36m>[39m
                    [0m{
  "id": "report-456",
  "title": "Local Report Title",
  "status": "draft",
  "notes": "Local notes",
  "created_at": "2024-01-01T00:00:00Z"
}[0m
                  [36m</pre>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tab-content-server"[39m
                [33mdata-value[39m=[32m"server"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-[400px] w-full rounded-md border p-4"[39m
                  [33mdata-testid[39m=[32m"scroll-area"[39m
                [36m>[39m
                  [36m<pre[39m
                    [33mclass[39m=[32m"text-xs whitespace-pre-wrap"[39m
                  [36m>[39m
                    [0m{
  "id": "report-456",
  "title": "Server Report Title",
  "status": "submitted",
  "notes": "Server notes",
  "created_at": "2024-01-01T00:00:00Z"
}[0m
                  [36m</pre>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-muted p-3 rounded-md"[39m
            [36m>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm font-medium mb-1"[39m
              [36m>[39m
                [0mResolution Preview:[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
              [36m>[39m
                [0mThe server changes will be kept and applied locally, discarding local changes.[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"dialog-footer"[39m
          [36m>[39m
            [36m<button[39m
              [33mdata-variant[39m=[32m"outline"[39m
            [36m>[39m
              [0mCancel[0m
            [36m</button>[39m
            [36m<button>[39m
              [0mResolve Conflict[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > closes dialog after successful resolution 141ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > shows resolving state while processing 154ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > disables buttons while resolving 219ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Empty State > renders empty state when no pending operations or conflicts 61ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Empty State > shows "All changes synced" in description when empty 9ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Empty State > shows "Never" for last sync when no sync has occurred 7ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Header and Status > renders "Sync Status" title 6ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Header and Status > shows syncing badge when isSyncing is true 12ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should have correct base key 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate topics key 1ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate topic list key with filters 1ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate topic detail key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate topics by category key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate talks key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate talk list key with filters 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate talk detail key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate talk with details key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate upcoming talks key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate recent talks key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate attendees key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate certifications key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate worker certifications key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate expiring certifications key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate stats keys 0ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > handles resolution errors gracefully 172ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > logs warning when merge is selected 0ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > ScrollArea > wraps diff content in scroll area 29ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > ScrollArea > sets fixed height on scroll areas 32ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Dark Mode Support > applies dark mode classes to local diff boxes 16ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Dark Mode Support > applies dark mode classes to server diff boxes 26ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Edge Cases > handles empty localData 32ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Edge Cases > handles empty serverData 17ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Query Hooks > useToolboxTopics > should fetch topics 161ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Query Hooks > useToolboxTopics > should pass filters to API 11ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Query Hooks > useToolboxTopic > should fetch single topic 79ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Query Hooks > useToolboxTopic > should not fetch when id is empty 114ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Query Hooks > useToolboxTopicsByCategory > should fetch topics grouped by category 80ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Mutation Hooks > useCreateTopic > should create topic and show success toast 12ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Mutation Hooks > useCreateTopic > should show error toast on failure 7ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Edge Cases > handles complex nested objects 12ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Edge Cases > handles arrays in data 11ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Accessibility > uses semantic dialog structure 11ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Header and Status > does not show syncing badge when isSyncing is false 8ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Header and Status > shows pending operations and conflicts count in description 14ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Last Sync Time > shows "Just now" for recent sync 6ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Last Sync Time > shows minutes for sync within last hour 5ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Last Sync Time > shows hours for sync within last day 6ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Last Sync Time > shows date for sync older than a day 33ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Conflicts Section > does not render conflicts section when no conflicts 5ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Conflicts Section > renders conflicts section when conflicts exist 8ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Conflicts Section > displays conflict entity type and timestamp 9ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Mutation Hooks > useUpdateTopic > should update topic 5ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Mutation Hooks > useDeleteTopic > should delete topic 4ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Query Hooks > useToolboxTalks > should fetch talks 66ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Query Hooks > useToolboxTalks > should apply filters 15ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Accessibility > provides descriptive button labels 228ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Accessibility > uses heading for dialog title 13ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Conflicts Section > renders Resolve button for each conflict 343ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Query Hooks > useToolboxTalk > should fetch single talk 82ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Query Hooks > useToolboxTalkWithDetails > should fetch talk with details 82ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Conflicts Section > opens conflict dialog when Resolve is clicked 153ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Conflicts Section > applies warning colors to conflict items 16ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Pending Operations By Type > does not render pending operations section when queue is empty 11ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Pending Operations By Type > renders pending operations badges grouped by type 37ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Query Hooks > useUpcomingToolboxTalks > should fetch upcoming talks 70ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Pending Operations By Type > counts operations correctly for each type 29ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > does not render queue details when queue is empty 5ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > renders queue details section when queue has items 9ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > displays entity type and operation for each queue item 16ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > shows correct icon for create operation 7ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > shows correct icon for update operation 48ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Query Hooks > useRecentToolboxTalks > should fetch recent talks 72ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Mutation Hooks > useCreateToolboxTalk > should create talk 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Mutation Hooks > useStartToolboxTalk > should start talk 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Mutation Hooks > useCompleteToolboxTalk > should complete talk 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Mutation Hooks > useCancelToolboxTalk > should cancel talk 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Mutation Hooks > useDeleteToolboxTalk > should delete talk 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useToolboxAttendees > should fetch attendees 78ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useAddAttendee > should add attendee 4ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useBulkAddAttendees > should bulk add attendees 3ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > shows correct icon for delete operation 25ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > shows default icon for unknown operation 17ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > displays retry count when greater than zero 17ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > does not display retry count when zero 21ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > renders remove button for each queue item 24ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useSignInAttendee > should sign in attendee with signature 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useQuickSignIn > should quick sign in attendee 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useMarkAbsent > should mark attendee absent 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useMarkExcused > should mark attendee excused 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useRemoveAttendee > should remove attendee 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useBulkSignIn > should bulk sign in all attendees 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Certification Hooks > useToolboxCertifications > should fetch certifications 74ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Certification Hooks > useToolboxCertifications > should pass filters 8ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Clear All Button > renders Clear All button when queue has items 116ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Certification Hooks > useWorkerCertifications > should fetch worker certifications 79ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Clear All Button > shows confirmation dialog when Clear All is clicked 161ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Certification Hooks > useWorkerCertifications > should not fetch when params are empty 114ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Certification Hooks > useExpiringCertifications > should fetch expiring certifications 63ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Stats Hooks > useToolboxTalkStats > should fetch project stats 65ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Stats Hooks > useComplianceSummary > should fetch compliance summary 71ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Stats Hooks > useAttendanceRate > should fetch attendance rate 78ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Clear All Button > calls clearSyncQueue when confirmed 332ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Clear All Button > does not call clearSyncQueue when cancelled 86ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Error Handling > should handle query error 68ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Error Handling > should show error toast on mutation failure 3ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Remove Item Button > shows confirmation dialog when remove item is clicked 99ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Remove Item Button > calls removePendingSync with correct id when confirmed 216ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Remove Item Button > does not call removePendingSync when cancelled 55ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Operation Colors > applies success color to create operation 14ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Operation Colors > applies info color to update operation 14ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Operation Colors > applies error color to delete operation 10ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Operation Colors > applies muted color to unknown operation 15ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Dark Mode Support > applies dark mode classes to operation badges 10ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Dark Mode Support > applies dark mode classes to conflict items 8ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > ScrollArea Usage > uses ScrollArea for conflicts section 8ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > ScrollArea Usage > uses ScrollArea for queue details 9ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Separators > uses separators between sections 8ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Accessibility > uses semantic heading for title 5ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Accessibility > provides descriptive button labels 108ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Accessibility > capitalizes entity types for readability 24ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Edge Cases > handles empty entity type gracefully 12ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Edge Cases > handles multiple queue items of same type 41ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Edge Cases > handles large retry counts 10ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Edge Cases > handles both conflicts and queue items simultaneously 13ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > incidentKeys > should generate correct base key 4ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > incidentKeys > should generate correct list keys 1ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > incidentKeys > should generate correct detail keys 1ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > incidentKeys > should generate correct stats key 1ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > incidentKeys > should generate correct related data keys 1ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > incidentKeys > should generate correct OSHA keys 1ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncidents > should fetch incidents 104ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncidents > should fetch incidents with filters 83ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncident > should fetch single incident 81ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncident > should not fetch when id is empty 5ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncidentWithDetails > should fetch incident with related data 79ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncidentStats > should fetch incident statistics 78ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncidentStats > should fetch stats for specific project 63ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > insuranceKeys > should generate correct base key 3ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > insuranceKeys > should generate correct certificates keys 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > insuranceKeys > should generate correct certificates list keys with filters 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > insuranceKeys > should generate correct expiring key 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > insuranceKeys > should generate correct requirements keys 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > insuranceKeys > should generate correct compliance keys 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > insuranceKeys > should generate correct stats key 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidStatistics > should return null for empty bid array 2ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidStatistics > should calculate statistics for single bid 2ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidStatistics > should calculate statistics for multiple competitive bids 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidStatistics > should calculate median correctly for odd number of bids 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidStatistics > should calculate median correctly for even number of bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidStatistics > should calculate variance and standard deviation 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyOutliers > should return empty array for less than 4 bids 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyOutliers > should not identify outliers in competitive bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyOutliers > should identify high outlier 2ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyOutliers > should identify low outlier 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyOutliers > should identify multiple outliers 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyOutliersByStdDev > should return empty array for less than 3 bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyOutliersByStdDev > should identify outliers beyond 2 standard deviations 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyOutliersByStdDev > should use custom threshold 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBids > should return empty array for no bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBids > should rank bids by amount ascending 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBids > should identify low and high bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBids > should calculate variance from low bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBids > should calculate variance from average 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBids > should calculate variance from median 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBids > should mark outliers 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBids > should calculate deviations from mean 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBidsWithEstimate > should calculate variance from estimate 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBidsWithEstimate > should show negative variance for bids below estimate 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBidsWithEstimate > should show positive variance for bids above estimate 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > createBidComparisonMatrix > should return null for empty bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > createBidComparisonMatrix > should create comprehensive comparison matrix 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > createBidComparisonMatrix > should identify recommended bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > createBidComparisonMatrix > should exclude outliers from recommendation 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > createBidComparisonMatrix > should include estimate in matrix when provided 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > createBidComparisonMatrix > should exclude disqualified bids from recommendation 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidSpread > should calculate spread percentage 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidSpread > should return 0 for equal bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidSpread > should return 0 when low bid is 0 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidSpread > should calculate small spreads accurately 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > isBidSpreadAcceptable > should return true for spread within threshold 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > isBidSpreadAcceptable > should return false for spread exceeding threshold 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > isBidSpreadAcceptable > should use default threshold of 20% 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyLowBid > should return null for empty array 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyLowBid > should identify lowest bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyLowBid > should handle single bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > isLowBidSuspicious > should return true for large gap 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > isLowBidSuspicious > should return false for normal gap 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > isLowBidSuspicious > should use default threshold of 15% 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > isLowBidSuspicious > should return false when next bid is 0 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > analyzeLowBid > should handle no bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > analyzeLowBid > should handle single bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > analyzeLowBid > should identify suspicious low bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > analyzeLowBid > should identify competitive low bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > analyzeLowBid > should calculate gap to next bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidVariance > should calculate all variance metrics 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidVariance > should return null for estimate variance when no estimate 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidVariance > should calculate 0 variance for low bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > compareUnitPrices > should return null when no submissions have the item 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > compareUnitPrices > should compare unit prices across submissions 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > compareUnitPrices > should rank unit prices 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > Edge Cases > should handle tied bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > Edge Cases > should handle very large bid amounts 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > Edge Cases > should handle very small spreads 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > Real-World Construction Scenarios > should analyze electrical bid package with 5 bidders 4ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > Real-World Construction Scenarios > should identify suspiciously low bid in lump sum package 5ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useRecentIncidents > should fetch recent incidents for project 75ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useRecentIncidents > should not fetch when projectId is empty 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncidentPeople > should fetch people for incident 75ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useInsuranceCertificates > should fetch certificates 99ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useInsuranceCertificates > should fetch certificates with filters 84ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncidentPhotos > should fetch photos for incident 77ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useInsuranceCertificate > should fetch single certificate 79ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useInsuranceCertificate > should not fetch when certificateId is undefined 4ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useCorrectiveActions > should fetch corrective actions 91ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useCorrectiveActions > should fetch actions with filters 83ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useExpiringCertificates > should fetch expiring certificates 88ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useCreateInsuranceCertificate > should create certificate 24ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useUpdateInsuranceCertificate > should update certificate 8ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useDeleteInsuranceCertificate > should delete certificate 5ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useVoidInsuranceCertificate > should void certificate with reason 3ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useInsuranceRequirements > should fetch requirements 72ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useInsuranceRequirements > should fetch requirements for specific project 75ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useCreateInsuranceRequirement > should create requirement 3ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Rendering > should render dialog when open is true 380ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Rendering > should not render dialog content when open is false 13ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Rendering > should render all form fields 40ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useCorrectiveActionStats > should fetch action statistics 68ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useCreateIncident > should create incident and show toast 10ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useUpdateIncident > should update incident 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useDeleteIncident > should delete incident 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useCloseIncident > should close incident 5ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useStartInvestigation > should start investigation 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useAddPerson > should add person to incident 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useRemovePerson > should remove person from incident 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useAddPhoto > should add photo to incident 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useUploadPhoto > should upload photo 4ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useRemovePhoto > should remove photo 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useCreateCorrectiveAction > should create corrective action 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useUpdateCorrectiveAction > should update corrective action 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useCompleteCorrectiveAction > should complete corrective action 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useDeleteCorrectiveAction > should delete corrective action 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useLinkActionToTask > should link action to task 3ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useComplianceCheck > should check compliance for subcontractor 64ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useComplianceCheck > should not check when subcontractorId is undefined 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useOSHA300ASummary > should fetch OSHA 300A summary 55ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useOSHA300ASummary > should fetch summary for specific project 68ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useOSHAIncidenceRates > should fetch OSHA incidence rates 55ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useOSHAIncidenceRates > should not fetch when hoursWorked is 0 2ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useGenerateCaseNumber > should generate next case number 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > OSHA Compliance Critical Tests > should track OSHA recordable status 0ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > OSHA Compliance Critical Tests > should track days away from work 0ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > OSHA Compliance Critical Tests > should track days on restricted duty 0ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > OSHA Compliance Critical Tests > should track injury/illness type 1ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > OSHA Compliance Critical Tests > should track body part affected 0ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > OSHA Compliance Critical Tests > should support privacy case flag 0ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > OSHA Compliance Critical Tests > should track incident statistics correctly 0ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > OSHA Compliance Critical Tests > should provide severity breakdown 0ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > Safety Error Handling > should show error toast on create failure 5ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > Safety Error Handling > should show error toast on update failure 3ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Rendering > should render submit button 131ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Rendering > should render cancel button 71ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useComplianceSummary > should fetch compliance summary 72ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useInsuranceDashboardStats > should fetch dashboard statistics 71ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useSubcontractorCertificates > should fetch certificates for subcontractor 66ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useUploadCertificateDocument > should upload certificate document 5ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useAcknowledgeAlert > should acknowledge expiration alert 3ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Critical Tests > should track certificate status 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Critical Tests > should track coverage limits 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Critical Tests > should track additional insured status 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Critical Tests > should track waiver of subrogation 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Critical Tests > should provide compliance rate in dashboard 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Critical Tests > should track expiration alerts 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Compliance Status Data Structures > should have required compliance status fields 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Compliance Status Data Structures > should track payment hold status 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Compliance Status Data Structures > should track missing coverage types 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Compliance Status Data Structures > should track certificate expiration counts 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Payment Hold Workflow > should validate payment hold input structure 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Payment Hold Workflow > should validate release payment hold structure 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > AI Extraction Data Structures > should have required AI extraction fields 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > AI Extraction Data Structures > should have extracted data structure 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > AI Extraction Data Structures > should track confidence and review status 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Project Insurance Requirements > should have required project requirement fields 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Project Insurance Requirements > should have minimum coverage amounts 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Project Insurance Requirements > should track endorsement requirements 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Integration Scenarios > should handle certificate expiration workflow 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Integration Scenarios > should handle certificate renewal workflow 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Integration Scenarios > should validate coverage against requirements 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Integration Scenarios > should calculate compliance score correctly 0ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Interaction > should update title field when typed 435ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should escape ampersand 2ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should escape less than 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should escape greater than 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should escape double quotes 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should escape single quotes 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should escape multiple special characters 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should handle null input 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should handle undefined input 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should handle empty string 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should handle numbers converted to string 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > sanitizeForXml > should remove control characters 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > sanitizeForXml > should preserve tabs, newlines, carriage returns 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > sanitizeForXml > should handle null input 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertDependencyTypeToMSP > should convert FS to 1 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertDependencyTypeToMSP > should convert SS to 3 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertDependencyTypeToMSP > should convert FF to 0 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertDependencyTypeToMSP > should convert SF to 2 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertDependencyTypeToMSP > should default to FS (1) for unknown types 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertMSPToDependencyType > should convert 1 to FS 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertMSPToDependencyType > should convert 3 to SS 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertMSPToDependencyType > should convert 0 to FF 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertMSPToDependencyType > should convert 2 to SF 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertMSPToDependencyType > should default to FS for unknown codes 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > should be reversible 2ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > formatDurationForMSP > should convert 1 day to PT8H0M0S (8 hours) 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > formatDurationForMSP > should convert 5 days to PT40H0M0S 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > formatDurationForMSP > should convert 10 days to PT80H0M0S 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > formatDurationForMSP > should handle zero duration 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > formatDurationForMSP > should handle null duration 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > formatDurationForMSP > should handle undefined duration 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > formatDurationForMSP > should handle fractional days by rounding 31ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > parseMSPDuration > should parse PT8H0M0S to 1 day 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > parseMSPDuration > should parse PT40H0M0S to 5 days 3ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > parseMSPDuration > should parse P5D format 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > parseMSPDuration > should handle empty string 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > parseMSPDuration > should round up partial days 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > should be approximately reversible 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Date Formatting > formatDateForMSP > should format ISO date to MSP format 3ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Date Formatting > formatDateForMSP > should handle date with time 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Date Formatting > formatDateForMSP > should handle null date 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Date Formatting > formatDateForMSP > should handle undefined date 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Date Formatting > parseMSPDate > should parse MSP date to ISO date 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Date Formatting > parseMSPDate > should handle null 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Date Formatting > parseMSPDate > should handle empty string as null 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Activity Filtering > filterType > should return all activities for "all" filter 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Activity Filtering > filterType > should filter milestones only 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Activity Filtering > filterType > should filter critical path only 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Activity Filtering > date filtering > should filter by start date 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Activity Filtering > date filtering > should filter by end date 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Activity Filtering > date filtering > should filter by date range 6ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Activity Filtering > includeCompleted > should exclude completed activities when false 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Activity Filtering > includeCompleted > should include completed activities when true 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should generate valid XML with proper header 9ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should include project metadata 2ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should include calendar section 4ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should include tasks section 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should include project summary task (UID 0) 2ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should include all activities as tasks 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should include predecessor links 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should escape special characters in task names 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should include WBS code 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should format duration correctly 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should mark milestones 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should return correct filename 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should return correct activity count 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should return correct dependency count 1ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Interaction > should update description field when typed 312ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Interaction > should update cost impact field when typed 127ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should throw error for too many activities 11ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Primavera P6 XER Generation > should generate XER format with header 4ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Primavera P6 XER Generation > should include PROJECT table 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Primavera P6 XER Generation > should include TASK table 2ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Primavera P6 XER Generation > should include TASKPRED table for dependencies 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Primavera P6 XER Generation > should have correct file extension 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Primavera P6 XER Generation > should return correct mime type 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Primavera P6 XER Generation > should end with %E marker 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > CSV Export > should include header row 2ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > CSV Export > should include all activities 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > CSV Export > should escape commas in values 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > CSV Export > should escape quotes in values 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > CSV Export > should have correct file extension 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > CSV Export > should return correct mime type 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > CSV Export > should include predecessor information 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > exportSchedule > should route to MS Project export 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > exportSchedule > should route to Primavera export 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > exportSchedule > should route to CSV export 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > exportSchedule > should throw for unsupported format 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > validateExportOptions > should return null for valid options 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > validateExportOptions > should return error for invalid date range 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > validateExportOptions > should allow valid date range 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > estimateExportSize > should estimate MS Project XML size 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > estimateExportSize > should estimate Primavera XER size 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > estimateExportSize > should estimate CSV size 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > estimateExportSize > should format bytes correctly 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Round-trip validation > should export and have parseable XML 55ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Round-trip validation > should preserve activity data in round-trip 11ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Large dataset handling > should handle 1000 activities 102ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Large dataset handling > should handle activities with many dependencies 11ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Interaction > should update schedule impact field when typed 112ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Interaction > should update due date field when selected 234ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Validation > should not submit when title is empty 113ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Validation > should not submit when projectId is missing 418ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Validation > should trim whitespace from title 434ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should generate PDF with basic report info 10ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should fetch company info when not provided 2ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should use provided company info 2ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render weather section when weather data exists 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render weather delays in red when present 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render workforce table when workers present 2ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should skip workforce section when empty 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render equipment table when equipment present 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render deliveries table with formatted time 2ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should format time correctly (AM/PM) 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render visitors table 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render work performed section 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should skip work performed when empty 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render issues and observations 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render comments section 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should handle report with all sections 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render status badge with correct color 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should handle different status values 2ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > downloadDailyReportPDF > should generate and download PDF 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > downloadDailyReportPDF > should create download link with correct filename 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > downloadDailyReportPDF > should handle report without number in filename 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > downloadDailyReportPDF > should cleanup blob URL after download 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > downloadDailyReportPDF > should append and remove link from DOM 2ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > Edge Cases > should handle report with all null values 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > Edge Cases > should handle missing delivery time 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > Edge Cases > should handle workforce with null hours 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > Edge Cases > should handle equipment with null values 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > isIncomingPayment > returns true for owner_requisition 2ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > isIncomingPayment > returns true for progress_billing 2ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > isIncomingPayment > returns false for subcontractor_pay_application 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > isIncomingPayment > returns false for invoice_payment 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > isIncomingPayment > returns false for vendor_payment 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > isIncomingPayment > returns false for retention_release 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > calculateDaysUntilDue > returns positive days for future dates 2ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > calculateDaysUntilDue > returns negative days for past dates 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > calculateDaysUntilDue > returns approximately 0 for today 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > getPriorityFromDueDate > returns critical for overdue (negative days) 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > getPriorityFromDueDate > returns high for 0-3 days until due 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > getPriorityFromDueDate > returns medium for 4-7 days until due 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > getPriorityFromDueDate > returns low for more than 7 days until due 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > getPaymentTypeConfig > returns correct config for each payment type 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > getPaymentTypeConfig > returns default config for unknown type 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Summary Calculations > calculates correct totals for mixed payments 2ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Summary Calculations > correctly identifies overdue payments 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Summary Calculations > correctly counts pending approvals 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Summary Calculations > groups payments by type correctly 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Summary Calculations > handles empty payment list 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Cash Flow Projection Calculations > calculates correct monthly totals 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Cash Flow Projection Calculations > calculates confidence percentage correctly 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Cash Flow Projection Calculations > handles 100% confirmed payments 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Cash Flow Projection Calculations > calculates cumulative cash flow correctly 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Cash Flow Projection Calculations > categorizes payment types correctly 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Calendar Data Generation > calculates correct daily totals 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Calendar Data Generation > handles days with no payments 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Calendar Data Generation > handles days with only incoming payments 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Calendar Data Generation > handles days with only outgoing payments 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Pattern Analysis > identifies improving trend 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Pattern Analysis > identifies declining trend 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Pattern Analysis > identifies stable trend 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Pattern Analysis > returns stable for insufficient data 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Pattern Analysis > calculates 100% when all payments are on time 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Pattern Analysis > calculates 0% when all payments are late 3ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Pattern Analysis > calculates correct percentage for mixed payments 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Pattern Analysis > returns 100% for no payment history 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Edge Cases > handles payments with zero amounts 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Edge Cases > handles payments with very large amounts 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Edge Cases > handles all payment statuses 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Edge Cases > handles all payment types 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Edge Cases > handles dates at year boundaries 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Weekly and Monthly Aggregation > correctly aggregates daily totals into weekly 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Weekly and Monthly Aggregation > handles empty days array 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Weekly and Monthly Aggregation > handles single day 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Multi-Month Cash Flow Projections > correctly calculates cumulative cash flow 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Multi-Month Cash Flow Projections > handles all negative months 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Multi-Month Cash Flow Projections > handles empty projections 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Priority Logic > assigns critical priority to severely overdue payments 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Priority Logic > assigns high priority to payments due today or within 3 days 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Priority Logic > assigns medium priority to payments due within 4-7 days 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Priority Logic > assigns low priority to payments due in more than a week 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Categorization > correctly identifies incoming payment types 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Categorization > correctly identifies outgoing payment types 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Categorization > returns correct config for each payment type 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Boundary and Negative Value Handling > handles payments with null/undefined amounts gracefully 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Boundary and Negative Value Handling > handles mixed positive and negative net cash flows 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Boundary and Negative Value Handling > calculates correct net when incoming equals outgoing 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generateSCurveData > should include all historical data points 9ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generateSCurveData > should generate forecast points beyond historical data 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generateSCurveData > should cap forecast at BAC 3ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generateSCurveData > should handle empty historical data 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generateSCurveData > should handle single data point 3ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generatePlannedCurve > should generate linear curve correctly 2ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generatePlannedCurve > should generate S-curve with slow start and end 5ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generatePlannedCurve > should generate front-loaded curve 2ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generatePlannedCurve > should generate back-loaded curve 2ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generatePlannedCurve > should handle zero or negative duration 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > analyzeTrend > should detect improving trend 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > analyzeTrend > should detect declining trend 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > analyzeTrend > should detect stable trend 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > analyzeTrend > should return stable for insufficient data 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > calculateSlope > should calculate positive slope for increasing values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > calculateSlope > should calculate negative slope for decreasing values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > calculateSlope > should calculate zero slope for constant values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > calculateSlope > should handle insufficient data 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > calculateSlope > should handle noisy data 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > detectTrendChange > should detect improvement from declining trend 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > detectTrendChange > should identify stable to declining change 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > detectTrendChange > should handle insufficient data 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > detectTrendChange > should assign confidence based on data points 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > calculateMovingAverage > should calculate moving average correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > calculateMovingAverage > should handle window size larger than data 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > calculateMovingAverage > should smooth out noise in improving trend 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > estimateCompletionDates > should return planned date when on schedule 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > estimateCompletionDates > should project later date when behind schedule 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > estimateCompletionDates > should project earlier date when ahead of schedule 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > estimateCompletionDates > should calculate CSI projection more conservatively 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > estimateCompletionDates > should handle zero SPI gracefully 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateOnTimeCompletionProbability > should return high probability for SPI > 1 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateOnTimeCompletionProbability > should return low probability for SPI < 0.8 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateOnTimeCompletionProbability > should increase probability as completion increases with good SPI 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateOnTimeCompletionProbability > should return 0 for zero SPI 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateOnTimeCompletionProbability > should return 100 for completed project 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateOnTimeCompletionProbability > should boost probability for projects > 80% with good SPI 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateDaysRemaining > should calculate days correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateDaysRemaining > should return 0 when work is complete 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateDaysRemaining > should return Infinity for zero daily rate 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateDaysRemaining > should round up to whole days 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateDailyEVRate > should calculate rate from trend data 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateDailyEVRate > should return 0 for insufficient data 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateDailyEVRate > should handle same-day data points 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should generate 5 scenarios 2ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should have Original Plan EAC equal to BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should calculate CPI projection correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should calculate CSI projection correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should have pessimistic worse than CPI projection 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should have optimistic better than CPI projection 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should include assumptions for each scenario 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should handle zero CPI gracefully 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should calculate VACPercent correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should handle zero BAC for VACPercent calculations 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should use fallback values when CPI is 0 3ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should cap optimistic CPI at 1.5 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Edge Cases > should handle project that is complete 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Edge Cases > should handle very high CPI 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Edge Cases > should handle extremely low CPI 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Edge Cases > should handle project start (no progress) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Edge Cases > should handle moving average with exact window size 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatCurrency > should format positive numbers correctly 41ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatCurrency > should format negative numbers correctly 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatCurrency > should handle null and undefined 2ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatCurrency > should handle zero 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatCurrency > should handle very large numbers 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatCurrency > should handle very small numbers 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatCurrency > should always show two decimal places 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatPercent > should format percentages with one decimal place 2ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatPercent > should handle null and undefined 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatPercent > should handle zero 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatPercent > should handle 100% 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatPercent > should handle decimal values 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatPercent > should handle values over 100% 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatDate > should format date strings correctly 10ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatDate > should handle null and undefined 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatDate > should handle invalid dates gracefully 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatDate > should format ISO date strings 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatShortDate > should format date strings in MM/DD/YYYY format 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatShortDate > should handle null and undefined 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatShortDate > should handle invalid dates gracefully 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG702Data > should build G702 data with all fields 4ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG702Data > should handle missing project info 2ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG702Data > should handle partial project info 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG702Data > should handle application without project 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG702Data > should handle null project fields 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG703Data > should build G703 data with calculated totals 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG703Data > should handle empty items array 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG703Data > should handle items with null retainage 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG703Data > should handle items with undefined values 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG703Data > should calculate totals for large number of items 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG703Data > should handle decimal precision in totals 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > downloadPaymentApplicationPDFs > should download both G702 and G703 PDFs 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > downloadPaymentApplicationPDFs > should build correct G702 data structure 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > downloadPaymentApplicationPDFs > should build correct G703 data structure 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > downloadPaymentApplicationPDFs > should handle missing project info 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > downloadPaymentApplicationPDFs > should download PDFs in parallel 111ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > downloadPaymentApplicationPDFs > should handle empty items array 107ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Submission > should call mutateAsync with correct data on submit 676ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Integration Tests > should maintain data consistency between G702 and G703 111ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Integration Tests > should handle complete workflow from draft to approved 320ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Submission > should include cost impact when provided 556ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Submission > should include schedule impact when provided 460ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Submission > should include due date when provided 586ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Submission > should reset form after successful submission 607ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Draft Management > should initialize a new draft 47ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Draft Management > should initialize with default shift times 12ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Draft Management > should update draft fields 16ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Draft Management > should set mode and adjust expanded sections 12ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should generate basic lien waiver PDF 36ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should fetch company info when not provided 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should use provided company info 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should add document header with waiver number and type 6ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should render state name below header 7ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should default to California when state code is missing 6ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should render project information section 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should render project values in project info 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should render waiver body text with splitTextToSize 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should generate conditional progress text for conditional_progress type 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should generate unconditional progress text for unconditional_progress type 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should generate conditional final text for conditional_final type 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should generate unconditional final text for unconditional_final type 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should include exceptions in waiver text when provided 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should render signature section 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should render claimant information in signature section 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should render notarization section when required 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should not render notarization section when not required 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should add footers to all pages 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should handle missing optional project info gracefully 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > downloadLienWaiverPDF > should trigger download with correct filename 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > downloadLienWaiverPDF > should cleanup blob URL after download 3ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateBlankWaiverPDF > should generate blank waiver PDF with minimal data 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateBlankWaiverPDF > should include project info when provided 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateBlankWaiverPDF > should set notarization_required based on state code 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > downloadBlankWaiverPDF > should trigger download with correct filename for blank template 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > downloadBlankWaiverPDF > should cleanup blob URL after download 4ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Draft Management > should initialize from existing report 9ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Draft Management > should clear draft 10ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Weather > should apply weather data 5ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Workforce Management > should add workforce entry 4ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Workforce Management > should update workforce entry 6ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Workforce Management > should remove workforce entry 4ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Workforce Management > should calculate total workers correctly 3ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Equipment Management > should add equipment entry 3ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Equipment Management > should update equipment entry 3ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Equipment Management > should remove equipment entry 4ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Delays Management > should add delay entry 6ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Delays Management > should update delay entry with updated_at 16ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Safety Incidents > should add safety incident 4ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Safety Incidents > should update safety incident 4ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Template Application > should apply template 6ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Template Application > should apply previous day data 6ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Sync Management > should manage sync status 6ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Sync Management > should manage sync queue 5ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Sync Management > should handle conflict resolution 5ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > UI State Management > should toggle section expansion 3ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > UI State Management > should expand all sections 6ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > UI State Management > should set active section 17ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Form Data Export > should export complete form data 4ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Form Data Export > should return null when no draft exists 2ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canTransition > should allow draft -> submitted transition 3ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canTransition > should allow submitted -> approved transition 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canTransition > should allow submitted -> changes_requested transition 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canTransition > should allow changes_requested -> submitted transition 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canTransition > should allow approved -> locked transition 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canTransition > should not allow draft -> approved direct transition 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canTransition > should not allow locked -> any transition 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canTransition > should not allow approved -> draft transition 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canPerformTransition > should allow author to submit draft 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canPerformTransition > should allow admin to perform any valid transition 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canPerformTransition > should allow approver to approve submission 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canPerformTransition > should allow reviewer to request changes 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canPerformTransition > should not allow author to approve their own report 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canPerformTransition > should not allow reviewer to submit draft 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > getAvailableTransitions > should return submit and voided for author with draft 4ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > getAvailableTransitions > should return approve and request changes for approver with submitted 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > getAvailableTransitions > should return empty array for locked status 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > getAvailableTransitions > should return submit and draft for author with changes_requested 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Validation > validateForSubmission > should pass validation for valid report 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Validation > validateForSubmission > should fail validation for missing work summary 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Validation > validateForSubmission > should fail validation for missing project_id 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Validation > validateForSubmission > should fail validation for missing signature when required 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Validation > validateForSubmission > should pass validation without signature when not required 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Notification Configuration > should return notification config for draft -> submitted 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Notification Configuration > should return notification config for approved transition 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Notification Configuration > should return notification config for changes requested 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Notification Configuration > should return null for transitions without notifications 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Auto-Lock Logic > should return true for immediate lock (0 days) 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Auto-Lock Logic > should return false for report not yet approved 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Auto-Lock Logic > should return false for approved report without approval date 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Auto-Lock Logic > should return true for report approved beyond lock period 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Auto-Lock Logic > should return false for recently approved report 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Review Reminders > should return true when reminder time has passed 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Review Reminders > should return false for recently submitted report 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Review Reminders > should return false for non-submitted status 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Escalation Logic > should return true when escalation time has passed 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Escalation Logic > should work for in_review status 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Escalation Logic > should return false before escalation time 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Escalation Logic > should return false for approved status 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Display Info > should return correct info for each status 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Display Info > should return draft info correctly 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Display Info > should return approved info correctly 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Available Actions > should return submit and void actions for author with draft 2ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Available Actions > should return approve and request changes for approver with submitted 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Available Actions > should return lock action for admin with approved 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Available Actions > should set requiresComment for request changes action 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Singleton Instance > should export a default configured instance 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Singleton Instance > should have default configuration 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Custom Configuration > should allow custom configuration 0ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Submission > should close dialog after successful submission 312ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Submission > should call onSuccess callback after successful submission 335ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Error Handling > should handle submission error 397ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Error Handling > should not close dialog on submission error 386ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Cancel Action > should close dialog when cancel is clicked 201ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Cancel Action > should not submit form when cancel is clicked 415ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Distribution > should render distribution picker 9ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Distribution > should update distribution when changed 97ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getProjectHealthReport > should fetch project health report successfully 5ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getProjectHealthReport > should calculate budget variance correctly 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getProjectHealthReport > should count open items correctly 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getProjectHealthReport > should throw error when project not found 3ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getProjectHealthReport > should handle null budget and contract_value 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDailyReportAnalytics > should fetch daily report analytics successfully 2ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDailyReportAnalytics > should calculate submission rate correctly 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDailyReportAnalytics > should aggregate trades correctly 2ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDailyReportAnalytics > should aggregate equipment utilization correctly 2ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDailyReportAnalytics > should handle empty reports 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDailyReportAnalytics > should handle database errors gracefully 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getWorkflowSummary > should fetch workflow summary successfully 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getWorkflowSummary > should group items by status correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getWorkflowSummary > should calculate total cost impact correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getWorkflowSummary > should calculate total schedule impact correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getWorkflowSummary > should calculate average response time correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getWorkflowSummary > should handle empty workflow items 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getWorkflowSummary > should handle database errors gracefully 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getPunchListReport > should fetch punch list report successfully 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getPunchListReport > should group items by status correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getPunchListReport > should group items by trade with completion rate 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getPunchListReport > should group items by location correctly 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getPunchListReport > should calculate rejection rate correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getPunchListReport > should handle empty punch list 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getPunchListReport > should handle database errors gracefully 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getSafetyIncidentReport > should fetch safety incident report successfully 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getSafetyIncidentReport > should group incidents by type correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getSafetyIncidentReport > should group incidents by severity correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getSafetyIncidentReport > should count open incidents correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getSafetyIncidentReport > should handle empty incidents 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getSafetyIncidentReport > should handle database errors gracefully 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getFinancialSummary > should fetch financial summary successfully 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getFinancialSummary > should calculate change orders impact correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getFinancialSummary > should calculate forecasted total correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getFinancialSummary > should calculate percentage over budget correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getFinancialSummary > should handle null budget 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getFinancialSummary > should handle database errors gracefully 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDocumentSummary > should fetch document summary successfully 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDocumentSummary > should group documents by type correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDocumentSummary > should group documents by discipline correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDocumentSummary > should count outstanding approvals correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDocumentSummary > should count superseded documents correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDocumentSummary > should handle empty documents 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDocumentSummary > should handle database errors gracefully 0ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Browser Support Detection > should detect WebAuthn support 37ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should have all key as base 3ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate equipment list key 1ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate equipment list with filters key 1ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate equipment detail key 1ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate equipment statistics key 1ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate available equipment key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate assignments key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate project equipment key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate logs key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate logs list with filters key 1ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate maintenance key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate maintenance list with filters key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate maintenance detail key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate upcoming maintenance key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate inspections key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate latest inspection key 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > scheduleKeys > should generate correct base key 4ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > scheduleKeys > should generate correct list keys 1ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > scheduleKeys > should generate correct detail keys 1ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > scheduleKeys > should generate correct dependency keys 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > scheduleKeys > should generate correct baseline keys 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > scheduleKeys > should generate correct calendar keys 1ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > scheduleKeys > should generate correct stats keys 0ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Browser Support Detection > should detect platform authenticator availability 63ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Browser Support Detection > should handle unsupported browsers 7ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Browser Support Detection > should handle unavailable platform authenticator 17ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useSubmittalWorkflowType > should fetch submittal workflow type for company 112ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useSubmittalWorkflowType > should handle error when workflow type not found 73ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useSubmittalWorkflowType > should not fetch when company_id is missing 5ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Query Hooks > useEquipment > should fetch equipment list with filters 99ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Query Hooks > useEquipment > should not fetch when companyId is missing 4ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Query Hooks > useEquipmentDetail > should fetch equipment details 71ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Query Hooks > useEquipmentDetail > should not fetch when id is undefined 7ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleActivities > should fetch activities for project 97ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleActivities > should fetch activities with filters 87ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleActivities > should not fetch when projectId is undefined 5ms
stderr | src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Settings Loading > should handle loading errors
Error loading biometric settings: Error: Failed to load
    at C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx:186:9
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1209:10)
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1653:37
    at Traces.$ (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)
    at runTest (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1653:12)

 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Settings Loading > should load biometric settings on mount 79ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Settings Loading > should show enabled state from settings 72ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Query Hooks > useEquipmentStatistics > should fetch equipment statistics 83ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useSubmittalWorkflowType > should cache workflow type for 1 hour 87ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleActivity > should fetch single activity 84ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Settings Loading > should handle loading errors 74ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Settings Loading > should not load settings when user is not authenticated 14ms
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Device Registration > should register new device successfully 7ms
   → Biometric authentication not available
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Device Registration > should register device with auto-generated name 4ms
   → Biometric authentication not available
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Device Registration > should handle registration errors 15ms
   → expected [Function] to throw error including 'Registration failed' but got 'Biometric authentication not available'
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Device Registration > should refresh settings after successful registration 10ms
   → Biometric authentication not available
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Device Removal > should remove device successfully 4ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Query Hooks > useAvailableEquipment > should fetch available equipment 79ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Mutation Hooks > useCreateEquipment > should create equipment and show success toast 82ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useSubmittals > should fetch submittals for a project 80ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useSubmittals > should not fetch when projectId or workflowTypeId is missing 4ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useSubmittals > should handle fetch error 76ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleDependencies > should fetch dependencies for project 70ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleBaselines > should fetch baselines for project 87ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Device Removal > should refresh settings after device removal 14ms
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Device Removal > should handle removal errors 9ms
   → promise resolved "undefined" instead of rejecting
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Authentication > should authenticate successfully 5ms
   → expected false to be true // Object.is equality
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Authentication > should handle authentication failure 3ms
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Authentication > should handle authentication errors 4ms
   → promise resolved "undefined" instead of rejecting
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Settings Management > should toggle enabled state 4ms
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Settings Management > should update reauth interval 9ms
   → expected "vi.fn()" to be called with arguments: [ …(2) ]

Received: 

  1st vi.fn() call:

  [
    "a81b0325-95fa-4e34-9a94-ae4af83d3337",
    {
-     "reauth_interval": "four_hours",
+     "reauthInterval": "four_hours",
    },
  ]


Number of calls: 1

 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useSubmittals > should order submittals by created_at descending 80ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Mutation Hooks > useCreateEquipment > should show error toast on failure 80ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleCalendars > should fetch calendars for company 76ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useSubmittal > should fetch single submittal by id 80ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useSubmittal > should not fetch when submittalId is undefined 3ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useSubmittal > should handle error when submittal not found 74ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Mutation Hooks > useUpdateEquipment > should update equipment and show success toast 81ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Mutation Hooks > useUpdateEquipmentStatus > should update equipment status 66ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleCalendars > should fetch calendars for specific project 65ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleStats > should fetch schedule statistics 69ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleImportLogs > should fetch import logs 74ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useMySubmittals > should fetch submittals assigned to current user 75ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column C: Scheduled Value with Change Orders > should calculate total scheduled value = scheduled + change orders 2ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column C: Scheduled Value with Change Orders > should handle negative change orders 1ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column C: Scheduled Value with Change Orders > should handle zero change orders 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column G: Total Completed and Stored (D+E+F) > should calculate Column G = Column D + Column E + Column F 1ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column G: Total Completed and Stored (D+E+F) > should handle zero materials stored 1ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column G: Total Completed and Stored (D+E+F) > should handle first application (no previous work) 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column H: Percent Complete (G÷C) > should calculate percent complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column H: Percent Complete (G÷C) > should handle 0% complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column H: Percent Complete (G÷C) > should handle 100% complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column H: Percent Complete (G÷C) > should handle partial completion 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column H: Percent Complete (G÷C) > should handle division by zero 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column I: Balance to Finish (C-G) > should calculate balance to finish = scheduled - completed 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column I: Balance to Finish (C-G) > should equal zero when 100% complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column I: Balance to Finish (C-G) > should equal scheduled value when 0% complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column J: Retainage > should calculate retainage from total completed and stored 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column J: Retainage > should handle 5% retainage 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column J: Retainage > should handle zero retainage 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Totals Row Calculations > should calculate correct totals from all items 1ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Totals Row Calculations > should calculate correct total percent complete 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Mutation Hooks > useDeleteEquipment > should delete equipment and show success toast 69ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Assignment Hooks > useEquipmentAssignments > should fetch equipment assignments 67ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useMasterScheduleData > should fetch combined schedule data 73ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useMasterScheduleData > should detect hasBaseline when activities have baseline dates 71ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useCreateScheduleActivity > should create activity 6ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useUpdateScheduleActivity > should update activity 4ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useBulkUpdateActivities > should bulk update activities 4ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useDeleteScheduleActivity > should delete activity 3ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useCreateDependency > should create dependency 7ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useMySubmittals > should filter by projectId when provided 75ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useSubmittalsByStatus > should fetch submittals filtered by status 86ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should generate PDF blob 143ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should use landscape orientation 15ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should include project information in header 14ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should include application number 10ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Assignment Hooks > useProjectEquipment > should fetch project equipment 77ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useDeleteDependency > should delete dependency 3ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useCreateBaseline > should create baseline 2ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useSetActiveBaseline > should set active baseline 2ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useClearBaseline > should clear active baseline 2ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useCreateCalendar > should create calendar 2ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useUpdateCalendar > should update calendar 2ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useDeleteCalendar > should delete calendar 2ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useSyncToLookAhead > should sync activities to look-ahead 2ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Analysis Critical Tests > should identify critical path activities 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Analysis Critical Tests > should track float values for activities 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Analysis Critical Tests > should support dependency types 1ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Analysis Critical Tests > should track baseline vs actual dates 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Analysis Critical Tests > should track percent complete 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Analysis Critical Tests > should identify milestones 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Analysis Critical Tests > should provide schedule statistics 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Analysis Critical Tests > should track activities with float issues 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Calendar Configuration Tests > should support daily work hours configuration 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Calendar Configuration Tests > should track work start and end times 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Calendar Configuration Tests > should support default calendar flag 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Import Tests > should track import log status 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Import Tests > should track import source system 1ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Import Tests > should track import counts 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should render SOV table with autoTable 10ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should format SOV items correctly 8ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should handle long description text 8ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should include totals row 9ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should handle empty SOV items 7ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > Multi-page SOV handling > should handle large number of SOV items 36ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > Multi-page SOV handling > should add instructions section 11ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > downloadG703PDF > should trigger download with correct filename 12ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > downloadG703PDF > should sanitize project name in filename 9ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Edge Cases and Real-World Scenarios > should handle SOV with only materials stored (no work completed) 1ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Assignment Hooks > useAssignEquipment > should assign equipment to project 78ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Assignment Hooks > useUpdateEquipmentAssignment > should update assignment 74ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useSubmittalsByStatus > should fetch all submittals when status is undefined 81ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Edge Cases and Real-World Scenarios > should handle items with change orders 1ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Edge Cases and Real-World Scenarios > should handle 100% complete items 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Edge Cases and Real-World Scenarios > should handle zero value items 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Edge Cases and Real-World Scenarios > should handle mixed retainage percentages 1ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Edge Cases and Real-World Scenarios > should handle items sorted by item_number 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Edge Cases and Real-World Scenarios > should handle very large scheduled values 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Edge Cases and Real-World Scenarios > should handle decimal precision in calculations 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > Combined G702/G703 Package > should generate combined payment application package 31ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Column Formatting > should format currency values correctly 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Column Formatting > should format percentage values correctly 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Column Formatting > should truncate long descriptions 0ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > initial state > should initialize with empty query 36ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > initial state > should initialize with empty results 7ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > initial state > should initialize with default entity filters 5ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > initial state > should initialize with expansion enabled by default 5ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > initial state > should initialize with hasSearched as false 11ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > initial state > should not be loading initially 7ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > query management > should update query when setQuery is called 6ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > query management > should clear query when clearResults is called 8ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > filter management > should update entity filters 5ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > filter management > should update date range 4ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Assignment Hooks > useReturnEquipment > should return equipment 72ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useSubmittalComments > should fetch comments for a submittal 72ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useSubmittalComments > should not fetch when submittalId is undefined 3ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useSubmittalProcurement > should fetch procurement records for a submittal 72ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > filter management > should update project ID 8ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > filter management > should toggle expansion enabled 3ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > search execution > should execute search when search() is called 12ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > search execution > should not search if query is too short 3ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > search execution > should use simple search when expansion is disabled 65ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Log Hooks > useEquipmentLogs > should fetch equipment logs 65ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Log Hooks > useEquipmentLogs > should not fetch when no filters 2ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Log Hooks > useCreateEquipmentLog > should create equipment log 64ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useSubmittalProcurement > should order procurement by created_at descending 67ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useCreateSubmittalWithNotification > should create submittal with user id 6ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useCreateSubmittalWithNotification > should invalidate queries after successful creation 11ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useCreateSubmittalWithNotification > should handle creation error 8ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useUpdateSubmittalWithNotification > should update submittal 3ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useUpdateSubmittalWithNotification > should invalidate queries after successful update 4ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useUpdateSubmittalStatusWithNotification > should update submittal status 3ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > auto-search mode > should auto-search when enabled and query changes 21ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > auto-search mode > should debounce rapid query changes 10ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > recent searches > should load recent searches from localStorage 4ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > recent searches > should clear recent searches 5ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > recent searches > should handle invalid localStorage data 3ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > rate limit > should fetch rate limit info 68ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Log Hooks > useUpdateEquipmentLog > should update equipment log 70ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useUpdateSubmittalStatusWithNotification > should handle status transition from draft to submitted 78ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useUpdateSubmittalStatusWithNotification > should handle status transition from under_review to approved 69ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useUpdateSubmittalProcurementStatusWithNotification > should update procurement status 4ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > error handling > should set error state on search failure 68ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Log Hooks > useDeleteEquipmentLog > should delete equipment log 76ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Maintenance Hooks > useEquipmentMaintenance > should fetch maintenance records 69ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > error handling > should clear error on new search 71ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > hook options > should respect defaultProjectId option 4ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > hook options > should respect defaultEntities option 4ms
 ✓ src/features/ai/hooks/__tests__/useSemanticSearch.test.tsx > useSemanticSearch > hook options > should respect enableExpansion option 3ms
stderr | src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Session Management > should clear biometric auth session
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Maintenance Hooks > useMaintenanceDetail > should fetch maintenance details 79ms
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Settings Management > should refresh settings after toggle 1029ms
   → expected "vi.fn()" to be called 2 times, but got 1 times

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Re-authentication Checking > should check if re-authentication is needed 72ms
   → expected "vi.fn()" to be called with arguments: [ 'one_hour' ]

Number of calls: 0

 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Re-authentication Checking > should not need reauth when recently authenticated 14ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Session Management > should clear biometric auth session 8ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Manual Settings Refresh > should allow manual settings refresh 4ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Edge Cases > should handle rapid successive operations 9ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Edge Cases > should handle user changing during hook lifetime 91ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Edge Cases > should handle disabled biometric settings 9ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Maintenance Hooks > useUpcomingMaintenance > should fetch upcoming maintenance 73ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Maintenance Hooks > useScheduleMaintenance > should schedule maintenance 70ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useUpdateSubmittalProcurementStatusWithNotification > should handle procurement status transitions 359ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useDeleteSubmittalWithNotification > should delete submittal 3ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useDeleteSubmittalWithNotification > should invalidate queries after successful deletion 12ms
 ✓ src/features/submittals/hooks/__tests__/useSubmittals.test.tsx > useDeleteSubmittalWithNotification > should handle deletion error 3ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Maintenance Hooks > useUpdateMaintenance > should update maintenance 65ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Maintenance Hooks > useCompleteMaintenance > should complete maintenance with completion data 70ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Maintenance Hooks > useCancelMaintenance > should cancel maintenance 71ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Inspection Hooks > useEquipmentInspections > should fetch equipment inspections 73ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Inspection Hooks > useEquipmentInspections > should not fetch when equipmentId is undefined 6ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Inspection Hooks > useLatestInspection > should fetch latest inspection 63ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Inspection Hooks > useCreateEquipmentInspection > should create equipment inspection 63ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Inspection Hooks > useCreateEquipmentInspection > should show error toast on failure 70ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct all key 4ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct lists key 1ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct list key with projectId 1ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct list key with filters 1ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct details key 1ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct detail key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct withRevisions key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct register key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct byDiscipline key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct revisions key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct revisionHistory key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct sets key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct set key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct transmittals key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct markups key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawings hook > should fetch drawings for a project 101ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawings hook > should fetch drawings with filters 73ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawings hook > should be disabled when projectId is undefined 4ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingsByDiscipline hook > should fetch drawings by discipline 69ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useIFCDrawings hook > should fetch only IFC drawings 77ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawing hook > should fetch a single drawing 71ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawing hook > should be disabled when drawingId is undefined 3ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingWithRevisions hook > should fetch drawing with revisions 72ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingRegister hook > should fetch drawing register 80ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingsByDisciplineSummary hook > should fetch discipline summary 82ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingRevisions hook > should fetch drawing revisions 69ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useRevisionHistory hook > should fetch revision history 65ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useCurrentRevision hook > should fetch current revision 70ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingSets hook > should fetch drawing sets 62ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingSet hook > should fetch a single drawing set 62ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingTransmittals hook > should fetch drawing transmittals 65ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingMarkups hook > should fetch drawing markups 70ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingMarkups hook > should fetch markups with status filter 76ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useCreateDrawing hook > should create a drawing 6ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useUpdateDrawing hook > should update a drawing 3ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDeleteDrawing hook > should delete a drawing 2ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useMarkDrawingIFC hook > should mark drawing as IFC 2ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useBulkCreateDrawings hook > should bulk create drawings 2ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useBulkMarkIFC hook > should bulk mark drawings as IFC 2ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDuplicateDrawing hook > should duplicate a drawing 2ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useCreateRevision hook > should create a revision 3ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useUpdateRevision hook > should update a revision 6ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useSetCurrentRevision hook > should set current revision 3ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useCreateDrawingSet hook > should create a drawing set 3ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useAddDrawingToSet hook > should add drawing to set 2ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useRemoveDrawingFromSet hook > should remove drawing from set 3ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useSetCurrentDrawingSet hook > should set current drawing set 3ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useCreateDrawingTransmittal hook > should create a transmittal 3ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useAcknowledgeTransmittal hook > should acknowledge transmittal 2ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useCreateDrawingMarkup hook > should create a markup 3ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useUpdateDrawingMarkup hook > should update a markup 2ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useResolveDrawingMarkup hook > should resolve a markup 2ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getProjectDocuments > should fetch project documents with default ordering 5ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getProjectDocuments > should fetch project documents with custom options 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getProjectDocuments > should wrap non-API errors in ApiErrorClass 3ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getProjectDocuments > should preserve API errors 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getDocument > should fetch a single document 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getDocument > should wrap errors in ApiErrorClass 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocument > should create a document with default status and version flags 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocument > should throw error if project_id is missing 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocument > should throw error if file_url is missing 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocument > should wrap API errors 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > updateDocument > should update a document 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > updateDocument > should throw error if document_id is missing 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > updateDocument > should wrap API errors 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > deleteDocument > should delete a document 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > deleteDocument > should throw error if document_id is missing 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > deleteDocument > should wrap API errors 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getProjectFolders > should fetch project folders ordered by sort_order 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getProjectFolders > should wrap errors 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createFolder > should create a folder 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createFolder > should throw error if project_id is missing 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createFolder > should wrap API errors 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > updateFolder > should update a folder 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > updateFolder > should wrap errors 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > deleteFolder > should delete a folder 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > deleteFolder > should wrap errors 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > findDocumentByName > should find a document by name without folder filter 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > findDocumentByName > should find a document by name with folder filter 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > findDocumentByName > should find a document by name with null folder filter 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > findDocumentByName > should return null if document not found 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > findDocumentByName > should throw error if projectId is missing 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > findDocumentByName > should throw error if documentName is missing 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > findDocumentByName > should wrap API errors with context 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocumentVersion > should create a new version with incremented version number 3ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocumentVersion > should handle version increments correctly 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocumentVersion > should default to version 1.1 if no version exists 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocumentVersion > should throw error if documentId is missing 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocumentVersion > should throw error if newFileUrl is missing 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocumentVersion > should wrap errors 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getDocumentVersions > should fetch all versions in chronological order 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getDocumentVersions > should throw error if documentId is missing 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getDocumentVersions > should wrap errors 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getLatestVersion > should return the latest version 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getLatestVersion > should throw error if no latest version found 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getLatestVersion > should wrap errors 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > revertToVersion > should revert to a previous version 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > revertToVersion > should handle case with no current latest version 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > revertToVersion > should throw error if versionId is missing 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > revertToVersion > should wrap errors 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > compareVersions > should compare two versions and return differences 2ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > compareVersions > should return empty differences if versions are identical 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > compareVersions > should wrap errors 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItems > should fetch schedule items for a project 7ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItems > should apply show_completed filter 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItems > should apply milestones_only filter 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItems > should apply date range filters 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItems > should apply search filter 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItems > should apply critical_only filter 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItems > should handle database errors 3ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItem > should fetch a single schedule item 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItem > should throw error when item ID is not provided 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItem > should throw error when item not found 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > createScheduleItem > should create a new schedule item 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > createScheduleItem > should throw error when project_id is missing 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > createScheduleItem > should throw error when task_name is missing 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > createScheduleItem > should handle database errors 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > updateScheduleItem > should update a schedule item 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > updateScheduleItem > should throw error when item ID is missing 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > updateScheduleItem > should handle database errors 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > deleteScheduleItem > should soft delete a schedule item 3ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > deleteScheduleItem > should throw error when item ID is missing 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > deleteScheduleItem > should handle database errors 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > updateProgress > should update progress percentage 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > updateProgress > should clamp progress to 0-100 range 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getDependencies > should fetch all dependencies for a project 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getDependencies > should throw error when project ID is missing 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getDependencies > should handle database errors 2ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > createDependency > should create a dependency 2ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > createDependency > should throw error when predecessor/successor IDs are missing 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > createDependency > should throw error for self-dependency 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > createDependency > should handle database errors on create 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > deleteDependency > should delete a dependency 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > deleteDependency > should throw error when dependency ID is missing 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleStats > should calculate schedule statistics correctly 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleStats > should calculate overall progress correctly 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleStats > should handle empty schedule 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleDateRange > should find earliest start and latest finish dates 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleDateRange > should return null for empty schedule 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItemsWithVariance > should fetch schedule items with variance 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItemsWithVariance > should handle database errors 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > saveBaseline > should save a baseline 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > saveBaseline > should handle database errors 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > clearBaseline > should clear baseline 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > clearBaseline > should handle database errors 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getBaselines > should fetch all baselines for a project 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > hasBaseline > should return true if baseline exists 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > hasBaseline > should return false if no baseline exists 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > hasBaseline > should return false on error 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > importScheduleItems > should import schedule items 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > importScheduleItems > should clear existing items when requested 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > importScheduleItems > should handle batch import errors 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > importDependencies > should import dependencies 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > importDependencies > should collect errors for failed dependencies 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > updateCriticalPath > should update critical path flags 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > updateCriticalPath > should handle empty critical task list 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > reorderItems > should reorder schedule items 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 1-3: Contract Sum Calculations > should calculate Line 3 (Contract Sum to Date) = Line 1 + Line 2 3ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 1-3: Contract Sum Calculations > should handle negative change orders 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 1-3: Contract Sum Calculations > should handle zero change orders 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 4: Total Completed and Stored to Date > should calculate total from G703 Column G 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 4: Total Completed and Stored to Date > should handle zero materials stored 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 4: Total Completed and Stored to Date > should handle first application (no previous work) 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 5: Retainage Calculations > should calculate Line 5a (retainage from completed work) 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 5: Retainage Calculations > should calculate Line 5b (retainage from stored materials) 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 5: Retainage Calculations > should calculate total retainage (Line 5a + 5b) 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 5: Retainage Calculations > should handle zero retainage 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 5: Retainage Calculations > should handle 5% retainage 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 5: Retainage Calculations > should handle 15% retainage 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 6: Total Earned Less Retainage > should calculate Line 6 = Line 4 - Line 5 Total 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 6: Total Earned Less Retainage > should handle zero retainage 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 7: Less Previous Certificates for Payment > should track cumulative previous payments 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 7: Less Previous Certificates for Payment > should be zero for first application 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 8: Current Payment Due (CRITICAL) > should calculate Line 8 = Line 6 - Line 7 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 8: Current Payment Due (CRITICAL) > should handle first application (no previous certificates) 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 8: Current Payment Due (CRITICAL) > should handle 100% complete with retainage release 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 8: Current Payment Due (CRITICAL) > should never be negative 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 9: Balance to Finish > should calculate Line 9 = Line 3 - Line 6 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 9: Balance to Finish > should equal zero when project is 100% complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 9: Balance to Finish > should include retainage in balance 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Percent Complete Calculation > should calculate percent complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Percent Complete Calculation > should handle 0% complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Percent Complete Calculation > should handle 100% complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Percent Complete Calculation > should handle division by zero 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should generate PDF blob 149ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should include project information 9ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should include contractor information 10ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should include architect information 11ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should include owner information 17ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should handle null/missing project information 17ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should include all calculation rows 15ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should format retainage percentage correctly 9ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should include contractor certification section 11ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should generate PDF with basic RFI info 10ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should fetch company info when not provided 2ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should use provided company info 2ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render project information 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render dates section with overdue highlighting 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render references section when present 2ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should skip references when all fields empty 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render question in a box 2ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render response when present 2ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should show awaiting response when no response 2ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render cost and schedule impact 33ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render distribution list when present 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should skip distribution when empty 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render attachments table when includeAttachments is true 4ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should skip attachments when includeAttachments is false 3ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render comments when includeComments is true 2ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should skip comments when includeComments is false 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > downloadRFIPDF > should generate and download PDF 2ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > downloadRFIPDF > should create download link with correct filename 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > downloadRFIPDF > should cleanup blob URL after download 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFILogPDF > should generate RFI log with summary stats 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFILogPDF > should create table with all RFIs 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFILogPDF > should truncate long subjects 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFILogPDF > should add footers to all pages 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > downloadRFILogPDF > should generate and download RFI log 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > downloadRFILogPDF > should create download link with sanitized filename 1ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should include architect certificate section 8ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should include signature dates when provided 9ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > downloadG702PDF > should trigger download with correct filename 14ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > downloadG702PDF > should sanitize project name in filename 11ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 Edge Cases and Real-World Scenarios > should handle first payment application 14ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 Edge Cases and Real-World Scenarios > should handle final payment with retainage release 9ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 Edge Cases and Real-World Scenarios > should handle negative change orders 13ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 Edge Cases and Real-World Scenarios > should handle zero retainage project 8ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 Edge Cases and Real-World Scenarios > should handle large contract values 8ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 Edge Cases and Real-World Scenarios > should handle small contract values 7ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > should generate correct base key 3ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > connection keys > should generate correct connection base key 1ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > connection keys > should generate correct connection status key 1ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > account mapping keys > should generate correct account mappings base key 1ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > account mapping keys > should generate correct account mappings list key 1ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > entity mapping keys > should generate correct entity mappings base key 0ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > entity mapping keys > should generate correct entity mapping key 0ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > entity mapping keys > should generate correct entity mappings list key with options 1ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > sync keys > should generate correct sync logs base key 0ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > sync keys > should generate correct sync log key 0ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > sync keys > should generate correct pending syncs base key 0ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > sync keys > should generate correct stats key 0ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > sync keys > should generate correct dashboard key 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 Edge Cases and Real-World Scenarios > should handle materials stored without completed work this period 9ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBConnectionStatus > should fetch connection status 102ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBConnectionStatus > should return connected status correctly 76ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBConnection > should fetch raw connection 71ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useInitiateQBConnection > should exist and be callable 4ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useCompleteQBConnection > should exist and be callable 3ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useRefreshQBToken > should exist and be callable 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useUpdateQBConnection > should exist and be callable 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useDisconnectQB > should exist and be callable 3ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBAccountMappings > should fetch account mappings 73ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useCreateQBAccountMapping > should exist and be callable 4ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useUpdateQBAccountMapping > should exist and be callable 3ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useDeleteQBAccountMapping > should exist and be callable 4ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useSetDefaultQBMapping > should exist and be callable 8ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBEntityMapping > should fetch entity mapping 69ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBEntityMapping > should not fetch when entityId is undefined 3ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBEntityMappings > should fetch entity mappings list 78ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBAccounts > should fetch QuickBooks accounts 71ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBAccounts > should not fetch when connectionId is undefined 5ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useSyncEntity > should exist and be callable 4ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useBulkSync > should exist and be callable 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQueueForSync > should exist and be callable 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useRetrySync > should exist and be callable 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useCancelPendingSync > should exist and be callable 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBSyncLogs > should fetch sync logs 71ms
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getVendorBidHistory > should fetch and calculate vendor bid history metrics
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getVendorBidHistory > should handle vendor with no bids
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getVendorBidHistory > should filter by divisions
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getVendorWinRate > should calculate win rate by division
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getBidAccuracyAnalysis > should analyze bid accuracy vs actual costs
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getBidAccuracyAnalysis > should handle project with no awarded bids
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getPriceVarianceByTrade > should calculate variance statistics by trade
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getPriceVarianceByTrade > should handle trade with no data
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getBidTrendAnalysis > should analyze bid trends over time
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getRecommendedVendors > should score and rank vendors based on performance
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getRecommendedVendors > should return empty array when no vendors found
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > generateBidPerformanceReport > should generate comprehensive performance report
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > Error handling > should handle database errors gracefully
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > Error handling > should throw ApiErrorClass for known errors
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBSyncLogs > should fetch sync logs with filters 71ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBSyncLog > should fetch single sync log 71ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBSyncLog > should not fetch when logId is undefined 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBPendingSyncs > should fetch pending syncs 74ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should generate basic submittal PDF 9ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should fetch company info when not provided 2ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should use provided company info 2ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should add document header with submittal number and date 5ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should render project information section 4ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should render status in project info 4ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should render spec section with title 1ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should render submittal type 1ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should render subcontractor and discipline 2ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should render dates section 3ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should highlight overdue dates in red 1ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should render submittal details with title and description 1ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should render items table when includeItems is true 2ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should not render items table when includeItems is false 1ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should render review comments with approved highlighting 1ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should render review history when includeReviews is true 1ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should not render review history when includeReviews is false 1ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should render attachments table when includeAttachments is true 1ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should not render attachments when includeAttachments is false 1ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should add footers to all pages 1ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should handle null dates gracefully 1ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalPDF > should handle missing subcontractor gracefully 1ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > downloadSubmittalPDF > should trigger download with correct filename 2ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > downloadSubmittalPDF > should sanitize project name in filename 2ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > downloadSubmittalPDF > should cleanup blob URL after download 1ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalLogPDF > should generate submittal log PDF with landscape orientation 2ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalLogPDF > should render summary statistics 1ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalLogPDF > should render submittal table with all columns 2ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalLogPDF > should truncate long titles to 40 characters 1ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > generateSubmittalLogPDF > should add footers to all pages in log 1ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > downloadSubmittalLogPDF > should trigger download with correct filename 2ms
 ✓ src/features/submittals/utils/__tests__/pdfExport.test.ts > Submittal PDF Export > downloadSubmittalLogPDF > should sanitize project name and truncate to 30 characters 4ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBSyncStats > should fetch sync stats 70ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBDashboard > should fetch dashboard data 75ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useIsEntitySynced > should return synced status for synced entity 68ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useIsEntitySynced > should return not synced for non-existent entity 78ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > QuickBooks Integration Security > should require company_id for all operations 73ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > QuickBooks Integration Security > should handle token expiration status 68ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > QuickBooks Integration Security > should handle connection errors gracefully 79ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > QuickBooks Integration Security > should track sync status accurately 79ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > jsaKeys > should have correct base key 3ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > jsaKeys > should generate list keys with filters 1ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > jsaKeys > should generate list keys without filters 0ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > jsaKeys > should generate detail key 0ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > jsaKeys > should generate hazards key 0ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > jsaKeys > should generate acknowledgments key 0ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > jsaKeys > should generate attachments key 0ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > jsaKeys > should generate templates key with filters 0ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > jsaKeys > should generate template detail key 0ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > jsaKeys > should generate stats key 0ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > jsaKeys > should generate next number key 0ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useJSAs > should fetch JSAs 96ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useJSAs > should apply project filter 18ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useJSAs > should apply status filter 15ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useJSAs > should apply date range filters 15ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useJSA > should fetch single JSA with details 59ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useJSA > should not fetch when jsaId is empty 110ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useJSAHazards > should fetch hazards for JSA 72ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useJSAAcknowledgments > should fetch acknowledgments for JSA 82ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useJSATemplates > should fetch templates for company 80ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useJSATemplates > should apply category filter 15ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useNextJSANumber > should fetch next JSA number 68ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useJSAStatistics > should fetch JSA statistics 70ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useJSAStatistics > should return defaults when no stats 70ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useCreateJSA > should create a new JSA 18ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useCreateJSA > should create JSA with hazards 7ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useUpdateJSA > should update JSA 3ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useDeleteJSA > should delete draft JSA 3ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > JSA Status Workflow > should submit JSA for review (draft → pending_review) 3ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > JSA Status Workflow > should approve JSA (pending_review → approved) 6ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > JSA Status Workflow > should start work (approved → in_progress) 4ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > JSA Status Workflow > should complete JSA (in_progress → completed) 4ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > JSA Status Workflow > should cancel JSA 4ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > Hazard Management > should add hazard to JSA 9ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > Hazard Management > should update hazard 11ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > Hazard Management > should verify hazard controls 3ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > Hazard Management > should remove hazard 3ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > Acknowledgment Management > should add acknowledgment 3ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > Acknowledgment Management > should add acknowledgment with signature 3ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > Acknowledgment Management > should remove acknowledgment 5ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > useCreateJSATemplate > should create new template 3ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > Attachment Management > should upload attachment 4ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > Attachment Management > should delete attachment 3ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > createEmptyMetrics > should create metrics with all zero values 3ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > createEmptyMetrics > should set status date correctly 1ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > createEmptyMetrics > should default status values to good 1ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > createEmptyMetrics > should set data currency to current 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > calculateTrend > should return stable for single value 1ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > calculateTrend > should return stable for empty array 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > calculateTrend > should return improving for upward trend 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > calculateTrend > should return declining for downward trend 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > calculateTrend > should return stable for flat values 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > calculateTrend > should return stable for small variations 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > calculateTrend > should handle exactly 2 values 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > calculateTrend > should use only last 7 values for long arrays 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > determineRiskLevel > should return low for healthy project with no alerts 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > determineRiskLevel > should return medium for CSI below 1.0 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > determineRiskLevel > should return medium for warning alerts 1ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > determineRiskLevel > should return high for CSI below 0.9 1ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > determineRiskLevel > should return high for single critical alert 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > determineRiskLevel > should return critical for CSI below 0.8 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > determineRiskLevel > should return critical for multiple critical alerts 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > determineRiskLevel > should prioritize CSI over alert count 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Variance (CV) > should calculate positive variance (under budget) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Variance (CV) > should calculate negative variance (over budget) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Variance (CV) > should return zero when EV equals AC 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Variance (CV) > should handle zero values 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Schedule Variance (SV) > should calculate positive variance (ahead of schedule) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Schedule Variance (SV) > should calculate negative variance (behind schedule) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Schedule Variance (SV) > should return zero when on schedule 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Performance Index (CPI) > should calculate CPI above 1.0 (under budget) 1ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Performance Index (CPI) > should calculate CPI below 1.0 (over budget) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Performance Index (CPI) > should return 1.0 when EV equals AC 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Performance Index (CPI) > should handle zero AC (division by zero) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Performance Index (CPI) > should calculate precise decimal values 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Schedule Performance Index (SPI) > should calculate SPI above 1.0 (ahead of schedule) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Schedule Performance Index (SPI) > should calculate SPI below 1.0 (behind schedule) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Schedule Performance Index (SPI) > should return 1.0 when on schedule 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Schedule Performance Index (SPI) > should handle zero PV (division by zero) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost-Schedule Index (CSI) > should multiply CPI and SPI 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost-Schedule Index (CSI) > should indicate combined poor performance 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost-Schedule Index (CSI) > should indicate combined good performance 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate at Completion (EAC) - CPI-based > should forecast higher cost when CPI < 1 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate at Completion (EAC) - CPI-based > should forecast lower cost when CPI > 1 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate at Completion (EAC) - CPI-based > should equal BAC when CPI = 1 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate at Completion (EAC) - CPI-based > should handle zero CPI 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate at Completion (EAC) - CPI*SPI-based > should be more conservative than CPI-only 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate at Completion (EAC) - CPI*SPI-based > should account for schedule impact 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate at Completion (EAC) - CPI*SPI-based > should handle zero CPI*SPI 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate to Complete (ETC) > should calculate remaining cost 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate to Complete (ETC) > should return zero when complete 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate to Complete (ETC) > should handle negative (money returned scenario) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Variance at Completion (VAC) > should be negative when over budget 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Variance at Completion (VAC) > should be positive when under budget 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Variance at Completion (VAC) > should be zero when on budget 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > To-Complete Performance Index (TCPI) > TCPI to meet BAC > should require higher efficiency when behind 1ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > To-Complete Performance Index (TCPI) > TCPI to meet BAC > should require lower efficiency when ahead 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > To-Complete Performance Index (TCPI) > TCPI to meet BAC > should handle edge case when exactly on track 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > To-Complete Performance Index (TCPI) > TCPI to meet BAC > should handle budget exhausted 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > To-Complete Performance Index (TCPI) > TCPI to meet EAC > should be lower than TCPI_BAC when EAC > BAC 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > To-Complete Performance Index (TCPI) > TCPI to meet EAC > should be higher than TCPI_BAC when EAC < BAC 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Variance > should calculate positive variance percentage 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Variance > should calculate negative variance percentage 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Variance > should handle zero baseline 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Complete > should calculate earned percentage of budget 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Complete > should handle zero BAC 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Complete > should handle over 100% (extra work) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Spent > should calculate actual cost percentage of budget 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Spent > should indicate budget overrun 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Spent > should handle zero BAC 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Performance Status Determination > should return good for index >= 1.0 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Performance Status Determination > should return warning for index >= 0.95 and < 1.0 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Performance Status Determination > should return at_risk for index >= 0.9 and < 0.95 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Performance Status Determination > should return critical for index < 0.9 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Commercial Building Project - Month 6 > should calculate correct variances 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Commercial Building Project - Month 6 > should calculate correct performance indices 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Commercial Building Project - Month 6 > should calculate correct forecasts 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Commercial Building Project - Month 6 > should identify project as at-risk 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Highway Project - Ahead of Schedule > should show positive variances 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Highway Project - Ahead of Schedule > should show healthy performance indices 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Highway Project - Ahead of Schedule > should forecast under-budget completion 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Highway Project - Ahead of Schedule > should identify project as healthy 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Renovation Project - Severe Overrun > should show severe negative variances 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Renovation Project - Severe Overrun > should show poor performance indices 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Renovation Project - Severe Overrun > should forecast significant overrun 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Renovation Project - Severe Overrun > should indicate unrealistic TCPI to meet original budget 0ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > Error Handling > should handle fetch error 85ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > Error Handling > should handle mutation error 7ms
 ✓ src/features/jsa/hooks/useJSA.test.tsx > Risk Level Handling > should handle different risk levels in hazards 78ms
stderr | src/features/approvals/hooks/useApprovals.test.tsx > useApprovalRequests > should return empty array on error
[useApprovalRequests] Query failed: Error: DB error
    at C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/src/features/approvals/hooks/useApprovals.test.tsx:296:43
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1209:10)
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1653:37
    at Traces.$ (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)
    at runTest (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1653:12)

 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalRequests > should fetch approval requests 108ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalRequests > should fetch requests with filters 76ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalRequests > should return empty array on error 76ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalRequest > should fetch single request 72ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalRequest > should not fetch when requestId is undefined 5ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > usePendingApprovals > should fetch pending approvals for user 63ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > usePendingApprovals > should not fetch when userId is undefined 3ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useRFIWorkflowType > should fetch RFI workflow type for company 128ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useRFIWorkflowType > should be disabled when company_id is not available 6ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > usePendingApprovals > should return empty summary on error 69ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useRFIs > should fetch all RFIs for a project 77ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useRFIs > should be disabled when projectId or workflowTypeId is undefined 5ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useRFIs > should filter out soft-deleted RFIs 63ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useEntityApprovalStatus > should fetch entity status 72ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useEntityApprovalStatus > should not fetch when entityType is undefined 3ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useEntityApprovalStatus > should not fetch when entityId is undefined 2ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useCanUserApprove > should check if user can approve 53ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useCanUserApprove > should return false when params are missing 3ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useCreateApprovalRequest > should create approval request 5ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useCancelApprovalRequest > should cancel approval request 3ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useRFI > should fetch single RFI by ID 74ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useRFI > should throw error when rfiId is undefined 14ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalHistory > should fetch approval history 64ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalHistory > should not fetch when requestId is undefined 2ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApproveRequest > should approve request 3ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApproveRequest > should approve request without comment 2ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApproveWithConditions > should approve with conditions 3ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useRejectRequest > should reject request with comment 3ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useDelegateRequest > should delegate request 3ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useAddApprovalComment > should add comment 2ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useRFIsByStatus > should fetch RFIs filtered by status 71ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useRFIsByStatus > should throw error when projectId is undefined 4ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useMyRFIs > should fetch RFIs assigned to current user 70ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalWorkflows > should fetch workflows for company 65ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalWorkflows > should fetch workflows with type filter 74ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalWorkflows > should not fetch when companyId is undefined 2ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useMyRFIs > should filter by project when projectId provided 82ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useMyRFIs > should throw error when user is not authenticated 5ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useActiveWorkflowsByType > should fetch active workflows by type 79ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useActiveWorkflowsByType > should not fetch when companyId is undefined 3ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useActiveWorkflowsByType > should not fetch when workflowType is undefined 2ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useRFIComments > should fetch comments for an RFI 80ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useRFIComments > should throw error when rfiId is undefined 4ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useRFIHistory > should fetch history for an RFI 73ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useRFIHistory > should throw error when rfiId is undefined 4ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useCreateRFI > should create RFI with auto-generated number 7ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useCreateRFI > should throw error when title is empty 4ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useCreateRFI > should throw error when user is not authenticated 3ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useUpdateRFI > should update RFI fields 4ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useUpdateRFI > should throw error when ID is missing 3ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useChangeRFIStatus > should change RFI status and set opened_date when submitted 3ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useChangeRFIStatus > should set closed_date when status is closed 3ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useChangeRFIStatus > should throw error for invalid status 3ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useAddRFIComment > should add comment to RFI 5ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useAddRFIComment > should throw error when comment is empty 4ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useDeleteRFI > should soft delete RFI 4ms
 ✓ src/features/rfis/hooks/useRFIs.test.ts > useDeleteRFI > should throw error when ID is missing 3ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalWorkflow > should fetch single workflow 57ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalWorkflow > should not fetch when workflowId is undefined 2ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useCreateApprovalWorkflow > should create workflow 3ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useUpdateApprovalWorkflow > should update workflow 3ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useDeleteApprovalWorkflow > should delete workflow 2ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useDuplicateApprovalWorkflow > should duplicate workflow 2ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > Approval Security Tests > should check user authorization before approving 64ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > Approval Security Tests > should track entity approval status 75ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Initial Session Loading > should load session and user profile on mount 113ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Initial Session Loading > should handle no initial session 71ms
stderr | src/features/approvals/hooks/useApprovals.test.tsx > Approval Error Handling > should handle API errors gracefully for requests
[useApprovalRequests] Query failed: Error: Network error
    at C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/src/features/approvals/hooks/useApprovals.test.tsx:820:43
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1209:10)
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1653:37
    at Traces.$ (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)
    at runTest (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1653:12)

 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Sign In with MFA > should sign in without MFA when not required 76ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > Approval Security Tests > should provide pending count for badge display 81ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > Approval Security Tests > should require comment when rejecting 3ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > Approval Security Tests > should track delegation chain 3ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > Approval Error Handling > should handle API errors gracefully for requests 67ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > Approval Error Handling > should handle mutation errors 6ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Sign In with MFA > should require MFA verification for enrolled superintendent 75ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Sign In with MFA > should handle sign in error 77ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > reportBuilderKeys > should generate base key 3ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > reportBuilderKeys > should generate template keys 1ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > reportBuilderKeys > should generate template list key with filters 1ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > reportBuilderKeys > should generate scheduled report keys 1ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > reportBuilderKeys > should generate generated report keys 1ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > reportBuilderKeys > should generate field definition keys 1ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Sign Out with MFA Cleanup > should clear MFA verification on sign out 69ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useReportTemplates > should fetch report templates 108ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useReportTemplates > should fetch templates with filters 75ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Sign Out with MFA Cleanup > should clear MFA state on sign out 90ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > MFA Status Management > should refresh MFA status 82ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useReportTemplate > should fetch single template 83ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useReportTemplate > should not fetch when id is undefined 5ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useCreateReportTemplate > should create a new template 13ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useCreateReportTemplate > should handle create error 7ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useUpdateReportTemplate > should update a template 7ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useDeleteReportTemplate > should delete a template 3ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useDuplicateReportTemplate > should duplicate a template 4ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useSetTemplateFields > should set template fields 3ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > MFA Status Management > should check if MFA is required 74ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > MFA Status Management > should return false when no user profile 72ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > MFA Verification Helpers > should mark MFA as verified 62ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useScheduledReports > should fetch scheduled reports 67ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useScheduledReport > should fetch single scheduled report 68ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useCreateScheduledReport > should create a scheduled report 4ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useToggleScheduledReportActive > should activate a scheduled report 3ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useToggleScheduledReportActive > should pause a scheduled report 2ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > MFA Verification Helpers > should clear MFA verification 71ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useGeneratedReports > should fetch generated reports 72ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useGeneratedReports > should fetch with filters 14ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useGeneratedReport > should fetch single generated report 74ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useGenerateReport > should generate a report 3ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useFieldDefinitions > should fetch field definitions for data source 72ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useFieldDefinitions > should not fetch when data source is undefined 2ms
 ✓ src/types/cost-tracking.test.ts > COST_TYPES > should have 3 cost types 4ms
 ✓ src/types/cost-tracking.test.ts > COST_TYPES > should have direct cost type 1ms
 ✓ src/types/cost-tracking.test.ts > COST_TYPES > should have indirect cost type 0ms
 ✓ src/types/cost-tracking.test.ts > COST_TYPES > should have overhead cost type 0ms
 ✓ src/types/cost-tracking.test.ts > COST_TYPES > should have all values with labels 1ms
 ✓ src/types/cost-tracking.test.ts > TRANSACTION_TYPES > should have 4 transaction types 0ms
 ✓ src/types/cost-tracking.test.ts > TRANSACTION_TYPES > should have commitment type with blue color 0ms
 ✓ src/types/cost-tracking.test.ts > TRANSACTION_TYPES > should have actual type with green color 0ms
 ✓ src/types/cost-tracking.test.ts > TRANSACTION_TYPES > should have adjustment type with orange color 0ms
 ✓ src/types/cost-tracking.test.ts > TRANSACTION_TYPES > should have forecast type with purple color 0ms
 ✓ src/types/cost-tracking.test.ts > TRANSACTION_TYPES > should have all values with labels and colors 0ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have 8 source types 0ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have change_order source type with label "Change Order" 0ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have invoice source type with label "Invoice" 0ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have timesheet source type with label "Timesheet" 0ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have material source type with label "Material" 0ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have equipment source type with label "Equipment" 0ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have subcontract source type with label "Subcontract" 0ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have purchase_order source type with label "Purchase Order" 0ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have manual source type with label "Manual Entry" 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > should have 35 CSI divisions 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > General group > should have Division 00 - Procurement and Contracting Requirements 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > General group > should have Division 01 - General Requirements 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 02 - Existing Conditions 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 03 - Concrete 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 04 - Masonry 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 05 - Metals 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 06 - Wood, Plastics, and Composites 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 07 - Thermal and Moisture Protection 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 08 - Openings 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 09 - Finishes 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 10 - Specialties 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 11 - Equipment 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 12 - Furnishings 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 13 - Special Construction 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 14 - Conveying Equipment 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Services group > should have Division 21 - Fire Suppression 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Services group > should have Division 22 - Plumbing 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Services group > should have Division 23 - HVAC 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Services group > should have Division 25 - Integrated Automation 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Services group > should have Division 26 - Electrical 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Services group > should have Division 27 - Communications 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Services group > should have Division 28 - Electronic Safety and Security 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Site and Infrastructure group > should have Division 31 - Earthwork 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Site and Infrastructure group > should have Division 32 - Exterior Improvements 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Site and Infrastructure group > should have Division 33 - Utilities 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Site and Infrastructure group > should have Division 34 - Transportation 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Site and Infrastructure group > should have Division 35 - Waterway and Marine Construction 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Process Equipment group > should have Division 40 - Process Interconnections 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Process Equipment group > should have Division 41 - Material Processing and Handling Equipment 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Process Equipment group > should have Division 42 - Process Heating, Cooling, and Drying Equipment 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Process Equipment group > should have Division 43 - Process Gas and Liquid Handling 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Process Equipment group > should have Division 44 - Pollution and Waste Control Equipment 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Process Equipment group > should have Division 45 - Industry-Specific Manufacturing Equipment 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Process Equipment group > should have Division 46 - Water and Wastewater Equipment 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Process Equipment group > should have Division 48 - Electrical Power Generation 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > should have unique division codes 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > should have all divisions with required fields 2ms
 ✓ src/types/cost-tracking.test.ts > Type definitions > CostType > should accept valid cost types 0ms
 ✓ src/types/cost-tracking.test.ts > Type definitions > TransactionType > should accept valid transaction types 0ms
 ✓ src/types/cost-tracking.test.ts > Type definitions > SourceType > should accept valid source types 0ms
 ✓ src/types/cost-tracking.test.ts > Interface validation > CostCode interface > should validate a complete cost code object 0ms
 ✓ src/types/cost-tracking.test.ts > Interface validation > ProjectBudget interface > should validate a complete project budget object 0ms
 ✓ src/types/cost-tracking.test.ts > Interface validation > CostTransaction interface > should validate a complete cost transaction object 0ms
 ✓ src/types/cost-tracking.test.ts > Interface validation > ProjectBudgetWithDetails interface > should include computed fields 0ms
 ✓ src/types/cost-tracking.test.ts > Interface validation > CostCodeWithChildren interface > should support hierarchical structure 0ms
 ✓ src/types/cost-tracking.test.ts > DTO validation > CreateCostCodeDTO > should validate required fields 0ms
 ✓ src/types/cost-tracking.test.ts > DTO validation > CreateCostCodeDTO > should accept optional fields 0ms
 ✓ src/types/cost-tracking.test.ts > DTO validation > CreateProjectBudgetDTO > should validate required fields 0ms
 ✓ src/types/cost-tracking.test.ts > DTO validation > CreateCostTransactionDTO > should validate required fields 0ms
 ✓ src/types/cost-tracking.test.ts > Filter interfaces > CostCodeFilters > should validate filter options 0ms
 ✓ src/types/cost-tracking.test.ts > Filter interfaces > ProjectBudgetFilters > should validate filter options 0ms
 ✓ src/types/cost-tracking.test.ts > Filter interfaces > CostTransactionFilters > should validate filter options 0ms
 ✓ src/types/cost-tracking.test.ts > Statistics types > ProjectBudgetTotals > should validate budget totals structure 0ms
 ✓ src/types/cost-tracking.test.ts > Statistics types > BudgetSummaryByDivision > should validate division summary structure 0ms
 ✓ src/types/cost-tracking.test.ts > Statistics types > CostTrendDataPoint > should validate trend data structure 0ms
 ✓ src/types/cost-tracking.test.ts > Form data types > ProjectBudgetFormData > should use string types for form inputs 0ms
 ✓ src/types/cost-tracking.test.ts > Form data types > CostTransactionFormData > should use string types for form inputs 0ms
 ✓ src/types/cost-tracking.test.ts > Form data types > CostTransactionFormData > should allow empty source_type 0ms
 ✓ src/types/cost-tracking.test.ts > CSI Division grouping > should have correct number of divisions per group 0ms
 ✓ src/types/cost-tracking.test.ts > CSI Division grouping > should cover all five CSI MasterFormat groups 1ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > lookAheadKeys > should generate correct query keys 5ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Auth State Changes > should refresh MFA status on auth state change 229ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Auth State Changes > should clear MFA state on sign out event 87ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > useAuthWithMFA Hook > should throw error when used outside provider 10ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useAllFieldDefinitions > should fetch all field definitions 64ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > useDefaultFields > should fetch default fields for data source 63ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > Report Builder Business Logic > should support all output formats 0ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > Report Builder Business Logic > should support all schedule frequencies 0ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > Report Builder Business Logic > should track field properties correctly 0ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > Report Builder Business Logic > should maintain field sort order 0ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > Report Builder Business Logic > should support recipient lists for scheduled reports 0ms
 ✓ src/features/reports/hooks/useReportBuilder.test.tsx > useReportBuilder hooks > Report Builder Business Logic > should track report generation status 1ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Activity Query Hooks > useLookAheadActivities > should fetch activities for a project 103ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Activity Query Hooks > useLookAheadActivities > should fetch activities with filters 70ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Activity Query Hooks > useLookAheadActivities > should not fetch when projectId is undefined 5ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Security Critical Tests > should handle MFA status fetch errors gracefully 78ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Activity Query Hooks > useActivitiesForWeek > should fetch activities for a specific week 73ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Activity Query Hooks > useActivitiesForWeek > should not fetch when week date is undefined 4ms
stderr | src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Security Critical Tests > should handle profile fetch failure during sign in
Error fetching user profile: Error: Profile not found
    at C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/src/lib/auth/AuthContextWithMFA.test.tsx:788:22
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1209:10)
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1653:37
    at Traces.$ (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)
    at runTest (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1653:12)

 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Security Critical Tests > should not expose MFA verification status to unauthenticated users 75ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Security Critical Tests > should handle profile fetch failure during sign in 78ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Activity Query Hooks > useActivitiesByWeek > should fetch activities grouped by week 56ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Activity Query Hooks > useActivitiesByWeek > should fetch with base date 10ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Activity Query Hooks > useLookAheadActivity > should fetch a single activity 73ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Activity Mutation Hooks > useCreateActivity > should create an activity 75ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Activity Mutation Hooks > useCreateActivity > should throw error when user not authenticated 71ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Activity Mutation Hooks > useUpdateActivity > should update an activity 69ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Activity Mutation Hooks > useMoveActivityToWeek > should move an activity to a different week 67ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Activity Mutation Hooks > useUpdateActivityStatus > should update activity status 75ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Activity Mutation Hooks > useDeleteActivity > should delete an activity 61ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Constraint Query Hooks > useActivityConstraints > should fetch constraints for an activity 65ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Constraint Query Hooks > useActivityConstraints > should not fetch when activityId is undefined 2ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Constraint Query Hooks > useProjectOpenConstraints > should fetch open constraints for a project 70ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Constraint Mutation Hooks > useCreateConstraint > should create a constraint 72ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Constraint Mutation Hooks > useUpdateConstraint > should update a constraint 74ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Constraint Mutation Hooks > useDeleteConstraint > should delete a constraint 73ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Snapshot & PPC Hooks > useLookAheadSnapshots > should fetch snapshots for a project 78ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Snapshot & PPC Hooks > useLookAheadSnapshots > should fetch with limit 12ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Snapshot & PPC Hooks > usePPCMetrics > should fetch PPC metrics for a project 74ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Snapshot & PPC Hooks > useCreateSnapshot > should create a snapshot 73ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Template Hooks > useLookAheadTemplates > should fetch templates for a company 72ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Template Hooks > useLookAheadTemplates > should fetch templates filtered by trade 9ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Template Hooks > useCreateActivityFromTemplate > should create activity from template 59ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Dashboard Hook > useLookAheadDashboardStats > should fetch dashboard stats 77ms
 ✓ src/features/look-ahead/hooks/useLookAhead.test.tsx > Dashboard Hook > useLookAheadDashboardStats > should not fetch when projectId is undefined 3ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalLinks > should fetch links for an approval request 111ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalLinks > should not fetch when approvalRequestId is undefined 6ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalLinks > should handle fetch error 82ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useCreatePublicApprovalLink > should create a new approval link 11ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useCreatePublicApprovalLink > should handle creation error 10ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useRevokePublicApprovalLink > should revoke an approval link 5ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useValidatePublicApprovalToken > should validate a token 71ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useValidatePublicApprovalToken > should return invalid validation for bad token 67ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useValidatePublicApprovalToken > should not validate when token is undefined 11ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Basic Rendering > renders the loading screen 149ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Basic Rendering > renders with default message 32ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Basic Rendering > renders with custom message 22ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Basic Rendering > does not render message when empty string provided 22ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Basic Rendering > renders the logo icon 14ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalPageData > should fetch page data for valid token 69ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalPageData > should return null for invalid token 72ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useSubmitClientApprovalResponse > should submit approval response 5ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useSubmitClientApprovalResponse > should handle rejection decision 6ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useSubmitClientApprovalResponse > should handle changes_requested decision 7ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useSubmitClientApprovalResponse > should handle rate limit error 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Basic Rendering > renders tagline 15ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Layout and Styling > is full screen with fixed positioning 27ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Layout and Styling > uses flexbox for centering 14ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Layout and Styling > has gradient background 11ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Layout and Styling > accepts custom className 9ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Layout and Styling > has animated background grid 18ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Logo Presentation > renders logo with correct size 12ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalLinkManager > should provide all link management operations 73ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Logo Presentation > logo has drop shadow 10ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Logo Presentation > logo has glow effect containers 10ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Logo Presentation > logo has gradient background container 12ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Progress Bar > renders progress bar 10ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Progress Bar > progress bar has gradient fill 12ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Progress Bar > progress bar is rounded 9ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Status Dots > renders three status dots 13ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Status Dots > dots have staggered animation delays 10ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Animations > includes inline animation styles 9ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Animations > has gridSlide animation keyframes 13ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalLinkManager > should create link through manager 84ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalPage > should provide page data and submit function 83ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Animations > has pulseGlow animation keyframes 13ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Animations > has construct animation keyframes 14ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Animations > has progressSlide animation keyframes 10ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Animations > has fadeInUp animation keyframes 15ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Animations > has bounce animation keyframes 11ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Dark Mode Support > has dark mode gradient colors for logo 12ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Dark Mode Support > has dark mode colors for progress bar 12ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Dark Mode Support > has dark mode colors for status dots 11ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Text Content > message has uppercase styling 26ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Text Content > message has semibold font 13ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Text Content > tagline has tracking 12ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Text Content > tagline has disabled text color 13ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Basic Rendering > renders spinner 7ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Basic Rendering > has spin animation 2ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Basic Rendering > has primary color 2ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Basic Rendering > has dark mode color 2ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Size Variants > renders small size 2ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Size Variants > renders medium size by default 2ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Size Variants > renders large size 2ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Custom Styling > accepts custom className 2ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Custom Styling > combines size and custom classes 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > SVG Structure > has circle element for background 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > SVG Structure > has path element for spinner arc 2ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > SVG Structure > circle has opacity styling 2ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > SVG Structure > path has opacity styling 2ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Visibility Control > renders when show is true 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Visibility Control > does not render when show is false 1ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Visibility Control > toggles visibility based on show prop 8ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Layout and Styling > is full screen with fixed positioning 3ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalPage > should handle invalid token 77ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Layout and Styling > has backdrop blur effect 5ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Layout and Styling > has semi-transparent background 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Layout and Styling > has high z-index for layering 5ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Layout and Styling > centers content 5ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Card Styling > has glass morphism card 7ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Card Styling > card has rounded corners 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Card Styling > card has border 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Content > renders logo icon 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Content > logo has correct size 2ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Content > renders loading spinner 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Content > renders message when provided 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Content > does not render message when not provided 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Content > message has correct styling 5ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Dark Mode Support > has dark mode card background 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Dark Mode Support > has dark mode border color 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Dark Mode Support > message has dark mode text color 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Logo Glow Effect > has glow effect container 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Logo Glow Effect > logo has gradient background 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Basic Rendering > renders button loader 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Basic Rendering > uses inline-flex layout 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Basic Rendering > has gap between dots 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Dots > renders three dots 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Dots > dots are circular 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Dots > dots use current color 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Dots > dots have staggered animation delays 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Dots > dots have bounce animation 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Custom Styling > accepts custom className 5ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Projects > should only return projects for the current tenant 5ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Projects > should block direct access to other tenant projects by ID 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Projects > should allow access to own tenant projects 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Daily Reports > should only return daily reports for the current tenant 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Daily Reports > should block cross-tenant report access by ID 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Payment Applications > should isolate payment applications by tenant 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Payment Applications > should block access to other tenant financial data 0ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Change Orders > should block access to other tenant change orders 0ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > RFIs > should isolate RFIs by tenant 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Users > should only show users from current tenant 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Users > should block access to user details from other tenant 0ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Resource Creation > should automatically set company_id to current tenant 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Resource Creation > should NEVER allow specifying a different company_id 2ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Nested Resource Access > should block access to nested resources through valid-looking paths 0ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Nested Resource Access > should validate project belongs to tenant before allowing report access 0ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - ID Enumeration Prevention > should not reveal existence of resources through error messages 0ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Bulk Operations > should filter bulk queries to only return tenant data 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Search Operations > should only search within tenant data 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Search Operations > should prevent SQL injection attempts from bypassing tenant filter 1ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalPage > should submit response through page hook 157ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Custom Styling > combines default and custom classes 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Integration > can be used inline with text 9ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Integration > inherits text color when used in button 5ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > Component Integration > all components can be imported from the same module 0ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > Component Integration > LoadingOverlay uses LoadingSpinner internally 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > Component Integration > all components share consistent branding 15ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > Edge Cases > handles very long message in LoadingScreen 8ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > Edge Cases > handles very long message in LoadingOverlay 5ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > Edge Cases > handles rapid show/hide toggling in LoadingOverlay 6ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > Edge Cases > handles undefined className gracefully 15ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalPage > should throw error when submitting without valid link 60ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Edge Cases > should handle link with existing response 78ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Edge Cases > should handle multi-use link 63ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > getWaiversNeedingReminders > should fetch waivers needing reminders within threshold 6ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > getWaiversNeedingReminders > should handle errors when fetching waivers 4ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > getOverdueWaivers > should fetch only overdue waivers 1ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > getProjectManagerEmail > should return PM email when found 1ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > getProjectManagerEmail > should return null when PM not found 1ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > sendWaiverReminder > should send reminder email for upcoming due date 30ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > sendWaiverReminder > should send overdue reminder and escalate to PM 2ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > sendWaiverReminder > should fail gracefully when no recipient email found 1ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > sendWaiverReminder > should handle email sending errors 2ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > processReminders > should process batch of reminders successfully 2ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > processReminders > should skip waivers without due dates 1ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > processReminders > should handle partial failures in batch 1ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > getReminderStats > should calculate reminder statistics correctly 1ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > getReminderStats > should handle empty waiver list 2ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Edge Cases > should handle revoked link 74ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Edge Cases > should handle expired link 72ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Edge Cases > should handle approval with signature 5ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Edge Cases > should handle approval with conditions 2ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > should generate correct base key 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > cost codes keys > should generate correct cost codes base key 1ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > cost codes keys > should generate correct cost codes list key 1ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > cost codes keys > should generate correct cost codes tree key 1ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > cost codes keys > should generate correct cost code detail key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > budget keys > should generate correct budgets base key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > budget keys > should generate correct budgets list key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > budget keys > should generate correct budget detail key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > budget keys > should generate correct budget totals key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > budget keys > should generate correct budget by division key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > transaction keys > should generate correct transactions base key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > transaction keys > should generate correct transactions list key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > transaction keys > should generate correct transaction detail key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > transaction keys > should generate correct transaction totals key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostCodes > should fetch cost codes with filters 102ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostCodes > should not fetch when companyId is missing 4ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostCodesTree > should fetch cost codes tree 74ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostCodesTree > should not fetch when companyId is undefined 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostCode > should fetch single cost code 68ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostCode > should not fetch when id is undefined 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCreateCostCode > should exist and be callable 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useUpdateCostCode > should exist and be callable 2ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useDeleteCostCode > should exist and be callable 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useSeedCSIDivisions > should exist and be callable 2ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useProjectBudgets > should fetch project budgets 72ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useProjectBudgets > should not fetch when projectId is missing 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useProjectBudget > should fetch single budget 69ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useProjectBudgetTotals > should fetch project budget totals 72ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useProjectBudgetTotals > should not fetch when projectId is undefined 2ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useBudgetByDivision > should fetch budget summary by division 67ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCreateProjectBudget > should exist and be callable 2ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useUpdateProjectBudget > should exist and be callable 2ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useDeleteProjectBudget > should exist and be callable 2ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useBulkCreateBudgets > should exist and be callable 2ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostTransactions > should fetch transactions with filters 62ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostTransactions > should not fetch when projectId is missing 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostTransaction > should fetch single transaction 71ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useTransactionTotalsByType > should fetch transaction totals by type 72ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCreateCostTransaction > should exist and be callable 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useUpdateCostTransaction > should exist and be callable 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useDeleteCostTransaction > should exist and be callable 2ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > Financial Calculation Accuracy > should correctly calculate budget variance 1ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > Financial Calculation Accuracy > should correctly calculate percent spent 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > Financial Calculation Accuracy > should handle zero budget without division by zero 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > Financial Calculation Accuracy > should correctly aggregate budget totals 1ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > Financial Calculation Accuracy > should correctly aggregate transaction totals 0ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > calculateExecutionScore > should calculate binary score - all pass 5ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > calculateExecutionScore > should calculate binary score - any fail 1ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > calculateExecutionScore > should calculate percentage score correctly 1ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > calculateExecutionScore > should calculate points-based score correctly 1ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > calculateExecutionScore > should handle N/A items correctly when included in total 1ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > calculateExecutionScore > should handle N/A items correctly when excluded from total 1ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > calculateExecutionScore > should auto-fail on critical item failure 2ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > calculateExecutionScore > should calculate letter grade correctly 1ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > getScoringReport > should calculate summary statistics correctly 0ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Payment Application Query Keys > should generate correct query keys 4ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Utility Functions > formatCurrency > should format positive numbers 24ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Utility Functions > formatCurrency > should handle null/undefined 0ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Utility Functions > formatCurrency > should format negative numbers 1ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Utility Functions > formatPercent > should format percentages 0ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Utility Functions > formatPercent > should handle null/undefined 0ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Utility Functions > getStatusColor > should return correct colors for each status 1ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > addDraft > should add a new draft punch item 5ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > addDraft > should generate unique ID for draft 2ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > addDraft > should set created_at timestamp 1ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > addDraft > should add to sync queue with create operation 1ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > addDraft > should include all optional fields 1ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > updateDraft > should update existing draft 1ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > updateDraft > should mark draft as not synced 1ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > updateDraft > should update existing sync queue entry 1ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > updateDraft > should not add queue entry for already synced item without pending entry 1ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > updateDraft > should handle update of non-existent draft gracefully 1ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > removeDraft > should remove draft 1ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > removeDraft > should remove associated sync queue entry 1ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > markSynced > should mark draft as synced 0ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > markSynced > should replace local ID with server ID 0ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > markSynced > should remove from sync queue 1ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > markSyncError > should set sync error on draft 0ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > Sync Queue > should add to sync queue 1ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > Sync Queue > should remove from sync queue 1ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > Sync Queue > should increment attempt count 1ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > Sync Queue > should clear entire sync queue 1ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > getPendingCount > should return count of pending sync items 1ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > getPendingCount > should return 0 when queue is empty 0ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > getDraftById > should return draft by ID 0ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > getDraftById > should return undefined for non-existent ID 0ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > Hooks > usePendingPunchCount should return sync queue length 0ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > Hooks > usePunchDrafts should return all drafts 0ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > Hooks > useUnsyncedPunchItems should return only unsynced items 0ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > Floor Plan Location > should store floor plan pin location 0ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > Floor Plan Location > should update floor plan location 0ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > Pending Photos > should store pending photo URLs 0ms
 ✓ src/features/punch-lists/store/offlinePunchStore.test.ts > Offline Punch Store > Pending Photos > should update pending photos 0ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_DOCUMENT_TYPES > should contain all document types 3ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_DOCUMENT_TYPES > should have value, label, and category for each type 4ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_DOCUMENT_TYPES > should have unique values 1ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_DOCUMENT_TYPES > should include common closeout document types 1ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_DOCUMENT_TYPES > should map types to correct categories 1ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_STATUSES > should contain all status values 0ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_STATUSES > should have value, label, and color for each status 1ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_STATUSES > should include all status values 1ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_STATUSES > should have appropriate colors 0ms
 ✓ src/types/closeout.test.ts > Closeout Constants > WARRANTY_TYPES > should contain all warranty types 0ms
 ✓ src/types/closeout.test.ts > Closeout Constants > WARRANTY_TYPES > should include warranty type values 0ms
 ✓ src/types/closeout.test.ts > Closeout Constants > WARRANTY_STATUSES > should contain all warranty statuses 0ms
 ✓ src/types/closeout.test.ts > Closeout Constants > WARRANTY_STATUSES > should include all status values 0ms
 ✓ src/types/closeout.test.ts > Closeout Constants > WARRANTY_STATUSES > should have appropriate colors 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutDocumentTypeLabel > should return correct labels for known types 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutDocumentTypeLabel > should return the type value for unknown types 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutDocumentCategory > should return correct categories for known types 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutDocumentCategory > should return documentation for unknown types 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutStatusColor > should return correct colors for statuses 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutStatusColor > should return gray for unknown status 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getWarrantyStatusColor > should return correct colors for warranty statuses 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getWarrantyStatusColor > should return gray for unknown status 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > isWarrantyExpiringSoon > should return false for non-active warranty 1ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > isWarrantyExpiringSoon > should return true when within default 90 day threshold 1ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > isWarrantyExpiringSoon > should return false when beyond threshold 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > isWarrantyExpiringSoon > should return false when already expired 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > isWarrantyExpiringSoon > should use custom threshold 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getDaysUntilWarrantyExpiration > should return positive days for future date 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getDaysUntilWarrantyExpiration > should return negative days for past date 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutTrafficLight > should return gray for zero total 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutTrafficLight > should return red when there are rejected items 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutTrafficLight > should return green when all approved 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutTrafficLight > should return yellow when some approved or pending 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutTrafficLight > should return gray when no progress 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > groupDocumentsBySpecSection > should group documents by spec section 1ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > groupDocumentsBySpecSection > should handle empty array 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > groupDocumentsByCategory > should group documents by category 1ms
 ✓ src/types/closeout.test.ts > Closeout Type Structures > should have all properties on CloseoutDocument interface 0ms
 ✓ src/types/closeout.test.ts > Closeout Type Structures > should have all properties on Warranty interface 0ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Query Hooks > useProjectPaymentApplications > should fetch payment applications for a project 100ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Query Hooks > useProjectPaymentApplications > should not fetch when projectId is undefined 5ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Query Hooks > useProjectPaymentApplications > should handle errors 78ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Query Hooks > usePaymentApplication > should fetch a single payment application 71ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Query Hooks > usePaymentApplication > should not fetch when applicationId is undefined 5ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Query Hooks > useScheduleOfValues > should fetch SOV items for an application 69ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Query Hooks > usePaymentApplicationHistory > should fetch history for an application 73ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Mutation Hooks > useCreatePaymentApplication > should create a new payment application 6ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Mutation Hooks > useUpdatePaymentApplication > should update a payment application 3ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Mutation Hooks > useSubmitPaymentApplication > should submit a payment application 4ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Mutation Hooks > useApprovePaymentApplication > should approve a payment application 3ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Mutation Hooks > useRejectPaymentApplication > should reject a payment application with reason 3ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Mutation Hooks > useMarkPaymentApplicationPaid > should mark a payment application as paid 3ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Mutation Hooks > useDeletePaymentApplication > should soft delete a payment application 3ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > SOV Item Mutation Hooks > useCreateSOVItem > should create a SOV item 3ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > SOV Item Mutation Hooks > useUpdateSOVItem > should update a SOV item 3ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > SOV Item Mutation Hooks > useBulkUpdateSOVItems > should bulk update multiple SOV items 3ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > SOV Item Mutation Hooks > useDeleteSOVItem > should delete a SOV item 3ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > SOV Item Mutation Hooks > useCopySOVFromPrevious > should copy SOV from previous application 3ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Payment Calculation Tests > should calculate contract sum to date correctly 1ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Payment Calculation Tests > should calculate total completed and stored correctly 0ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Payment Calculation Tests > should calculate retainage correctly 0ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Payment Calculation Tests > should calculate current payment due correctly (G702 Line 8) 0ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Payment Calculation Tests > should calculate balance to finish correctly (G702 Line 9) 0ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Payment Calculation Tests > should calculate percent complete correctly 0ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Project Payment Summary > should calculate total billed excluding drafts and void 0ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Project Payment Summary > should calculate total received from paid applications 0ms
 ✓ src/features/payment-applications/hooks/usePaymentApplications.test.tsx > Project Payment Summary > should calculate outstanding balance 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should have all key as base 3ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate lists key 1ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate list with filters key 1ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate detail key 1ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate stats key 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate items key 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate invitations key 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate questions key 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate addenda key 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate submissions key 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate comparison key 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Query Hooks > useBidPackages > should fetch bid packages with filters 104ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Query Hooks > useBidPackage > should fetch single bid package 67ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Query Hooks > useBidPackage > should not fetch when id is undefined 4ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Query Hooks > useBidPackageItems > should fetch bid package items 73ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Invitation Hooks > useBidInvitations > should fetch invitations 81ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Invitation Hooks > useSendBidInvitation > should send invitation 66ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > collectProjectSnapshot > should collect a snapshot successfully 5ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > collectProjectSnapshot > should handle snapshot collection error 3ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getProjectSnapshots > should fetch project snapshots 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getProjectSnapshots > should filter snapshots by date range 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getProjectSnapshots > should return empty array when no snapshots found 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getLatestSnapshot > should fetch the latest snapshot 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getLatestSnapshot > should return null when no snapshots exist 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getLatestPrediction > should fetch the latest prediction 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > storePrediction > should store a new prediction 2ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getRiskScores > should fetch risk assessment for project 2ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getRiskScores > should handle risk calculation errors 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getRecommendations > should fetch all recommendations for project 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getRecommendations > should filter recommendations by category 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getRecommendations > should filter recommendations by status 0ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > acknowledgeRecommendation > should acknowledge a recommendation 3ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > implementRecommendation > should mark recommendation as implemented 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > dismissRecommendation > should dismiss a recommendation with reason 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getActiveModel > should fetch active model by type 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getModels > should fetch all models 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getDashboardData > should fetch complete dashboard data 2ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > Error Handling > should wrap database errors in ApiErrorClass 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > Error Handling > should handle network errors 1ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Question Hooks > useBidQuestions > should fetch questions 61ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Question Hooks > useAnswerBidQuestion > should answer question 76ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Addenda Hooks > useBidAddenda > should fetch addenda 82ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Addenda Hooks > useCreateAddendum > should create addendum 63ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Submission Hooks > useBidSubmissions > should fetch submissions 55ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Submission Hooks > useBidSubmission > should fetch single submission 77ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Submission Hooks > useCreateBidSubmission > should create submission 64ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Submission Hooks > useUpdateBidSubmissionStatus > should update submission status 71ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > siteInstructionKeys > should have correct base key 2ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > siteInstructionKeys > should generate lists key 1ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > siteInstructionKeys > should generate list key with project and filters 1ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > siteInstructionKeys > should generate details key 0ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > siteInstructionKeys > should generate detail key 0ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > siteInstructionKeys > should generate history key 0ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > siteInstructionKeys > should generate comments key 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Submission Hooks > useUpdateBidSubmissionStatus > should handle disqualification with reason 68ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Mutation Hooks > useCreateBidPackage > should create bid package 70ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useSiteInstructions > should fetch site instructions for project 97ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Mutation Hooks > useUpdateBidPackage > should update bid package 71ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Mutation Hooks > usePublishBidPackage > should publish bid package 61ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useSiteInstructions > should not fetch when projectId is empty 114ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useSiteInstructions > should apply status filter (single) 15ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useSiteInstructions > should apply status filter (array) 15ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useSiteInstructions > should apply priority filter 15ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useSiteInstructions > should apply subcontractor filter 10ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useSiteInstructions > should apply search filter 12ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Mutation Hooks > useDeleteBidPackage > should soft delete bid package 77ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > costEstimateKeys > should generate correct base key 3ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > costEstimateKeys > should generate correct lists base key 1ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > costEstimateKeys > should generate correct list key for project 0ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > costEstimateKeys > should generate correct details base key 0ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > costEstimateKeys > should generate correct detail key for estimate 0ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > costEstimateKeys > should generate correct items key for estimate 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Mutation Hooks > useAwardBid > should award bid 67ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Error Handling > should handle fetch error 71ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useSiteInstruction > should fetch single site instruction with details 74ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useProjectEstimates > should fetch project estimates 102ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useProjectEstimates > should not fetch when projectId is undefined 4ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useEstimate > should fetch single estimate with items 79ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useEstimate > should not fetch when estimateId is undefined 5ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useSiteInstruction > should not fetch when id is empty 108ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useCreateSiteInstruction > should create site instruction with draft status 7ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useUpdateSiteInstruction > should update site instruction 3ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useDeleteSiteInstruction > should soft delete site instruction 4ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > Site Instruction Status Workflow > useIssueSiteInstruction > should issue site instruction (draft → issued) 4ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > Site Instruction Status Workflow > useAcknowledgeSiteInstruction > should acknowledge site instruction 4ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > Site Instruction Status Workflow > useStartSiteInstruction > should start site instruction (acknowledged → in_progress) 3ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > Site Instruction Status Workflow > useCompleteSiteInstruction > should complete site instruction (in_progress → completed) 3ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > Site Instruction Status Workflow > useVerifySiteInstruction > should verify site instruction (completed → verified) 3ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > Site Instruction Status Workflow > useVoidSiteInstruction > should void site instruction 3ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useEstimateItems > should fetch estimate items 67ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useEstimateItems > should not fetch when estimateId is undefined 3ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useSiteInstructionHistory > should fetch history for site instruction 68ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useSiteInstructionComments > should fetch comments for site instruction 74ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useAddSiteInstructionComment > should add comment to site instruction 4ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useCreateEstimate > should create estimate successfully 74ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useCreateEstimate > should handle create error 76ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useSiteInstructionAttachments > should fetch attachments for site instruction 71ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useUploadSiteInstructionAttachment > should upload attachment 5ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > useDeleteSiteInstructionAttachment > should delete attachment 3ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useUpdateEstimate > should update estimate successfully 85ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > Error Handling > should handle query error 70ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > Error Handling > should handle mutation error 4ms
 ✓ src/features/site-instructions/hooks/useSiteInstructions.test.tsx > Priority Levels > should handle different priority levels 77ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useUpdateEstimate > should handle update error 65ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useDeleteEstimate > should delete estimate successfully 63ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useDeleteEstimate > should handle delete error 65ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useDuplicateEstimate > should duplicate estimate successfully 62ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useDuplicateEstimate > should handle duplicate error 66ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useAddEstimateItem > should add estimate item successfully 79ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useAddEstimateItem > should handle add item error 71ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useUpdateEstimateItem > should update estimate item successfully 65ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useUpdateEstimateItem > should handle update item error 82ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useDeleteEstimateItem > should delete estimate item successfully 78ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useDeleteEstimateItem > should handle delete item error 67ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useCreateEstimateFromTakeoff > should create estimate from takeoff successfully 63ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useCreateEstimateFromTakeoff > should handle create from takeoff error 70ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useOptimisticEstimateUpdate > should return a function 2ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useOptimisticEstimateUpdate > should update estimate in cache optimistically 3ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useOptimisticItemUpdate > should return a function 2ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useOptimisticItemUpdate > should update item in cache optimistically 2ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Cost Calculation Business Logic > should calculate material cost correctly 0ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Cost Calculation Business Logic > should calculate labor cost correctly 0ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Cost Calculation Business Logic > should calculate total cost correctly 0ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Cost Calculation Business Logic > should calculate markup correctly 0ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Cost Calculation Business Logic > should handle zero values 0ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Cost Calculation Business Logic > should handle decimal quantities 0ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Edge Cases > should handle empty estimate list 65ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Edge Cases > should handle estimate with no items 62ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Edge Cases > should handle null estimate 70ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > initializeDraft > should initialize a new draft report 4ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > initializeDraft > should clear previous data when initializing new draft 2ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > initializeFromPreviousReport > should copy data from previous report 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > initializeFromPreviousReport > should copy workforce with new IDs 2ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > initializeFromPreviousReport > should clear submission/approval fields 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > initializeFromExistingReport > should load existing report for editing 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > initializeFromExistingReport > should add to sync queue with server timestamp 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > initializeFromExistingReport > should keep existing IDs for related data 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > updateDraft > should update draft fields 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > updateDraft > should handle null draft gracefully 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Workforce Entries > should add workforce entry 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Workforce Entries > should update total workers when adding team entry 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Workforce Entries > should update total workers when adding individual entry 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Workforce Entries > should update workforce entry 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Workforce Entries > should remove workforce entry 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Workforce Entries > should calculate total workers correctly with mixed entries 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Equipment Entries > should add equipment entry 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Equipment Entries > should update equipment entry 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Equipment Entries > should remove equipment entry 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Delivery Entries > should add delivery entry 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Delivery Entries > should update delivery entry 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Delivery Entries > should remove delivery entry 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Visitor Entries > should add visitor entry 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Visitor Entries > should update visitor entry 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Visitor Entries > should remove visitor entry 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Photos > should add photo 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Photos > should update photo 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Photos > should update photo caption 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Photos > should remove photo 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Sync Status > should set sync status 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Sync Status > should set sync status with error 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Sync Status > should set online status 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Sync Queue > should add item to sync queue 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Sync Queue > should remove item from sync queue 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Sync Queue > should update sync queue item 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Conflict Resolution > should set conflict 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Conflict Resolution > should clear conflict when set to null 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Conflict Resolution > should resolve conflict with keep_local strategy 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Conflict Resolution > should resolve conflict with keep_server strategy 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Conflict Resolution > should resolve conflict with merge strategy 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > clearDraft > should clear all data 2ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_STATUSES > should have 5 sync statuses 2ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_STATUSES > should have pending status with gray color 1ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_STATUSES > should have syncing status with blue color 0ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_STATUSES > should have synced status with green color 0ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_STATUSES > should have failed status with red color 0ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_STATUSES > should have skipped status with yellow color 0ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_STATUSES > should have all values with required fields 1ms
 ✓ src/types/quickbooks.test.ts > QB_ENTITY_TYPES > should have 6 entity types 0ms
 ✓ src/types/quickbooks.test.ts > QB_ENTITY_TYPES > should map vendor to subcontractors 0ms
 ✓ src/types/quickbooks.test.ts > QB_ENTITY_TYPES > should map bill to change_orders 0ms
 ✓ src/types/quickbooks.test.ts > QB_ENTITY_TYPES > should map invoice to payment_applications 0ms
 ✓ src/types/quickbooks.test.ts > QB_ENTITY_TYPES > should map expense to cost_transactions 0ms
 ✓ src/types/quickbooks.test.ts > QB_ENTITY_TYPES > should map customer to projects 0ms
 ✓ src/types/quickbooks.test.ts > QB_ENTITY_TYPES > should map account to cost_codes 0ms
 ✓ src/types/quickbooks.test.ts > QB_ENTITY_TYPES > should have all values with required fields 0ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_DIRECTIONS > should have 3 sync directions 0ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_DIRECTIONS > should have to_quickbooks direction 0ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_DIRECTIONS > should have from_quickbooks direction 0ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_DIRECTIONS > should have bidirectional direction 0ms
 ✓ src/types/quickbooks.test.ts > QB_API_URLS > OAuth URLs > should have authorize URL 0ms
 ✓ src/types/quickbooks.test.ts > QB_API_URLS > OAuth URLs > should have token URL 0ms
 ✓ src/types/quickbooks.test.ts > QB_API_URLS > OAuth URLs > should have revoke URL 0ms
 ✓ src/types/quickbooks.test.ts > QB_API_URLS > OAuth URLs > should have userInfo URL 0ms
 ✓ src/types/quickbooks.test.ts > QB_API_URLS > API Base URLs > should have production API URL 0ms
 ✓ src/types/quickbooks.test.ts > QB_API_URLS > API Base URLs > should have sandbox API URL 0ms
 ✓ src/types/quickbooks.test.ts > QB_API_URLS > should have scopes defined 0ms
 ✓ src/types/quickbooks.test.ts > getQBEntityType > should return vendor for subcontractors 0ms
 ✓ src/types/quickbooks.test.ts > getQBEntityType > should return bill for change_orders 0ms
 ✓ src/types/quickbooks.test.ts > getQBEntityType > should return invoice for payment_applications 0ms
 ✓ src/types/quickbooks.test.ts > getQBEntityType > should return expense for cost_transactions 0ms
 ✓ src/types/quickbooks.test.ts > getQBEntityType > should return customer for projects 0ms
 ✓ src/types/quickbooks.test.ts > getQBEntityType > should return account for cost_codes 0ms
 ✓ src/types/quickbooks.test.ts > getQBEntityType > should return null for unknown entity type 0ms
 ✓ src/types/quickbooks.test.ts > getLocalEntityType > should return subcontractors for vendor 0ms
 ✓ src/types/quickbooks.test.ts > getLocalEntityType > should return change_orders for bill 0ms
 ✓ src/types/quickbooks.test.ts > getLocalEntityType > should return payment_applications for invoice 0ms
 ✓ src/types/quickbooks.test.ts > getLocalEntityType > should return cost_transactions for expense 0ms
 ✓ src/types/quickbooks.test.ts > getLocalEntityType > should return projects for customer 0ms
 ✓ src/types/quickbooks.test.ts > getLocalEntityType > should return cost_codes for account 0ms
 ✓ src/types/quickbooks.test.ts > getLocalEntityType > should return null for unknown QB entity type 0ms
 ✓ src/types/quickbooks.test.ts > getSyncStatusConfig > should return correct config for pending 0ms
 ✓ src/types/quickbooks.test.ts > getSyncStatusConfig > should return correct config for synced 0ms
 ✓ src/types/quickbooks.test.ts > getSyncStatusConfig > should return correct config for failed 0ms
 ✓ src/types/quickbooks.test.ts > getSyncStatusConfig > should return first status for unknown value 1ms
 ✓ src/types/quickbooks.test.ts > connectionNeedsRefresh > should return true when token_expires_at is null 0ms
 ✓ src/types/quickbooks.test.ts > connectionNeedsRefresh > should return true when token expires within 5 minutes 1ms
 ✓ src/types/quickbooks.test.ts > connectionNeedsRefresh > should return false when token is valid for more than 5 minutes 0ms
 ✓ src/types/quickbooks.test.ts > connectionNeedsReauth > should return true when refresh_token_expires_at is null 0ms
 ✓ src/types/quickbooks.test.ts > connectionNeedsReauth > should return true when refresh token is expired 0ms
 ✓ src/types/quickbooks.test.ts > connectionNeedsReauth > should return false when refresh token is still valid 0ms
 ✓ src/types/quickbooks.test.ts > getQBApiBaseUrl > should return sandbox URL when isSandbox is true 0ms
 ✓ src/types/quickbooks.test.ts > getQBApiBaseUrl > should return production URL when isSandbox is false 0ms
 ✓ src/types/quickbooks.test.ts > buildQBApiUrl > should build correct sandbox URL 0ms
 ✓ src/types/quickbooks.test.ts > buildQBApiUrl > should build correct production URL 0ms
 ✓ src/types/quickbooks.test.ts > buildQBApiUrl > should handle different endpoints 0ms
 ✓ src/types/quickbooks.test.ts > QBConnection interface > should validate a complete connection object 0ms
 ✓ src/types/quickbooks.test.ts > QBAccountMapping interface > should validate a complete account mapping 0ms
 ✓ src/types/quickbooks.test.ts > QBEntityMapping interface > should validate a complete entity mapping 0ms
 ✓ src/types/quickbooks.test.ts > QBSyncLog interface > should validate a complete sync log 0ms
 ✓ src/types/quickbooks.test.ts > QBPendingSync interface > should validate a complete pending sync 0ms
 ✓ src/types/quickbooks.test.ts > QBConnectionStatus interface > should validate connection status structure 0ms
 ✓ src/types/quickbooks.test.ts > QBSyncStats interface > should validate sync stats structure 0ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > transmittalKeys > should generate correct base key 3ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > transmittalKeys > should generate correct lists key 1ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > transmittalKeys > should generate correct list key (detail) 0ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > transmittalKeys > should generate correct items key 0ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > transmittalKeys > should generate correct attachments key 0ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > transmittalKeys > should generate correct next number key 0ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useTransmittals > should fetch transmittals list 104ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useTransmittals > should apply project filter 69ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useTransmittals > should apply status filter 81ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useTransmittal > should fetch single transmittal 72ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useTransmittal > should not fetch when id is empty 4ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useTransmittalItems > should fetch items for transmittal 80ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useTransmittalItems > should not fetch when transmittal id is empty 2ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useTransmittalAttachments > should fetch attachments for transmittal 71ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useNextTransmittalNumber > should fetch next transmittal number via RPC 78ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useNextTransmittalNumber > should not fetch when project id is empty 4ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useTransmittalStats > should calculate stats from transmittals 76ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useCreateTransmittal > should exist and be callable 3ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useCreateTransmittal > should create transmittal 73ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LIEN_WAIVER_TYPES > should contain all four waiver types 7ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LIEN_WAIVER_TYPES > should have correct conditional flags 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LIEN_WAIVER_TYPES > should have human-readable labels for all types 2ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LIEN_WAIVER_TYPES > should have correct labels 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LIEN_WAIVER_STATUSES > should contain all nine status values 2ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LIEN_WAIVER_STATUSES > should have color codes for all statuses 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LIEN_WAIVER_STATUSES > should have appropriate colors for status states 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LIEN_WAIVER_STATUSES > should have descriptions for all statuses 2ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > US_STATES > should contain all 50 US states 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > US_STATES > should have valid state codes (2 characters) 7ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > US_STATES > should identify states with statutory form requirements 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > US_STATES > should have unique state codes 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > US_STATES > should include major construction states 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getWaiverTypeLabel > should return correct label for known types 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getWaiverTypeLabel > should return the type value for unknown types 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getWaiverStatusLabel > should return correct label for known statuses 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getWaiverStatusLabel > should return the status value for unknown statuses 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getWaiverStatusColor > should return correct color for known statuses 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getWaiverStatusColor > should return gray for unknown statuses 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isConditionalWaiver > should return true for conditional waiver types 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isConditionalWaiver > should return false for unconditional waiver types 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isConditionalWaiver > should return false for unknown types 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isFinalWaiver > should return true for final waiver types 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isFinalWaiver > should return false for progress waiver types 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isFinalWaiver > should return false for unknown types 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getStateName > should return correct state name for known codes 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getStateName > should return the code for unknown states 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > hasStatutoryForm > should return true for states with statutory forms 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > hasStatutoryForm > should return false for states without statutory forms 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > hasStatutoryForm > should return false for unknown state codes 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > formatWaiverAmount > should format amounts as USD currency 31ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > formatWaiverAmount > should handle decimal amounts correctly 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > formatWaiverAmount > should format large construction amounts 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isWaiverOverdue > should return false when due_date is null 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isWaiverOverdue > should return false for approved waivers 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isWaiverOverdue > should return false for void waivers 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isWaiverOverdue > should return true for pending waiver past due date 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isWaiverOverdue > should return false for pending waiver with future due date 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isWaiverOverdue > should return true for sent waiver past due date 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getDaysUntilDue > should return positive days for future due dates 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getDaysUntilDue > should return negative days for past due dates 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getDaysUntilDue > should return 0 or 1 for today 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getDaysUntilDue > should handle date strings correctly 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LienWaiverTemplate interface > should have required fields for template identification 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LienWaiverRequirement interface > should have required fields for payment waiver enforcement 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > ProjectWaiverSummary interface > should track all waiver status counts 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > WaiverComplianceStatus interface > should track compliance percentage correctly 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > WaiverComplianceStatus interface > should identify compliant status 0ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useUpdateTransmittal > should update transmittal 79ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useSendTransmittal > should send transmittal 75ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useReceiveTransmittal > should mark transmittal as received 73ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useAcknowledgeTransmittal > should acknowledge transmittal 69ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useVoidTransmittal > should void transmittal 86ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useDeleteTransmittal > should delete draft transmittal 83ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useAddTransmittalItem > should add item to transmittal 69ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useUpdateTransmittalItem > should update transmittal item 69ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > useRemoveTransmittalItem > should remove item from transmittal 71ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Default Mode > renders theme toggle 95ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > Transmittal Status Workflow > should support draft -> sent transition 72ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > Transmittal Status Workflow > should support sent -> received transition 66ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > Transmittal Status Workflow > should support received -> acknowledged transition 79ms
 ✓ src/types/drawing.test.ts > Drawing Types > DRAWING_DISCIPLINES > should have all expected disciplines 4ms
 ✓ src/types/drawing.test.ts > Drawing Types > DRAWING_DISCIPLINES > should have exactly 9 disciplines 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > DRAWING_DISCIPLINES > should have standard prefixes 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > DRAWING_DISCIPLINES > should have labels for all disciplines 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > DRAWING_STATUSES > should have all expected statuses 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > DRAWING_STATUSES > should have exactly 4 statuses 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DRAWING_STATUSES > should have appropriate colors 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DRAWING_STATUSES > should have labels for all statuses 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > REVISION_TYPES > should have all expected revision types 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > REVISION_TYPES > should have exactly 5 revision types 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > REVISION_TYPES > should have ASI label with full name 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > REVISION_TYPES > should have labels for all types 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > SHEET_SIZES > should have standard sheet sizes 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > SHEET_SIZES > should have architectural sheet sizes 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > SHEET_SIZES > should have exactly 10 sheet sizes 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > SHEET_SIZES > should have dimensions for all sizes 2ms
 ✓ src/types/drawing.test.ts > Drawing Types > SHEET_SIZES > should have correct dimensions for standard sizes 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > ISSUE_PURPOSES > should have all expected issue purposes 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > ISSUE_PURPOSES > should have exactly 6 issue purposes 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > ISSUE_PURPOSES > should have labels matching values 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > MARKUP_TYPES > should have all expected markup types 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > MARKUP_TYPES > should have exactly 7 markup types 3ms
 ✓ src/types/drawing.test.ts > Drawing Types > MARKUP_TYPES > should have icons for all types 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > MARKUP_TYPES > should have appropriate icons 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Type definitions > DrawingDiscipline type > should accept valid disciplines 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Type definitions > DrawingStatus type > should accept valid statuses 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Type definitions > RevisionType type > should accept valid revision types 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Type definitions > MarkupType type > should accept valid markup types 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Type definitions > MarkupStatus type > should accept valid markup statuses 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Type definitions > DrawingSetStatus type > should accept valid set statuses 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Type definitions > IssuePurpose type > should accept valid issue purposes 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Type definitions > SheetSize type > should accept valid sheet sizes 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Drawing interface > should have all required fields 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Drawing interface > should allow optional fields 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingInsert interface > should require minimum fields for insert 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingRevision interface > should have all required fields 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingRevision interface > should allow ASI revision type 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingSet interface > should have all required fields 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingSet interface > should allow items array 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingTransmittal interface > should have all required fields 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingTransmittal interface > should track acknowledgment 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingMarkup interface > should have all required fields 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingMarkup interface > should allow position and dimension 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingMarkup interface > should track resolution 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingFilters interface > should support all filter options 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingRegisterEntry interface > should have all expected fields 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DisciplineSummary interface > should have all expected fields 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > RevisionHistoryEntry interface > should have all expected fields 0ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > Error Handling > should handle fetch error 71ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > Error Handling > should handle mutation error 71ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Default Mode > displays current theme label 16ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > Transmittal Filters > should support date range filters 78ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Default Mode > shows dropdown trigger button 344ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Default Mode > displays sun icon for light theme 18ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > Transmittal Filters > should support search filter 73ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > Transmittal Filters > should support response required filter 71ms
 ✓ src/features/transmittals/hooks/useTransmittals.test.tsx > Transmittal Filters > should support to company filter 74ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Default Mode > shows theme options when dropdown is opened 671ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Default Mode > calls setTheme when light option is clicked 472ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Default Mode > calls setTheme when dark option is clicked 487ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Default Mode > calls setTheme when system option is clicked 464ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Compact Mode > renders in compact mode 31ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Compact Mode > does not show label in compact mode 11ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Compact Mode > has accessible aria-label in compact mode 16ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Compact Mode > has screen reader only text 12ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should have all key as base 4ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should generate documents key without projectId 1ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should generate documents key with projectId 1ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should generate document detail key 1ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should generate warranties key 1ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should generate warranty detail key 0ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should generate checklist key 0ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should generate documentStats key 0ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should generate warrantyStats key 0ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Compact Mode > shows dropdown menu in compact mode 422ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Compact Mode > has icon button styling in compact mode 22ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Label Display > shows label by default 9ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Label Display > hides label when showLabel is false 9ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Label Display > shows label when showLabel is true 11ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Theme States > displays correct icon for light theme 9ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Theme States > displays correct icon for dark theme 8ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Theme States > displays correct icon for system theme 7ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Theme States > displays correct label for dark theme 8ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Theme States > displays correct label for system theme 7ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Role Assignment > should have valid role hierarchy with correct levels 3ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Role Assignment > should define all standard roles 1ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Role Assignment > should correctly compare role levels 1ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Admin Role > should have all permissions 1ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Company Admin Role > should have company-wide management permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Company Admin Role > should NOT have system admin permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Company Admin Role > should NOT be able to delete users (admin only) 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Project Manager Role > should have project-level permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Project Manager Role > should NOT have company admin permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Superintendent Role > should have field operations permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Superintendent Role > should NOT have project management permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Foreman Role > should have team leader permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Foreman Role > should NOT have approval permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Field Worker Role > should have basic field access 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Field Worker Role > should NOT have edit or management permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Subcontractor Role > should have limited external access 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Viewer Role > should have read-only access 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Viewer Role > should NOT have any write permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Inheritance > should ensure higher roles have all permissions of lower roles for basic operations 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Inheritance > should ensure admin has all company_admin permissions 1ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Inheritance > should ensure project_manager has all superintendent permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Security Critical Denials > should deny field_worker from accessing financial data 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Security Critical Denials > should deny foreman from approving change orders 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Security Critical Denials > should deny superintendent from user management 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Security Critical Denials > should deny project_manager from deleting projects 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Security Critical Denials > should deny company_admin from system administration 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Security Critical Denials > should deny viewer from any write operations 1ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Edge Cases > should return false for unknown roles 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Edge Cases > should return false for unknown permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Edge Cases > should handle null/undefined gracefully 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Categories > should have permissions organized by category 2ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Categories > should have CRUD operations for main resources 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Counts > should have progressively more permissions as role level increases 0ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Closeout Document Query Hooks > useCloseoutDocuments > should fetch closeout documents 105ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Closeout Document Query Hooks > useCloseoutDocuments > should fetch all documents without projectId 81ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Custom Styling > accepts custom className 10ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Custom Styling > applies custom className in compact mode 20ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Basic Rendering > renders theme switch 8ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Basic Rendering > renders switch component 18ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Basic Rendering > displays status text when enabled 5ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Basic Rendering > displays status text when disabled 4ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Icon Display > shows sun icon when light mode 4ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Icon Display > shows moon icon when dark mode 4ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Icon Display > moon icon has blue color in dark mode 6ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Icon Display > sun icon has warning color in light mode 4ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Switch Interaction > switch is checked when dark mode is enabled 18ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Closeout Document Query Hooks > useCloseoutDocument > should fetch single document 74ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Closeout Document Query Hooks > useCloseoutDocument > should not fetch when id is undefined 4ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Switch Interaction > switch is unchecked when dark mode is disabled 19ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Switch Interaction > calls toggleTheme when switch is toggled 66ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Switch Interaction > has accessible aria-label 17ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Label Control > shows label by default 5ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Label Control > hides label when showLabel is false 4ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Label Control > shows label when showLabel is true 4ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Custom Styling > accepts custom className 3ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Closeout Document Mutation Hooks > useCreateCloseoutDocument > should create closeout document 72ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Closeout Document Mutation Hooks > useUpdateCloseoutDocument > should update closeout document 75ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Closeout Document Mutation Hooks > useDeleteCloseoutDocument > should soft delete closeout document 62ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Warranty Query Hooks > useWarranties > should fetch warranties 70ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Basic Rendering > renders theme selector 9ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Warranty Query Hooks > useWarranties > should calculate expiration info 82ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Basic Rendering > renders all three theme buttons 234ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Basic Rendering > renders icons for each option 6ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Warranty Query Hooks > useWarranty > should fetch single warranty 81ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Warranty Query Hooks > useWarranty > should not fetch when id is undefined 2ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Warranty Mutation Hooks > useCreateWarranty > should create warranty 76ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Theme Selection > highlights active theme button 116ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Theme Selection > does not highlight inactive buttons 104ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Warranty Mutation Hooks > useUpdateWarranty > should update warranty 73ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Warranty Mutation Hooks > useDeleteWarranty > should soft delete warranty 70ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Checklist Hooks > useCloseoutChecklist > should fetch checklist items 70ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Theme Selection > calls setTheme when light button is clicked 140ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Checklist Hooks > useCreateChecklistItem > should create checklist item 77ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Checklist Hooks > useToggleChecklistItem > should toggle checklist item completion 60ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Theme Selection > calls setTheme when dark button is clicked 138ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Checklist Hooks > useToggleChecklistItem > should uncomplete checklist item 67ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Theme Selection > calls setTheme when system button is clicked 144ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Error Handling > should handle document fetch error 75ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Error Handling > should handle warranty fetch error 75ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Theme Selection > highlights dark theme when active 95ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Theme Selection > highlights system theme when active 108ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Layout > uses flex layout for buttons 7ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Layout > buttons have equal flex width 31ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Custom Styling > accepts custom className 7ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Accessibility > has accessible label 8ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Accessibility > all buttons have accessible names 113ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Accessibility > uses aria-pressed for toggle state 28ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > SunIcon > renders sun icon 3ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > SunIcon > has default size classes 3ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > SunIcon > accepts custom className 2ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > SunIcon > has proper SVG attributes 2ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > MoonIcon > renders moon icon 2ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > MoonIcon > has default size classes 2ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > MoonIcon > accepts custom className 2ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > MonitorIcon > renders monitor icon 2ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > MonitorIcon > has default size classes 2ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > MonitorIcon > accepts custom className 4ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct base key 2ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct metrics key 1ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct by-division key 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct trend key 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct s-curve key 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct forecasts key 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct alerts key 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct summary key 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct snapshots key 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMMetrics > should fetch EVM metrics for a project 108ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMMetrics > should fetch metrics with status date 73ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMMetrics > should not fetch when projectId is undefined 4ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMMetrics > should respect enabled option 4ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMByDivision > should fetch EVM data by division 71ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMByDivision > should not fetch when projectId is undefined 3ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMTrend > should fetch trend data with default days 69ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMTrend > should fetch trend data with custom days 69ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMSCurve > should fetch S-curve data with forecasts 68ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMSCurve > should fetch S-curve data without forecasts 73ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMForecasts > should fetch forecast scenarios 72ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMAlerts > should fetch alerts 76ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useProjectEVMSummary > should fetch complete EVM summary 79ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMSnapshots > should fetch snapshots with default limit 83ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMSnapshots > should fetch snapshots with custom limit 78ms
 ✓ src/types/schedule.test.ts > DependencyType > should accept valid dependency types 2ms
 ✓ src/types/schedule.test.ts > ScheduleItemStatus > should accept valid status values 3ms
 ✓ src/types/schedule.test.ts > GanttZoomLevel > should accept valid zoom levels 1ms
 ✓ src/types/schedule.test.ts > DEFAULT_GANTT_CONFIG > should have correct display settings 1ms
 ✓ src/types/schedule.test.ts > DEFAULT_GANTT_CONFIG > should have Date instances for start_date and end_date 0ms
 ✓ src/types/schedule.test.ts > DEFAULT_GANTT_CONFIG > should default to week zoom level 0ms
 ✓ src/types/schedule.test.ts > DEFAULT_GANTT_CONFIG > should have correct feature toggles 0ms
 ✓ src/types/schedule.test.ts > DEFAULT_GANTT_CONFIG > should have correct interaction settings 0ms
 ✓ src/types/schedule.test.ts > TASK_BAR_COLORS > should have colors for all statuses 0ms
 ✓ src/types/schedule.test.ts > TASK_BAR_COLORS > should have valid hex color format 1ms
 ✓ src/types/schedule.test.ts > TASK_BAR_COLORS > should use appropriate colors for status 0ms
 ✓ src/types/schedule.test.ts > Color Constants > should have valid CRITICAL_PATH_COLOR 0ms
 ✓ src/types/schedule.test.ts > Color Constants > should have valid MILESTONE_COLOR 0ms
 ✓ src/types/schedule.test.ts > Color Constants > should have valid TODAY_LINE_COLOR 0ms
 ✓ src/types/schedule.test.ts > Color Constants > should have valid BASELINE_COLOR 0ms
 ✓ src/types/schedule.test.ts > ScheduleItem interface > should accept valid schedule item 0ms
 ✓ src/types/schedule.test.ts > ScheduleItem interface > should allow null for optional fields 0ms
 ✓ src/types/schedule.test.ts > ScheduleItemWithVariance interface > should include variance calculations 0ms
 ✓ src/types/schedule.test.ts > ScheduleItemWithVariance interface > should accept all schedule status values 0ms
 ✓ src/types/schedule.test.ts > TaskDependency interface > should accept valid task dependency 0ms
 ✓ src/types/schedule.test.ts > TaskDependency interface > should support positive lag (delay) 0ms
 ✓ src/types/schedule.test.ts > TaskDependency interface > should support negative lag (lead) 0ms
 ✓ src/types/schedule.test.ts > CriticalPathItem interface > should include slack calculations 0ms
 ✓ src/types/schedule.test.ts > CriticalPathItem interface > should identify non-critical items with slack 0ms
 ✓ src/types/schedule.test.ts > GanttConfig interface > should allow custom configuration 0ms
 ✓ src/types/schedule.test.ts > CreateScheduleItemDTO > should accept minimal required fields 0ms
 ✓ src/types/schedule.test.ts > CreateScheduleItemDTO > should accept all optional fields 0ms
 ✓ src/types/schedule.test.ts > UpdateScheduleItemDTO > should allow partial updates 0ms
 ✓ src/types/schedule.test.ts > UpdateScheduleItemDTO > should allow updating critical flag 0ms
 ✓ src/types/schedule.test.ts > CreateDependencyDTO > should accept required fields 0ms
 ✓ src/types/schedule.test.ts > CreateDependencyDTO > should accept optional dependency type and lag 0ms
 ✓ src/types/schedule.test.ts > ScheduleFilters > should accept filter options 0ms
 ✓ src/types/schedule.test.ts > TimelineColumn > should represent a timeline column 0ms
 ✓ src/types/schedule.test.ts > GanttViewport > should track viewport state 0ms
 ✓ src/types/schedule.test.ts > GanttTask interface > should include computed display properties 0ms
 ✓ src/types/schedule.test.ts > GanttTask interface > should support hierarchical tasks 0ms
 ✓ src/types/schedule.test.ts > ScheduleBaseline interface > should represent a saved baseline 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Mutation Hooks > useCreateEVMSnapshot > should create a snapshot 76ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Mutation Hooks > useUpdateManagementEstimate > should update management estimate 71ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Mutation Hooks > useGenerateDailySnapshots > should generate daily snapshots 69ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Helper Hooks > useEVMDisplayValues > should format metrics for display 25ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Helper Hooks > useEVMDisplayValues > should handle undefined metrics 2ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Helper Hooks > useEVMHealthCheck > should identify at-risk project with low CPI 73ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Helper Hooks > useEVMHealthCheck > should identify healthy project 66ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Helper Hooks > useEVMHealthCheck > should identify critical project with CSI < 0.8 59ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Helper Hooks > useEVMHealthCheck > should return unknown for undefined metrics 2ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Financial Calculations Accuracy > should correctly calculate CPI from metrics 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Financial Calculations Accuracy > should correctly calculate SPI from metrics 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Financial Calculations Accuracy > should correctly calculate CSI from metrics 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Financial Calculations Accuracy > should correctly calculate EAC from CPI 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Financial Calculations Accuracy > should correctly calculate ETC 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Financial Calculations Accuracy > should correctly calculate VAC 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > MEETING_TYPES constant > should have expected meeting types 5ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > MEETING_TYPES constant > should have labels and descriptions for all types 2ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > MEETING_STATUSES constant > should have expected statuses 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > MEETING_STATUSES constant > should have labels and colors for all statuses 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > ACTION_ITEM_STATUSES constant > should have expected action item statuses 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > ACTION_ITEM_STATUSES constant > should have labels and colors for all statuses 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > ACTION_ITEM_PRIORITIES constant > should have expected priorities 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > ACTION_ITEM_PRIORITIES constant > should have labels and colors for all priorities 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > ACTION_ITEM_PRIORITIES constant > should have ascending severity order 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > getMeetingTypeLabel > should return correct label for known types 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > getMeetingTypeLabel > should return the type value for unknown types 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > getMeetingStatusColor > should return correct colors for known statuses 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > getMeetingStatusColor > should return gray for unknown statuses 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > getActionItemStatusColor > should return correct colors for known statuses 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > getActionItemStatusColor > should return gray for unknown statuses 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > getActionItemPriorityColor > should return correct colors for priorities 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > getActionItemPriorityColor > should return gray for unknown priorities 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > isUpcomingMeeting > should return true for future scheduled meetings 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > isUpcomingMeeting > should return false for past meetings 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > isUpcomingMeeting > should return false for cancelled meetings 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > isActionItemOverdue > should return true for past due open items 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > isActionItemOverdue > should return false for future due items 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > isActionItemOverdue > should return false for completed items 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > isActionItemOverdue > should return false for items without due date 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > formatMeetingTitle > should format title with meeting number 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > formatMeetingTitle > should return just title when no meeting number 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > formatMeetingTimeRange > should format time range with start and end 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > formatMeetingTimeRange > should format just start time when no end time 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > formatMeetingTimeRange > should return empty string when no start time 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Type definitions > should allow valid MeetingType values 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Type definitions > should allow valid MeetingStatus values 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Type definitions > should allow valid ActionItemStatus values 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Type definitions > should allow valid AttendanceStatus values 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Type definitions > should allow valid RSVPResponse values 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Type definitions > should allow valid MeetingAttachmentType values 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Type definitions > should allow valid ActionItemPriority values 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Filter types > should validate MeetingFilters structure 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Filter types > should validate ActionItemFilters structure 0ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDocuments > should fetch all documents for a project 102ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDocuments > should filter documents by folder 76ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDocuments > should filter root-level documents when folderId is null 70ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDocuments > should be disabled when projectId is undefined 4ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDocument > should fetch single document by ID 79ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDocument > should be disabled when documentId is undefined 3ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDocumentVersions > should fetch all versions of a document 68ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDocumentVersions > should be disabled when documentId is undefined 3ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useFolders > should fetch all folders for a project 79ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useFolders > should filter folders by parent folder 75ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useFolders > should filter root-level folders when parentFolderId is null 73ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useFolder > should fetch single folder by ID 79ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useFolder > should be disabled when folderId is undefined 3ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useCreateDocument > should create a document 9ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useCreateDocument > should throw error when user is not authenticated 6ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useUpdateDocument > should update a document 4ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDeleteDocument > should soft delete a document 4ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useCreateFolder > should create a folder 4ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useCreateFolder > should throw error when user is not authenticated 3ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useUpdateFolder > should update a folder 4ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDeleteFolder > should soft delete a folder 4ms
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Complete Lifecycle > should complete full submittal lifecycle: Create → Submit → Approve → Track Procurement 1001ms
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Complete Lifecycle > should handle rejection workflow 322ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Projects Table RLS > should NOT allow anonymous users to read projects 88ms
stderr | src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests
GoTrueClient@sb-your_project_id-auth-token:1 (2.89.0) 2025-12-30T22:04:15.681Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Projects Table RLS > should NOT allow anonymous users to create projects 8ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Projects Table RLS > should NOT allow anonymous users to update projects 5ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Projects Table RLS > should NOT allow anonymous users to delete projects 4ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Daily Reports Table RLS > should NOT allow anonymous users to read daily reports 3ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Daily Reports Table RLS > should NOT allow anonymous users to create daily reports 4ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Workflow Items (RFIs, Submittals, etc) Table RLS > should NOT allow anonymous users to read workflow items 3ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Workflow Items (RFIs, Submittals, etc) Table RLS > should NOT allow anonymous users to create workflow items 4ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Documents Table RLS > should NOT allow anonymous users to read documents 4ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Documents Table RLS > should NOT allow anonymous users to upload documents 4ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Users Table RLS > should NOT allow anonymous users to read user data 4ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Users Table RLS > should NOT allow anonymous users to create users 3ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Users Table RLS > should NOT allow anonymous users to modify other users 3ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Companies Table RLS > should NOT allow anonymous users to read companies 3ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Companies Table RLS > should NOT allow anonymous users to create companies 3ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Safety Incidents Table RLS > should NOT allow anonymous users to read safety incidents 3ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Safety Incidents Table RLS > should NOT allow anonymous users to create safety incidents 3ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Tasks Table RLS > should NOT allow anonymous users to read tasks 4ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Tasks Table RLS > should NOT allow anonymous users to create tasks 3ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Punch Items Table RLS > should NOT allow anonymous users to read punch items 3ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Punch Items Table RLS > should NOT allow anonymous users to create punch items 3ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Checklists Table RLS > should NOT allow anonymous users to read checklists 3ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Messages Table RLS > should NOT allow anonymous users to read messages 7ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Messages Table RLS > should NOT allow anonymous users to send messages 3ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Contacts Table RLS > should NOT allow anonymous users to read contacts 3ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Contacts Table RLS > should NOT allow anonymous users to create contacts 4ms
 ↓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests - Authenticated Users > Own Company/Project Access > should allow authenticated users to read their own projects
 ↓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests - Authenticated Users > Own Company/Project Access > should allow users to read daily reports for their projects
 ↓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests - Authenticated Users > Own Company/Project Access > should allow users to read their company data
 ↓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests - Authenticated Users > Cross-Tenant Isolation (Authenticated) > should NOT allow users to read projects from other companies
 ↓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests - Authenticated Users > Cross-Tenant Isolation (Authenticated) > should NOT allow users to read daily reports from other projects
 ↓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests - Authenticated Users > Cross-Tenant Isolation (Authenticated) > should NOT allow users to read other companies
 ↓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests - Authenticated Users > Write Operations > should NOT allow users to insert into other companies
 ↓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests - Authenticated Users > Write Operations > should NOT allow users to update records in other companies
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Status Transitions > should transition from draft to submitted 218ms
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Status Transitions > should transition from submitted to approved 309ms
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Status Transitions > should transition from submitted to rejected 318ms
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Procurement Tracking > should only show procurement section for approved submittals 291ms
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Procurement Tracking > should track procurement status transitions 566ms
stderr | src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Multiple Submittals > should handle multiple submittals independently
Encountered two children with the same key, `new-1`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.

 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Procurement Tracking > should create procurement record with vendor details 328ms
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Multiple Submittals > should handle multiple submittals independently 117ms
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Error Handling > should handle network errors gracefully 20ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should generate basic checklist PDF 7ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should fetch company info when not provided 2ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should use provided company info 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should fall back to execution project_id when projectId not provided 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should add document header with checklist name 2ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should render status badge 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should render metadata section with all fields 2ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should render created and completed dates 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should not render completed date when not available 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should render score summary table when score exists 2ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should not render score summary when score is null 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should not render score summary when total_count is 0 0ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should render section headers 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should render items table with responses 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should format checkbox responses correctly 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should format number responses with units 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should format photo responses with count 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should format signature responses 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should truncate long notes to 50 characters 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should add footers to all pages 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should generate filename with sanitized checklist name and date 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should handle missing optional metadata fields 3ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should group items by section correctly 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should default to "General" section when section is null 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Topics API > getTopics > should fetch topics with filters 5ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Topics API > getTopics > should filter by category 2ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Topics API > getTopic > should fetch single topic 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Topics API > getTopic > should throw error when topic not found 2ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Topics API > createTopic > should create new topic 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Topics API > updateTopic > should update topic 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Talks API > getTalks > should fetch talks with filters 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Talks API > getTalk > should fetch single talk 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Talks API > getTalkWithDetails > should fetch talk with attendees 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Talks API > createTalk > should create new talk 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Talks API > startTalk > should start talk and set status to in_progress 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Talks API > completeTalk > should complete talk 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Talks API > getUpcomingTalks > should fetch upcoming talks 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Attendees API > getAttendees > should fetch attendees for talk 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Attendees API > addAttendee > should add attendee to talk 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Attendees API > bulkAddAttendees > should add multiple attendees 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Attendees API > signInAttendee > should sign in attendee 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Attendees API > markAbsent > should mark attendee as absent 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Attendees API > bulkSignIn > should sign in all expected attendees 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Certifications API > getCertifications > should fetch certifications with status calculation 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Certifications API > getWorkerCertifications > should fetch certifications for specific worker 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Certifications API > getExpiringCertifications > should fetch certifications expiring within days 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Stats API > getProjectStats > should fetch project statistics 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Stats API > getProjectStats > should return default stats when no data 0ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Stats API > getComplianceSummary > should calculate compliance summary 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Stats API > getAttendanceRate > should calculate attendance rate 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Stats API > getAttendanceRate > should return 100 when no talks 0ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > summaryQueryKeys > should have correct base key 3ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > summaryQueryKeys > should generate daily report key 0ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > summaryQueryKeys > should generate meeting key 0ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > summaryQueryKeys > should generate weekly key 0ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > summaryQueryKeys > should generate change orders key 0ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useDailyReportSummary > should fetch daily report summary when enabled 99ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useDailyReportSummary > should not fetch when AI is disabled 110ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useDailyReportSummary > should not fetch when reportId is undefined 108ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useGenerateDailyReportSummary > should generate daily report summary 8ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useGenerateDailyReportSummary > should force regenerate when flag is set 4ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useGenerateDailyReportSummary > should show error toast on failure 5ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useMeetingActionItems > should fetch meeting action items 74ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useMeetingActionItems > should not fetch when AI is disabled 114ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useExtractMeetingActionItems > should extract meeting action items 4ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useExtractMeetingActionItems > should force re-extract when flag is set 4ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useWeeklyStatus > should fetch weekly status 77ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useWeeklyStatus > should not fetch when projectId is undefined 104ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useWeeklyStatus > should not fetch when weekOf is empty 104ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useGenerateWeeklyStatus > should generate weekly status 3ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useChangeOrderImpact > should fetch change order impact summary 76ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useChangeOrderImpact > should not fetch when projectId is undefined 107ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useUpdateActionItemStatus > should update action item status to confirmed 4ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useUpdateActionItemStatus > should update action item status to rejected 2ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useUpdateActionItemStatus > should update action item status to completed 2ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useUpdateActionItemStatus > should show error toast on failure 3ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useDailyReportSummaryWorkflow > should provide summary data 68ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useDailyReportSummaryWorkflow > should have generate function 3ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useDailyReportSummaryWorkflow > should not generate when reportId is undefined 4ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useMeetingActionItemsWorkflow > should provide action items data 62ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useMeetingActionItemsWorkflow > should have workflow functions 3ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > useMeetingActionItemsWorkflow > should not extract when meetingId is undefined 2ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > queueMessage > should queue a text message 8ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > queueMessage > should queue a message with attachments 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > queueMessage > should queue a message with mentioned users 0ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > queueMessage > should queue a reply message 0ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > queueMessage > should default to text message type 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > getPendingMessages > should return pending messages 2ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > getPendingMessages > should filter out non-message items 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > getAllQueuedMessages > should return all queued messages regardless of status 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > getQueuedMessagesForConversation > should return messages for specific conversation 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > updateMessageStatus > should update message status 2ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > updateMessageStatus > should include error message when provided 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > updateMessageStatus > should handle non-existent message gracefully 0ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > removeFromQueue > should remove message from queue 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > incrementRetry > should increment retry count 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > incrementRetry > should start from 0 if no retry count exists 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > incrementRetry > should return 0 for non-existent message 0ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > calculateRetryDelay > should calculate exponential backoff 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > calculateRetryDelay > should cap at maximum delay 0ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > calculateRetryDelay > should add jitter to prevent thundering herd 0ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > processMessageQueue > should skip processing when offline 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > processMessageQueue > should process pending messages when online 206ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > processMessageQueue > should handle send failures with retry 104ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > processMessageQueue > should mark as failed after max retries 104ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > processMessageQueue > should respect retry delay 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > clearFailedMessages > should clear all failed messages 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > clearFailedMessages > should return 0 when no failed messages 0ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > retryFailedMessages > should reset failed messages to pending 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > getQueueStats > should return queue statistics 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > getQueueStats > should return zero stats for empty queue 0ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > Error Handling > should handle API error in query 1040ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > Error Handling > should handle API error in mutation 3ms
 ✓ src/features/summaries/hooks/useSmartSummaries.test.tsx > Caching Behavior > should cache daily report summary for 1 hour 69ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > emailSchema > should accept valid email 3ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > emailSchema > should reject empty string 1ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > emailSchema > should reject invalid email format 1ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > emailSchema > should accept email with subdomains 0ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > emailSchema > should accept email with plus addressing 0ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > passwordSchema > should accept valid password 0ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > passwordSchema > should reject password shorter than 8 characters 1ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > passwordSchema > should reject password without uppercase letter 0ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > passwordSchema > should reject password without lowercase letter 0ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > passwordSchema > should reject password without number 0ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > optionalStringSchema > should accept string value 0ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > optionalStringSchema > should accept undefined 0ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > optionalStringSchema > should accept null 0ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > statusSchema > should accept valid status values 1ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > statusSchema > should reject invalid status 1ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should accept valid project data 2ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should reject project with empty name 1ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should reject project with name shorter than 3 characters 1ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should reject project with name longer than 200 characters 0ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should accept minimal project (name only) 0ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should reject invalid start date 1ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should accept null optional fields 0ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should default status to planning 0ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should reject state longer than 2 characters 1ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectUpdateSchema > should accept partial project data 1ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectUpdateSchema > should accept empty object 0ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should accept valid daily report data 2ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should reject invalid project_id (not UUID) 1ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should reject future report date 1ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should accept today as report date 0ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should reject temperature below -100°F 1ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should reject temperature above 150°F 1ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should reject negative worker count 1ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should reject non-integer worker count 0ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should default status to draft 1ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should accept minimal report 0ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportUpdateSchema > should accept partial update 1ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCreateSchema > should accept valid change order data 1ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCreateSchema > should reject title shorter than 5 characters 0ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCreateSchema > should reject negative cost_impact 0ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCreateSchema > should reject cost_impact above 10 million 0ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCreateSchema > should default priority to normal 0ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCreateSchema > should default assignees to empty array 1ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCreateSchema > should reject invalid assignee UUID 1ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCommentSchema > should accept valid comment 1ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCommentSchema > should reject empty comment 0ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCommentSchema > should reject comment shorter than 2 characters 0ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCommentSchema > should reject comment longer than 5000 characters 0ms
 ✓ src/lib/validation/schemas.test.ts > Workflow Item Schemas > workflowItemCreateSchema > should accept valid workflow item data 2ms
 ✓ src/lib/validation/schemas.test.ts > Workflow Item Schemas > workflowItemCreateSchema > should reject title shorter than 5 characters 1ms
 ✓ src/lib/validation/schemas.test.ts > Workflow Item Schemas > workflowItemCreateSchema > should default priority to normal 0ms
 ✓ src/lib/validation/schemas.test.ts > Workflow Item Schemas > workflowItemCreateSchema > should accept null description 0ms
 ✓ src/lib/validation/schemas.test.ts > Workflow Item Schemas > workflowItemCreateSchema > should reject invalid due_date 0ms
 ✓ src/lib/validation/schemas.test.ts > Workflow Item Schemas > workflowItemUpdateSchema > should accept partial update 1ms
 ✓ src/lib/validation/schemas.test.ts > Workflow Item Schemas > workflowItemUpdateSchema > should accept empty object 0ms
 ✓ src/lib/validation/schemas.test.ts > validateArray > should validate array of valid items 2ms
 ✓ src/lib/validation/schemas.test.ts > validateArray > should separate valid and invalid items 1ms
 ✓ src/lib/validation/schemas.test.ts > validateArray > should provide error details with index 1ms
 ✓ src/lib/validation/schemas.test.ts > validateArray > should handle empty array 0ms
 ✓ src/lib/validation/schemas.test.ts > validateArray > should handle all invalid items 1ms
 ✓ src/lib/validation/schemas.test.ts > validateArray > should provide multiple errors for single item 0ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Online/Offline State Management > should track online status 35ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Online/Offline State Management > should update state when going offline 6ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Online/Offline State Management > should update state when going online 6ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Online/Offline State Management > should trigger pending syncs update when coming online 112ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Queue Management > should load sync queue from IndexedDB 8ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Queue Management > should filter only pending items when loading sync queue 6ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Queue Management > should update pending syncs count 5ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Queue Management > should handle empty sync queue 4ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Queue Management > should remove item from sync queue 8ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Queue Management > should clear entire sync queue 8ms
stderr | src/stores/__tests__/offline-store.test.ts > Offline Store > Event Listeners > should handle online event
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/stores/__tests__/offline-store.test.ts > Offline Store > Event Listeners > should handle offline event
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Queue Management > should handle large sync queue (100+ items) 77ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Conflict Detection and Resolution > should load conflicts from IndexedDB 6ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Conflict Detection and Resolution > should only load unresolved conflicts 4ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Conflict Detection and Resolution > should add conflict to store 2ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Conflict Detection and Resolution > should not add duplicate conflicts 3ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Conflict Detection and Resolution > should resolve conflict with local strategy 6ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Conflict Detection and Resolution > should resolve conflict with server strategy 6ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Conflict Detection and Resolution > should resolve conflict with merge strategy 5ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Conflict Detection and Resolution > should update conflict count correctly 8ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Progress Tracking > should set sync progress 4ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Progress Tracking > should clear sync progress 2ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Progress Tracking > should track syncing state 4ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Progress Tracking > should track last sync time 3ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Network Quality Management > should set network quality 2ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Network Quality Management > should clear network quality 3ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Preferences > should have default sync preferences 2ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Preferences > should update sync preferences 2ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Preferences > should update max batch size 2ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Storage Quota Management > should update storage quota 5ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Event Listeners > should initialize offline listeners 2ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Event Listeners > should handle online event 6ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Event Listeners > should handle offline event 4ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Event Listeners > should cleanup event listeners 2ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Edge Cases and Error Handling > should handle IndexedDB not available 3ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Edge Cases and Error Handling > should handle concurrent sync queue operations 9ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Edge Cases and Error Handling > should handle missing conflict during resolution 3ms
