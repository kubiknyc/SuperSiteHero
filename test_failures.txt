
> jobsight@0.1.0 test
> vitest --reporter=verbose


 RUN  v4.0.16 C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero

 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScore > should give max score to low bid 2ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScore > should calculate proportional score for higher bids 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScore > should handle double the low bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScore > should return 0 when low bid is 0 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScore > should not exceed max score 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScoreWithThreshold > should give full score within threshold 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScoreWithThreshold > should reduce score beyond threshold 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScoreWithThreshold > should give full score to low bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScoreWithThreshold > should give reduced score at threshold boundary 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScoreBestValue > should give max score at or below average 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScoreBestValue > should reduce score above average 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculatePriceScoreBestValue > should give 0 score at 20% above average 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > scoreCriterion > should calculate weighted score 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > scoreCriterion > should handle perfect score 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > scoreCriterion > should handle zero score 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > scoreCriterion > should cap score at max 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > scoreCriterion > should handle negative scores 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > evaluateCriteria > should evaluate all criteria 2ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > evaluateCriteria > should default to 0 for missing scores 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > evaluateCriteria > should include notes when provided 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateTechnicalScore > should calculate weighted average 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateTechnicalScore > should return 0 for empty scores 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateTechnicalScore > should return 0 when total weight is 0 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateTechnicalScore > should handle perfect score 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > checkQualifications > should pass all checks for qualified bid 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > checkQualifications > should fail years of experience check 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > checkQualifications > should fail similar projects check 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > checkQualifications > should disqualify for missing bid bond 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > checkQualifications > should disqualify for late submission 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > checkQualifications > should fail workload check 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > checkQualifications > should pass with no requirements 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateQualificationScore > should return max score for all passed checks 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateQualificationScore > should calculate proportional score 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateQualificationScore > should return 0 for all failed checks 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateQualificationScore > should return max score when no checks 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateOverallScore > should calculate weighted overall score 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateOverallScore > should use default weights 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateOverallScore > should handle perfect scores 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateOverallScore > should handle zero scores 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > calculateOverallScore > should handle custom weights 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > evaluateBid > should recommend award for excellent bid 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > evaluateBid > should recommend rejection for disqualified bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > evaluateBid > should recommend shortlist for good bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > evaluateBid > should identify strengths and weaknesses 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > evaluateAndRankBids > should evaluate and rank multiple bids 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > breakTie > should break tie by price 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > breakTie > should break tie by technical when price tied 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > breakTie > should use custom priority order 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > resolveTies > should resolve ties in results 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > generateRecommendation > should recommend top ranked qualified bid 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > generateRecommendation > should handle no qualified bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > generateRecommendation > should note when low price differs from recommendation 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > generateRecommendation > should note close competition 0ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > Real-World Evaluation Scenarios > should evaluate electrical subcontractor bids 1ms
 ✓ src/features/bidding/utils/__tests__/bidEvaluation.test.ts > Real-World Evaluation Scenarios > should handle cost-plus bid evaluation 1ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > revised_budget calculation > should calculate revised budget as original + changes 2ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > revised_budget calculation > should handle zero changes 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > revised_budget calculation > should handle negative changes (budget reduction) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > variance calculation > should calculate variance as revised - actual (positive = under budget) 1ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > variance calculation > should show negative variance when over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > variance calculation > should show zero variance when exactly on budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > percent_spent calculation > should calculate percent spent correctly 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > percent_spent calculation > should handle 0% spent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > percent_spent calculation > should handle over 100% spent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > percent_spent calculation > should handle zero budget edge case 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > variance_percent calculation > should calculate variance percentage correctly 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > variance_percent calculation > should show positive percentage when under budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > variance_percent calculation > should handle zero budget edge case 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > complex budget scenarios > should correctly calculate all fields for typical budget line 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Budget Variance Calculations > complex budget scenarios > should handle budget with multiple change orders 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Threshold Logic > critical overrun detection > should detect critical overrun (>10% over budget) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Threshold Logic > critical overrun detection > should not trigger critical for exactly 10% overrun 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Threshold Logic > warning overrun detection > should detect warning overrun (5-10% over budget) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Threshold Logic > near budget detection > should detect when approaching budget (>90% spent) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Threshold Logic > near budget detection > should not trigger near budget for 89% spent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Threshold Logic > minimum variance amount threshold > should respect minimum variance amount (avoid noise) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Threshold Logic > minimum variance amount threshold > should trigger alert when exceeds minimum amount 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Severity > line-level severity classification > should classify as critical when >10% over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Severity > line-level severity classification > should classify as warning when 5-10% over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Severity > line-level severity classification > should classify as info when approaching budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Severity > project-level severity classification > should classify project as critical when >5% over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Severity > project-level severity classification > should classify project as warning when 3-5% over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Types > should identify line_over_budget alert 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Types > should identify line_near_budget alert 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Types > should identify project_over_budget alert 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Types > should identify division_over_budget alert 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Cost Variance (CV) > should calculate CV = EV - AC (positive = under budget) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Cost Variance (CV) > should show negative CV when over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Cost Variance (CV) > should calculate CV percentage 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Schedule Variance (SV) > should calculate SV = EV - PV (positive = ahead of schedule) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Schedule Variance (SV) > should show negative SV when behind schedule 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Schedule Variance (SV) > should calculate SV percentage 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Variance at Completion (VAC) > should calculate VAC = BAC - EAC (positive = under budget at completion) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Variance at Completion (VAC) > should show negative VAC when projected over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Variance at Completion (VAC) > should calculate VAC percentage 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Estimate to Complete (ETC) > should calculate ETC = EAC - AC 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > Estimate to Complete (ETC) > should handle zero ETC when project complete 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Variance Calculations > complete EVM variance scenario > should calculate all EVM variances correctly 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Indices > Cost Performance Index (CPI) > should calculate CPI = EV / AC 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Indices > Cost Performance Index (CPI) > should show CPI < 1 when over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Indices > Schedule Performance Index (SPI) > should calculate SPI = EV / PV 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Indices > Schedule Performance Index (SPI) > should show SPI < 1 when behind schedule 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Indices > Cost-Schedule Index (CSI) > should calculate CSI = CPI * SPI 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Indices > Cost-Schedule Index (CSI) > should show poor performance when CSI < 1 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Indices > To-Complete Performance Index (TCPI) > should calculate TCPI_BAC = (BAC - EV) / (BAC - AC) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Indices > To-Complete Performance Index (TCPI) > should calculate TCPI_EAC = (BAC - EV) / (EAC - AC) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Status > getPerformanceStatus function > should classify CPI 1.05+ as excellent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Status > getPerformanceStatus function > should classify CPI 1.0-1.04 as good 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Status > getPerformanceStatus function > should classify CPI 0.95-0.99 as fair 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Status > getPerformanceStatus function > should classify CPI 0.90-0.94 as poor 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Status > getPerformanceStatus function > should classify CPI <0.90 as critical 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Status > getPerformanceStatus function > should classify SPI using same thresholds 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > EVM Performance Status > custom threshold support > should use custom thresholds when provided 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Complete Variance Scenarios > healthy project scenario > should show all positive indicators 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Complete Variance Scenarios > critical overrun scenario > should trigger critical alerts 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Complete Variance Scenarios > approaching budget scenario > should trigger near budget alert 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Complete Variance Scenarios > multiple change orders scenario > should track variance through multiple revisions 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateRevisedBudget > should add positive changes to original 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateRevisedBudget > should subtract negative changes from original 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateRevisedBudget > should handle zero changes 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateRevisedBudget > should handle zero original 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateRevisedBudget > should handle both zeros 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateRevisedBudget > should handle large values 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateRevisedBudget > should handle decimal values 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariance > should return positive when under budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariance > should return negative when over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariance > should return zero when exactly on budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariance > should handle zero budget with costs 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariance > should handle zero costs 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariance > should handle negative budget edge case 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculatePercentSpent > should calculate 50% spent correctly 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculatePercentSpent > should calculate 100% spent correctly 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculatePercentSpent > should calculate over 100% spent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculatePercentSpent > should return 0 for zero budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculatePercentSpent > should return 0 for negative budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculatePercentSpent > should return 0 for zero actual cost 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculatePercentSpent > should handle small percentages 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculatePercentSpent > should handle large percentages 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariancePercent > should calculate positive variance percent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariancePercent > should calculate negative variance percent 1ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariancePercent > should return 0 for zero budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariancePercent > should return 0 for negative budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariancePercent > should handle very small variances 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVariancePercent > should handle very large variances 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > determineAlertSeverity > should return critical for >10% variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > determineAlertSeverity > should return warning for 5-10% variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > determineAlertSeverity > should return info for <5% variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > determineAlertSeverity > should handle exactly 10% (critical threshold) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > determineAlertSeverity > should handle exactly 5% (warning threshold) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > determineAlertSeverity > should handle zero variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > shouldTriggerAlert > should not trigger for small variance below minimum 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > shouldTriggerAlert > should trigger line_over_budget for significant overrun 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > shouldTriggerAlert > should trigger line_near_budget when approaching limit 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > shouldTriggerAlert > should not trigger for healthy budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > shouldTriggerAlert > should prioritize over_budget over near_budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > generateVarianceAlert > should generate alert for over budget scenario 1ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > generateVarianceAlert > should generate alert for near budget scenario 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > generateVarianceAlert > should return null for healthy budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > generateVarianceAlert > should return null for small variance below minimum 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > generateVarianceAlert > should handle zero budget gracefully 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVarianceTrend > should return stable for single data point 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVarianceTrend > should return stable for empty data 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVarianceTrend > should return improving for increasing variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVarianceTrend > should return declining for decreasing variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVarianceTrend > should return stable for flat variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > calculateVarianceTrend > should use only last 5 data points 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > aggregateDivisionVariance > should aggregate single division correctly 1ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > aggregateDivisionVariance > should aggregate multiple divisions correctly 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > aggregateDivisionVariance > should handle empty budget array 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Helper Functions > aggregateDivisionVariance > should handle division with zero budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Commitment Variance > committed vs actual variance > should calculate under-committed scenario 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Commitment Variance > committed vs actual variance > should calculate over-committed scenario 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Commitment Variance > committed vs actual variance > should calculate exposure (uncommitted budget) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Commitment Variance > committed vs actual variance > should identify over-commitment 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Commitment Variance > forecast vs budget variance > should calculate positive forecast variance (under forecast) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Commitment Variance > forecast vs budget variance > should calculate negative forecast variance (over forecast) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Commitment Variance > forecast vs budget variance > should calculate forecast variance percent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Project-Level Variance > total project variance calculation > should sum all line item variances 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Project-Level Variance > total project variance calculation > should calculate weighted variance percent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Project-Level Variance > project variance thresholds > should classify project as critical when >5% over 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Project-Level Variance > project variance thresholds > should classify project as warning when 3-5% over 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Project-Level Variance > project variance thresholds > should classify project as info when <3% variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Project-Level Variance > contingency consumption > should calculate contingency usage percent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Project-Level Variance > contingency consumption > should alert when contingency exceeds threshold 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Project-Level Variance > contingency consumption > should calculate remaining contingency 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Summary > alert aggregation > should count alerts by severity 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Summary > alert aggregation > should calculate total overrun amount 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Summary > alert aggregation > should count lines over budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Variance Alert Summary > alert aggregation > should generate complete summary 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > precision handling > should handle floating point precision for percent calculations 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > precision handling > should handle very small decimal variances 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > precision handling > should round currency appropriately 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > negative value handling > should handle negative original budget (credit) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > negative value handling > should handle negative actual costs (refunds) 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > negative value handling > should calculate variance percent with negative budget 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > boundary conditions > should handle exactly at warning threshold 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > boundary conditions > should handle exactly at critical threshold 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > boundary conditions > should handle exactly at minimum variance amount 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > boundary conditions > should handle 100% percent spent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > boundary conditions > should handle 0% percent spent 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > large number handling > should handle multi-million dollar budgets 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > large number handling > should handle very small percentages on large budgets 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > null and undefined handling > should default null values to zero in calculations 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Edge Cases and Error Handling > null and undefined handling > should handle undefined in variance calculation 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Commercial Office Building - Full Budget Analysis > should calculate total project variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Commercial Office Building - Full Budget Analysis > should identify divisions over budget 2ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Commercial Office Building - Full Budget Analysis > should calculate worst performing division 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Commercial Office Building - Full Budget Analysis > should calculate best performing division 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Residential Development - Multi-Unit Analysis > should calculate per-unit variance 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Residential Development - Multi-Unit Analysis > should calculate average variance per unit 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Residential Development - Multi-Unit Analysis > should identify units requiring attention 1ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Infrastructure Project - Phased Variance > should calculate variance for completed phases only 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Infrastructure Project - Phased Variance > should calculate percent complete by cost 0ms
 ✓ src/lib/api/services/cost-tracking-variance.test.ts > Real-World Construction Budget Scenarios > Infrastructure Project - Phased Variance > should project final cost based on current performance 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CPI (Cost Performance Index) Calculations > calculateCPI > should return 1.0 when project is on budget 3ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CPI (Cost Performance Index) Calculations > calculateCPI > should return < 1 when project is over budget 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CPI (Cost Performance Index) Calculations > calculateCPI > should return > 1 when project is under budget 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CPI (Cost Performance Index) Calculations > calculateCPI > should handle zero actual cost with positive earned value 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CPI (Cost Performance Index) Calculations > calculateCPI > should handle zero actual cost with zero earned value 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CPI (Cost Performance Index) Calculations > calculateCPI > should handle very small actual cost 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CPI (Cost Performance Index) Calculations > calculateCPI > should calculate correctly for small values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CPI (Cost Performance Index) Calculations > calculateCPI > should calculate correctly for large values 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > SPI (Schedule Performance Index) Calculations > calculateSPI > should return 1.0 when project is on schedule 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > SPI (Schedule Performance Index) Calculations > calculateSPI > should return < 1 when project is behind schedule 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > SPI (Schedule Performance Index) Calculations > calculateSPI > should return > 1 when project is ahead of schedule 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > SPI (Schedule Performance Index) Calculations > calculateSPI > should handle zero planned value with positive earned value 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > SPI (Schedule Performance Index) Calculations > calculateSPI > should handle zero planned value with zero earned value 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > SPI (Schedule Performance Index) Calculations > calculateSPI > should handle project start (low values) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CSI (Cost-Schedule Index) Calculations > calculateCSI > should return 1.0 when both CPI and SPI are 1.0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CSI (Cost-Schedule Index) Calculations > calculateCSI > should correctly multiply CPI and SPI 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CSI (Cost-Schedule Index) Calculations > calculateCSI > should identify critical projects (CSI < 0.8) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CSI (Cost-Schedule Index) Calculations > calculateCSI > should identify healthy projects (CSI >= 1.0) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > CSI (Cost-Schedule Index) Calculations > calculateCSI > should handle edge cases 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Cost Variance (CV) Calculations > calculateCV > should return 0 when on budget 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Cost Variance (CV) Calculations > calculateCV > should return negative when over budget 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Cost Variance (CV) Calculations > calculateCV > should return positive when under budget 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Cost Variance (CV) Calculations > calculateCV > should handle zero values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Cost Variance (CV) Calculations > calculateCVPercent > should return 0% when CV is 0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Cost Variance (CV) Calculations > calculateCVPercent > should calculate percentage correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Cost Variance (CV) Calculations > calculateCVPercent > should handle zero EV 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Variance (SV) Calculations > calculateSV > should return 0 when on schedule 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Variance (SV) Calculations > calculateSV > should return negative when behind schedule 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Variance (SV) Calculations > calculateSV > should return positive when ahead of schedule 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Variance (SV) Calculations > calculateSVPercent > should calculate percentage correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Variance (SV) Calculations > calculateSVPercent > should handle zero PV 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEAC > should equal BAC when CPI is 1.0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEAC > should exceed BAC when CPI < 1 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEAC > should be less than BAC when CPI > 1 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEAC > should return Infinity when CPI is 0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEAC > should return 0 when CPI is Infinity 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEAC > should calculate for various CPI values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEACWithSPI > should factor in both CPI and SPI 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEACWithSPI > should return Infinity when CSI is 0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > EAC (Estimate at Completion) Calculations > calculateEACWithSPI > should handle Infinity CSI 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > ETC (Estimate to Complete) Calculations > calculateETC > should calculate remaining cost correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > ETC (Estimate to Complete) Calculations > calculateETC > should return Infinity when EAC is Infinity 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > ETC (Estimate to Complete) Calculations > calculateETC > should handle zero AC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > ETC (Estimate to Complete) Calculations > calculateETC > should return negative when over-spent 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > VAC (Variance at Completion) Calculations > calculateVAC > should return 0 when EAC equals BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > VAC (Variance at Completion) Calculations > calculateVAC > should return negative when EAC exceeds BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > VAC (Variance at Completion) Calculations > calculateVAC > should return positive when EAC is less than BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > VAC (Variance at Completion) Calculations > calculateVAC > should return -Infinity when EAC is Infinity 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > VAC (Variance at Completion) Calculations > calculateVACPercent > should calculate percentage correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > VAC (Variance at Completion) Calculations > calculateVACPercent > should handle zero BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > VAC (Variance at Completion) Calculations > calculateVACPercent > should handle -Infinity VAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_BAC > should return 1.0 when on budget and on schedule 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_BAC > should return > 1 when over budget (harder to achieve) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_BAC > should return < 1 when under budget (easier to achieve) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_BAC > should return Infinity when no budget remaining 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_BAC > should return Infinity when already over budget 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_BAC > should return 0 when work is complete 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_EAC > should calculate performance needed to meet revised estimate 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_EAC > should return Infinity when EAC - AC = 0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_EAC > should return Infinity when EAC - AC < 0 (remaining budget negative) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_EAC > should handle EAC = Infinity 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > TCPI (To-Complete Performance Index) Calculations > calculateTCPI_EAC > should be easier to achieve than TCPI_BAC when over budget 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculateEstimatedDuration > should equal planned when SPI is 1.0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculateEstimatedDuration > should exceed planned when SPI < 1 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculateEstimatedDuration > should be less than planned when SPI > 1 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculateEstimatedDuration > should return Infinity when SPI is 0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculateEstimatedDuration > should return 0 when SPI is Infinity 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculatePercentCompletePlanned > should calculate correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculatePercentCompletePlanned > should handle zero BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculatePercentCompleteActual > should calculate correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculatePercentCompleteActual > should handle zero BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculatePercentSpent > should calculate correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculatePercentSpent > should handle zero BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Schedule Forecasting Calculations > calculatePercentSpent > should allow over 100% (overspending) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getPerformanceStatus > should return excellent for CPI >= 1.05 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getPerformanceStatus > should return good for CPI >= 1.0 and < 1.05 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getPerformanceStatus > should return fair for CPI >= 0.95 and < 1.0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getPerformanceStatus > should return poor for CPI >= 0.90 and < 0.95 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getPerformanceStatus > should return critical for CPI < 0.90 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getPerformanceStatus > should handle edge cases 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getPerformanceStatus > should work for SPI with same thresholds 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getOverallStatus > should return the worse of CPI and SPI status 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Performance Status Determination > getOverallStatus > should identify critical projects 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should calculate all metrics correctly for on-budget project 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should calculate all metrics correctly for over-budget project 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should calculate all metrics correctly for under-budget project 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should handle critical project scenario 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should cap Infinity values for display 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should cap EAC/ETC at 10x budget when CPI is 0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should cap VAC at -9x budget when EAC is Infinity 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should cap TCPI values at 999 when budget is exhausted 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should cap estimated duration at 10x planned when SPI is 0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should cap CSI at 999 when CPI or SPI is Infinity 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > calculateAllMetrics > should include all required fields 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should return empty array for valid inputs 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should catch negative BAC 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should catch negative PV 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should catch negative EV 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should catch negative AC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should catch EV exceeding BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should catch non-positive planned duration 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should catch negative actual duration 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > validateEVMInputs > should return multiple errors 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > safeDivide > should divide normally for valid inputs 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > safeDivide > should return default for zero denominator 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > safeDivide > should return default for non-finite inputs 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > roundTo > should round to specified decimal places 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Validation Functions > roundTo > should handle non-finite values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Edge Cases > Project at start (no work done) > should handle zero EV, AC, PV 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Edge Cases > Project completion > should handle 100% complete 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Edge Cases > Project completion > should handle completion under budget 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Edge Cases > Very large numbers > should handle billion-dollar projects 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Edge Cases > Very small numbers > should handle small budget projects 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmCalculations.test.ts > Edge Cases > Fractional values > should handle decimal currency amounts 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should correctly group cost codes by division 22ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should sort results by division code 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should sum BAC correctly for each division 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should sum PV, EV, AC correctly 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should calculate CPI correctly from aggregated values 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should calculate SPI correctly from aggregated values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should calculate CV and SV correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should count cost codes per division 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should handle empty input 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > aggregateByDivision > should handle single cost code 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > calculateDivisionMetrics > should return empty metrics for empty input 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > calculateDivisionMetrics > should calculate percent complete correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > calculateDivisionMetrics > should assign correct performance status 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Aggregation > createEmptyDivisionMetrics > should create metrics with all zeros 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateWeightedCPI > should weight by BAC correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateWeightedCPI > should give more weight to larger budget items 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateWeightedCPI > should handle empty array 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateWeightedCPI > should handle zero BAC items 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateWeightedCPI > should handle infinite CPI values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateWeightedSPI > should weight by BAC correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateWeightedSPI > should handle empty array 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateEVWeightedCPI > should weight by earned value 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateEVWeightedCPI > should handle zero EV items 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateACWeightedCPI > should weight by actual cost 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Weighted Index Calculations > calculateACWeightedCPI > should handle zero AC items 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should calculate EAC variants for each division 2ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should calculate EAC_CPI correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should calculate EAC_CSI correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should calculate VAC and percentVariance correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should handle zero CPI gracefully 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should handle non-finite EAC values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should handle zero SPI separately from zero CPI 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should calculate variance percentage as 0 when BAC is 0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should handle VAC being non-finite 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should handle Infinity CPI (BAC/Infinity = 0) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Forecasting > calculateDivisionForecasts > should handle NaN CPI (falls back to BAC) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > findProblematicDivisions > should identify divisions below threshold 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > findProblematicDivisions > should sort by CSI (worst first) 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > findProblematicDivisions > should return empty array if all divisions perform well 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > findProblematicDivisions > should use custom thresholds 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > findTopVarianceContributors > should sort by absolute CV value 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > findTopVarianceContributors > should include both positive and negative variances 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > calculateProjectTotalsFromDivisions > should sum all division values correctly 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > calculateProjectTotalsFromDivisions > should calculate project-level indices correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > calculateProjectTotalsFromDivisions > should handle empty array 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > calculateProjectTotalsFromDivisions > should handle non-finite project indices 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > compareDivisionToProject > should calculate variance from project correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > compareDivisionToProject > should assign correct performance rating 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > compareDivisionToProject > should identify below-average performance 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > compareDivisionToProject > should assign good rating when slightly above project average 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > compareDivisionToProject > should assign average rating when slightly below project average 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Division Analysis Functions > compareDivisionToProject > should assign below-average rating when moderately below project average 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Edge Cases > should handle division with zero budget 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Edge Cases > should handle division with zero work done 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Edge Cases > should handle single cost code per division 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmByDivision.test.ts > Edge Cases > should handle many cost codes in single division 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should get action items with default ordering 7ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by project_id 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by meeting_id 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by single status 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by multiple statuses 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by priority 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by category 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by assigned_to 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by assigned_company 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter by urgency_status 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter items with tasks 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter items without tasks 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter overdue_only items 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should filter escalated_only items 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should support search by title and description 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should support pagination with limit 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should support pagination with offset 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should handle database errors 4ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItems > should return empty array when no data 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItem > should get a single action item by ID 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItem > should return null when item not found (PGRST116) 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > getActionItem > should throw on other database errors 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > createActionItem > should create action item with required fields 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > createActionItem > should create action item with all optional fields 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > createActionItem > should handle creation errors 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > updateActionItem > should update action item fields 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > updateActionItem > should handle update errors 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > deleteActionItem > should delete action item 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - CRUD Operations > deleteActionItem > should handle deletion errors 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Status & Resolution > updateActionItemStatus > should update status to in_progress 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Status & Resolution > updateActionItemStatus > should auto-set resolution when completing 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Status & Resolution > updateActionItemStatus > should handle status update errors 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Status & Resolution > resolveActionItem > should resolve item as completed 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Status & Resolution > resolveActionItem > should resolve item as deferred 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Status & Resolution > resolveActionItem > should handle resolution errors 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > linkActionItem > should link to task 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > linkActionItem > should link to RFI 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > linkActionItem > should link to constraint 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > linkActionItem > should link to change order 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > linkActionItem > should handle linking errors 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > unlinkActionItem > should unlink task 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > unlinkActionItem > should unlink RFI 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > convertToTask > should convert action item to task via RPC 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > convertToTask > should handle conversion errors 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > carryoverActionItems > should carryover all items from source meeting 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > carryoverActionItems > should carryover specific items 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Linking & Pipeline > carryoverActionItems > should handle carryover errors 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getProjectSummary > should get project action item summary 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getProjectSummary > should return null when no summary found 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getItemsByAssignee > should get items grouped by assignee 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getOverdueItems > should get overdue items 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getOverdueItems > should filter overdue by project 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getItemsDueSoon > should get items due today or soon 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getEscalatedItems > should get escalated items 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getStatusCounts > should count items by status 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Reporting & Statistics > getStatusCounts > should handle empty project 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > calculateEscalationLevel > should return level 0 for items not overdue 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > calculateEscalationLevel > should return level 1 for 3+ days overdue 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > calculateEscalationLevel > should return level 2 for 7+ days overdue 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > calculateEscalationLevel > should return level 3 for 14+ days overdue 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > calculateEscalationLevel > should use custom config 0ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > escalateActionItem > should escalate item to next level 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > escalateActionItem > should handle not found item 1ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > getEscalationStats > should calculate escalation statistics 2ms
 ✓ src/lib/api/services/action-items.test.ts > actionItemsApi - Escalation System > getEscalationStats > should query all projects when no projectId 13ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should have correct base key 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate topics key 1ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate topic list key with filters 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate topic detail key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate topics by category key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate talks key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate talk list key with filters 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate talk detail key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate talk with details key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate upcoming talks key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate recent talks key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate attendees key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate certifications key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate worker certifications key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate expiring certifications key 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > toolboxKeys > should generate stats keys 0ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Query Hooks > useToolboxTopics > should fetch topics 84ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > insuranceKeys > should generate correct base key 3ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > insuranceKeys > should generate correct certificates keys 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > insuranceKeys > should generate correct certificates list keys with filters 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > insuranceKeys > should generate correct expiring key 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > insuranceKeys > should generate correct requirements keys 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > insuranceKeys > should generate correct compliance keys 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > insuranceKeys > should generate correct stats key 0ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate all key 3ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate project key 1ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate average key without filters 0ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate average key with filters 1ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate byPriority key 1ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate byAssignee key 1ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate distribution key 0ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate trends key 0ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > rfiResponseAnalyticsKeys > should generate complete key 0ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useAverageResponseTime > should not fetch when projectId is undefined 33ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate base key 3ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate list keys 1ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate list key with filters 1ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate detail keys 0ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate history key 0ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate template keys 0ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate template list key with filters 0ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate requirements keys 0ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate summary key 0ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > lienWaiverKeys > should generate missing key 0ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > incidentKeys > should generate correct base key 4ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > incidentKeys > should generate correct list keys 1ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > incidentKeys > should generate correct detail keys 1ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > incidentKeys > should generate correct stats key 1ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > incidentKeys > should generate correct related data keys 1ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > incidentKeys > should generate correct OSHA keys 1ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Query Hooks > useToolboxTopics > should pass filters to API 7ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Query Hooks > useToolboxTopic > should fetch single topic 71ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignConnectionStatus > should fetch connection status successfully 119ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignConnectionStatus > should handle errors when fetching connection status 80ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaivers > should fetch lien waivers 108ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaivers > should apply filters 20ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaiver > should fetch single lien waiver by ID 72ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useAverageResponseTime > should fetch average response time for valid projectId 74ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useAverageResponseTime > should pass filters to service 86ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useInsuranceCertificates > should fetch certificates 109ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useInsuranceCertificates > should fetch certificates with filters 79ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncidents > should fetch incidents 127ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItems > should fetch action items successfully 98ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaiver > should not fetch when id is empty 5ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaiverHistory > should fetch waiver history 69ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignConnectionStatus > should not fetch when company_id is missing 15ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignConnectionStatus > should have correct staleTime configuration 9ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useInitiateDocuSignConnection > should initiate connection and redirect to authorization URL 85ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncidents > should fetch incidents with filters 93ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncident > should fetch single incident 87ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncident > should not fetch when id is empty 9ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Query Hooks > useToolboxTopic > should not fetch when id is empty 117ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useInsuranceCertificate > should fetch single certificate 81ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useInsuranceCertificate > should not fetch when certificateId is undefined 4ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItems > should fetch action items with filters 83ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaiverTemplates > should fetch templates without filters 77ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaiverTemplates > should apply template filters 14ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Query Hooks > useToolboxTopicsByCategory > should fetch topics grouped by category 74ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Mutation Hooks > useCreateTopic > should create topic and show success toast 31ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Mutation Hooks > useCreateTopic > should show error toast on failure 13ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Mutation Hooks > useUpdateTopic > should update topic 12ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Topic Mutation Hooks > useDeleteTopic > should delete topic 8ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useInitiateDocuSignConnection > should show error toast on failure 81ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useExpiringCertificates > should fetch expiring certificates 97ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useCreateInsuranceCertificate > should create certificate 12ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useUpdateInsuranceCertificate > should update certificate 7ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useDeleteInsuranceCertificate > should delete certificate 9ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useVoidInsuranceCertificate > should void certificate with reason 8ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItems > should handle error when fetching action items fails 63ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItems > should use correct query key with filters 1ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncidentWithDetails > should fetch incident with related data 102ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaiverTemplate > should fetch single template by ID 65ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Empty State > renders empty state when no pending operations or conflicts 89ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Query Hooks > useToolboxTalks > should fetch talks 67ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Query Hooks > useToolboxTalks > should apply filters 8ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Query Hooks > useToolboxTalk > should fetch single talk 63ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCompleteDocuSignConnection > should complete connection successfully 98ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCompleteDocuSignConnection > should show error toast on failure 72ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItems > should fetch with multiple status filters 68ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItems > should fetch with priority filters 67ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useInsuranceRequirements > should fetch requirements 79ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useInsuranceRequirements > should fetch requirements for specific project 69ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useCreateInsuranceRequirement > should create requirement 7ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncidentStats > should fetch incident statistics 85ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaiverRequirements > should fetch requirements for a project 134ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useLienWaiverRequirements > should fetch company-wide requirements when no projectId 18ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useProjectWaiverSummary > should calculate waiver summary from waiver data 21ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Empty State > shows "All changes synced" in description when empty 21ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Empty State > shows "Never" for last sync when no sync has occurred 25ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Header and Status > renders "Sync Status" title 27ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > ShareIcon > renders SVG with correct attributes 40ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > ShareIcon > applies custom className 5ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > ShareIcon > includes default h-4 w-4 classes 15ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > ShareIcon > renders share icon path elements 35ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useComplianceCheck > should check compliance for subcontractor 72ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useComplianceCheck > should not check when subcontractorId is undefined 3ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItems > should fetch with search filter 72ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useRefreshDocuSignToken > should refresh token successfully 84ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Query Hooks > useToolboxTalkWithDetails > should fetch talk with details 62ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Query Hooks > useUpcomingToolboxTalks > should fetch upcoming talks 67ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Visibility and Rendering > does not render when conflict is null 30ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncidentStats > should fetch stats for specific project 138ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useCreateLienWaiver > should create a lien waiver 58ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useUpdateLienWaiver > should update a lien waiver 9ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useDeleteLienWaiver > should soft delete a lien waiver 23ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useSendWaiverRequest > should send waiver request email 46ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useMarkWaiverReceived > should mark waiver as received 19ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Header and Status > shows syncing badge when isSyncing is true 57ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Header and Status > does not show syncing badge when isSyncing is false 32ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItems > should fetch with pagination 83ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useProjectActionItems > should fetch project action items successfully 78ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useProjectActionItems > should not fetch when projectId is undefined 13ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Basic Rendering > renders all three instruction steps 123ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Basic Rendering > renders numbered step indicators 7ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Basic Rendering > renders Safari requirement info box 9ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Basic Rendering > applies custom className 8ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Header with Close Button > shows header when onClose is provided 59ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useRefreshDocuSignToken > should show error toast on failure 77ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDisconnectDocuSign > should disconnect successfully 87ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Query Hooks > useRecentToolboxTalks > should fetch recent talks 62ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Mutation Hooks > useCreateToolboxTalk > should create talk 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Mutation Hooks > useStartToolboxTalk > should start talk 4ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Mutation Hooks > useCompleteToolboxTalk > should complete talk 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Mutation Hooks > useCancelToolboxTalk > should cancel talk 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Talk Mutation Hooks > useDeleteToolboxTalk > should delete talk 3ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useComplianceSummary > should fetch compliance summary 63ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useInsuranceDashboardStats > should fetch dashboard statistics 78ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useSignWaiver > should record waiver signature 17ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useRecentIncidents > should fetch recent incidents for project 123ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useRecentIncidents > should not fetch when projectId is empty 72ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useSubcontractorCertificates > should fetch certificates for subcontractor 79ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useUploadCertificateDocument > should upload certificate document 7ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > useAcknowledgeAlert > should acknowledge expiration alert 4ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Critical Tests > should track certificate status 3ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Critical Tests > should track coverage limits 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Critical Tests > should track additional insured status 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Critical Tests > should track waiver of subrogation 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Critical Tests > should provide compliance rate in dashboard 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Critical Tests > should track expiration alerts 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Compliance Status Data Structures > should have required compliance status fields 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Compliance Status Data Structures > should track payment hold status 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Compliance Status Data Structures > should track missing coverage types 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Compliance Status Data Structures > should track certificate expiration counts 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Payment Hold Workflow > should validate payment hold input structure 2ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Payment Hold Workflow > should validate release payment hold structure 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > AI Extraction Data Structures > should have required AI extraction fields 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > AI Extraction Data Structures > should have extracted data structure 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > AI Extraction Data Structures > should track confidence and review status 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Project Insurance Requirements > should have required project requirement fields 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Project Insurance Requirements > should have minimum coverage amounts 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Project Insurance Requirements > should track endorsement requirements 0ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Integration Scenarios > should handle certificate expiration workflow 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Integration Scenarios > should handle certificate renewal workflow 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Integration Scenarios > should validate coverage against requirements 1ms
 ✓ src/features/insurance/hooks/useInsurance.test.tsx > Insurance Compliance Integration Scenarios > should calculate compliance score correctly 1ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useToolboxAttendees > should fetch attendees 71ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useAddAttendee > should add attendee 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useBulkAddAttendees > should bulk add attendees 2ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useSignInAttendee > should sign in attendee with signature 3ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useQuickSignIn > should quick sign in attendee 2ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useMarkAbsent > should mark attendee absent 2ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useMarkExcused > should mark attendee excused 2ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useRemoveAttendee > should remove attendee 2ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Attendee Hooks > useBulkSignIn > should bulk sign in all attendees 2ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Certification Hooks > useToolboxCertifications > should fetch certifications 73ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useProjectActionItems > should fetch with extra filters 70ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDisconnectDocuSign > should show error toast on failure 69ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Header and Status > shows pending operations and conflicts count in description 77ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Last Sync Time > shows "Just now" for recent sync 41ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Last Sync Time > shows minutes for sync within last hour 15ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Last Sync Time > shows hours for sync within last day 23ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Visibility and Rendering > does not render when open is false 201ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useNotarizeWaiver > should record notarization 126ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useApproveWaiver > should approve a waiver 30ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useRejectWaiver > should reject a waiver with reason 16ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Certification Hooks > useToolboxCertifications > should pass filters 13ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Certification Hooks > useWorkerCertifications > should fetch worker certifications 85ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useProjectActionItems > should handle error when fetching project items fails 73ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItem > should fetch single action item successfully 79ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItem > should not fetch when id is undefined 4ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncidentPeople > should fetch people for incident 118ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignEnvelopes > should fetch envelopes successfully 78ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignEnvelopes > should fetch envelopes with filters 73ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Last Sync Time > shows date for sync older than a day 82ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Conflicts Section > does not render conflicts section when no conflicts 35ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Conflicts Section > renders conflicts section when conflicts exist 26ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useVoidWaiver > should void a waiver with reason 58ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useCreateLienWaiverTemplate > should create a new template 9ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useUpdateLienWaiverTemplate > should update a template 9ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useCreateLienWaiverRequirement > should create a new requirement 34ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useRenderWaiverTemplate > should render template with placeholder data 18ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useIncidentPhotos > should fetch photos for incident 103ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItem > should handle not found action item 79ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignEnvelopes > should handle errors when fetching envelopes 74ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignEnvelopes > should not fetch when company_id is missing 3ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > useRenderWaiverTemplate > should only replace provided placeholders 49ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > Waiver workflow business logic > should support full waiver lifecycle 3ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > Waiver workflow business logic > should track waiver amounts correctly 2ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > Waiver workflow business logic > should identify overdue waivers 2ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > Waiver workflow business logic > should validate waiver type requirements 2ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > Compliance tracking > should track waiver compliance per payment application 1ms
 ✓ src/features/lien-waivers/hooks/useLienWaivers.test.tsx > useLienWaivers hooks > Compliance tracking > should identify blocking compliance issues 1ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Certification Hooks > useWorkerCertifications > should not fetch when params are empty 108ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignEnvelope > should fetch single envelope successfully 74ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignEnvelope > should not fetch when envelopeDbId is undefined 9ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignEnvelopeByDocument > should fetch envelope by document successfully 79ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useCorrectiveActions > should fetch corrective actions 113ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItem > should handle error when fetching action item fails 64ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemSummary > should fetch project summary successfully 71ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemSummary > should not fetch when projectId is undefined 18ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Visibility and Rendering > renders dialog when open is true and conflict exists 278ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Certification Hooks > useExpiringCertifications > should fetch expiring certifications 84ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Stats Hooks > useToolboxTalkStats > should fetch project stats 79ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Initial Session Loading > should load session and user profile on mount 116ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignEnvelopeByDocument > should not fetch when parameters are missing 13ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCreateDocuSignEnvelope > should create envelope successfully 81ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useCorrectiveActions > should fetch actions with filters 119ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemSummary > should handle error when fetching summary fails 89ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Stats Hooks > useComplianceSummary > should fetch compliance summary 75ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Header with Close Button > does not show header when onClose is not provided 43ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemsByAssignee > should fetch items by assignee successfully 75ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemsByAssignee > should not fetch when projectId is undefined 6ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemsByAssignee > should handle error when fetching by assignee fails 83ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCreateDocuSignEnvelope > should show error toast on failure 71ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Stats Hooks > useAttendanceRate > should fetch attendance rate 65ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Error Handling > should handle query error 91ms
 ✓ src/features/toolbox-talks/hooks/useToolboxTalks.test.tsx > Error Handling > should show error toast on mutation failure 8ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useCorrectiveActionStats > should fetch action statistics 118ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useCreateIncident > should create incident and show toast 7ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useUpdateIncident > should update incident 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useDeleteIncident > should delete incident 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useCloseIncident > should close incident 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useStartInvestigation > should start investigation 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useAddPerson > should add person to incident 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useRemovePerson > should remove person from incident 2ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useAddPhoto > should add photo to incident 2ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useUploadPhoto > should upload photo 4ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useRemovePhoto > should remove photo 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useCreateCorrectiveAction > should create corrective action 3ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useUpdateCorrectiveAction > should update corrective action 2ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useCompleteCorrectiveAction > should complete corrective action 2ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useDeleteCorrectiveAction > should delete corrective action 2ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useLinkActionToTask > should link action to task 3ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useSendDocuSignEnvelope > should send envelope successfully 104ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useSendDocuSignEnvelope > should show error toast on failure 72ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Initial Session Loading > should handle no initial session 240ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Visibility and Rendering > applies max width and height classes 284ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useOverdueActionItems > should fetch overdue items successfully 72ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useOSHA300ASummary > should fetch OSHA 300A summary 115ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useGetSigningUrl > should get signing URL successfully 69ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useOverdueActionItems > should fetch overdue items for specific project 76ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useOverdueActionItems > should fetch with custom limit 91ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Header with Close Button > calls onClose when close button is clicked 759ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useOSHA300ASummary > should fetch summary for specific project 113ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Sign In with MFA > should sign in without MFA when not required 230ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Conflicts Section > displays conflict entity type and timestamp 42ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useGetSigningUrl > should show error toast on failure 86ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useVoidDocuSignEnvelope > should void envelope successfully 75ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Header and Metadata > renders title with alert icon 351ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useOverdueActionItems > should handle error when fetching overdue items fails 76ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Header with Close Button > renders close button with X icon 199ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Compact Mode > applies smaller text classes in compact mode 16ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Compact Mode > uses regular text classes in non-compact mode 6ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Compact Mode > renders smaller step indicators in compact mode 7ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Compact Mode > renders larger step indicators in non-compact mode 7ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useOSHAIncidenceRates > should fetch OSHA incidence rates 122ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useOSHAIncidenceRates > should not fetch when hoursWorked is 0 15ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > useGenerateCaseNumber > should generate next case number 11ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > OSHA Compliance Critical Tests > should track OSHA recordable status 2ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > OSHA Compliance Critical Tests > should track days away from work 0ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > OSHA Compliance Critical Tests > should track days on restricted duty 0ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > OSHA Compliance Critical Tests > should track injury/illness type 1ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > OSHA Compliance Critical Tests > should track body part affected 14ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > OSHA Compliance Critical Tests > should support privacy case flag 1ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > OSHA Compliance Critical Tests > should track incident statistics correctly 2ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > OSHA Compliance Critical Tests > should provide severity breakdown 22ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > Safety Error Handling > should show error toast on create failure 68ms
 ✓ src/features/safety/hooks/useIncidents.test.tsx > Safety Error Handling > should show error toast on update failure 7ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Sign In with MFA > should require MFA verification for enrolled superintendent 136ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useVoidDocuSignEnvelope > should show error toast on failure 74ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemsDueSoon > should fetch items due soon successfully 73ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Header and Metadata > renders description with entity type 246ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useResendDocuSignEnvelope > should resend envelope successfully 62ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useResendDocuSignEnvelope > should show error toast on failure 61ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Don't Show Again Functionality > shows "don't show again" checkbox by default 104ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Don't Show Again Functionality > hides "don't show again" when showDontShowAgain is false 27ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Sign In with MFA > should handle sign in error 94ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemsDueSoon > should fetch items due soon for specific project 119ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemsDueSoon > should handle error when fetching items due soon fails 66ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Conflicts Section > renders Resolve button for each conflict 786ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCreatePaymentApplicationEnvelope > should create payment application envelope successfully 67ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCreatePaymentApplicationEnvelope > should show error toast on failure 76ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Header and Metadata > displays entity type badge 192ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Sign Out with MFA Cleanup > should clear MFA verification on sign out 174ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useEscalatedActionItems > should fetch escalated items successfully 61ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useEscalatedActionItems > should fetch escalated items for specific project 64ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Don't Show Again Functionality > updates checkbox state when clicked 239ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCreateChangeOrderEnvelope > should create change order envelope successfully 77ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Sign Out with MFA Cleanup > should clear MFA state on sign out 107ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > MFA Status Management > should refresh MFA status 71ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useEscalatedActionItems > should handle error when fetching escalated items fails 62ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemStatusCounts > should fetch status counts successfully 69ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Conflicts Section > opens conflict dialog when Resolve is clicked 431ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Conflicts Section > applies warning colors to conflict items 24ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Pending Operations By Type > does not render pending operations section when queue is empty 25ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Pending Operations By Type > renders pending operations badges grouped by type 17ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Pending Operations By Type > counts operations correctly for each type 28ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCreateChangeOrderEnvelope > should show error toast on failure 72ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCreateLienWaiverEnvelope > should create lien waiver envelope successfully 71ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemStatusCounts > should not fetch when projectId is undefined 28ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useActionItemStatusCounts > should handle error when fetching status counts fails 84ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > MFA Status Management > should check if MFA is required 90ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > does not render queue details when queue is empty 17ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > renders queue details section when queue has items 6ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > displays entity type and operation for each queue item 17ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > shows correct icon for create operation 46ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > shows correct icon for update operation 24ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useCreateLienWaiverEnvelope > should show error toast on failure 62ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > MFA Status Management > should return false when no user profile 87ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useCreateActionItem > should create action item successfully 92ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > shows correct icon for delete operation 21ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > shows default icon for unknown operation 29ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > displays retry count when greater than zero 39ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > does not display retry count when zero 26ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignStats > should fetch envelope statistics successfully 80ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignStats > should handle errors when fetching stats 81ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignStats > should not fetch when company_id is missing 10ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > MFA Verification Helpers > should mark MFA as verified 108ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > MFA Verification Helpers > should clear MFA verification 67ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useCreateActionItem > should invalidate queries after successful creation 70ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useCreateActionItem > should handle error when creation fails 89ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Don't Show Again Functionality > calls onDontShowAgain when checkbox is checked and Close is clicked 471ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Queue Details > renders remove button for each queue item 32ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignDashboard > should fetch dashboard data successfully 78ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUpdateActionItem > should update action item successfully 76ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Don't Show Again Functionality > does not call onDontShowAgain when checkbox is unchecked and Close is clicked 91ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Don't Show Again Functionality > shows Close button when onClose is provided 45ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Icons and Styling > renders ShareIcon in step 1 15ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Icons and Styling > renders Plus icon in step 2 9ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignDashboard > should handle errors when fetching dashboard 80ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > useDocuSignDashboard > should not fetch when company_id is missing 6ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > docuSignKeys > should generate correct query keys 4ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > Loading States > should show loading state for queries 8ms
 ✓ src/features/docusign/hooks/__tests__/useDocuSign.test.tsx > DocuSign Hooks > Loading States > should show loading state for mutations 67ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Clear All Button > renders Clear All button when queue has items 122ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUpdateActionItem > should invalidate queries after successful update 67ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUpdateActionItem > should handle error when update fails 76ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Auth State Changes > should refresh MFA status on auth state change 239ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Icons and Styling > applies dark mode classes to step indicators 25ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Icons and Styling > applies primary colors to info box 17ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Accessibility > uses ordered list for steps 14ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Accessibility > provides accessible close button label 62ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Clear All Button > shows confirmation dialog when Clear All is clicked 191ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useDeleteActionItem > should delete action item successfully 79ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Auth State Changes > should clear MFA state on sign out event 103ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > useAuthWithMFA Hook > should throw error when used outside provider 20ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > IOSInstallInstructions > Accessibility > associates label with checkbox using htmlFor 94ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Visibility and Animation > does not render when shouldShowBanner is false 4ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Visibility and Animation > renders when shouldShowBanner is true 14ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useDeleteActionItem > should invalidate all queries after successful deletion 67ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useDeleteActionItem > should handle error when deletion fails 72ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Visibility and Animation > calls trackPromptShown after delay when showing 125ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Visibility and Animation > applies bottom position by default 13ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Visibility and Animation > applies top position when position="top" 16ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Visibility and Animation > applies custom className 7ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Content Rendering > renders logo icon 14ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Content Rendering > renders "Install JobSight" title 11ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Security Critical Tests > should handle MFA status fetch errors gracefully 94ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Security Critical Tests > should not expose MFA verification status to unauthenticated users 69ms
stderr | src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Security Critical Tests > should handle profile fetch failure during sign in
Error fetching user profile: Error: Profile not found
    at C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/src/lib/auth/AuthContextWithMFA.test.tsx:788:22
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1209:10)
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1653:37
    at Traces.$ (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)
    at runTest (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1653:12)

 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUpdateActionItemStatus > should update status successfully 75ms
 ✓ src/lib/auth/AuthContextWithMFA.test.tsx > AuthContextWithMFA > Security Critical Tests > should handle profile fetch failure during sign in 83ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useAverageResponseTime > should handle errors 3064ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeByPriority > should fetch response time by priority 70ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Content Rendering > renders description with benefits 16ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUpdateActionItemStatus > should show completion toast when status is completed 67ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUpdateActionItemStatus > should invalidate queries after status update 82ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Clear All Button > calls clearSyncQueue when confirmed 359ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeByAssignee > should fetch response time by assignee 72ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUpdateActionItemStatus > should handle error when status update fails 63ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Content Rendering > renders Install App button with download icon 129ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeByResponseType > should fetch response time by response type 68ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeDistribution > should fetch response time distribution 75ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Clear All Button > does not call clearSyncQueue when cancelled 142ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Remove Item Button > shows confirmation dialog when remove item is clicked 72ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useResolveActionItem > should resolve action item successfully 80ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useResolveActionItem > should invalidate queries after successful resolution 82ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Content Rendering > renders "Not now" dismiss button 145ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeTrends > should fetch response time trends 78ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeTrends > should not fetch when date range is incomplete 4ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Header and Metadata > displays formatted detected timestamp 144ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Header and Metadata > displays number of differing fields 55ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useResolveActionItem > should handle error when resolution fails 78ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useOnTimePerformance > should fetch on-time performance metrics 68ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeByDayOfWeek > should fetch response time by day of week 71ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Content Rendering > renders dismiss X button 106ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Content Rendering > renders "don't show again" checkbox 81ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useLinkActionItem > should link action item to task successfully 68ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useLinkActionItem > should link action item to RFI successfully 68ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Remove Item Button > calls removePendingSync with correct id when confirmed 216ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Remove Item Button > does not call removePendingSync when cancelled 84ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeByMonth > should fetch response time by month 70ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useLinkActionItem > should invalidate queries after successful link 65ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Operation Colors > applies success color to create operation 22ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Operation Colors > applies info color to update operation 18ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Operation Colors > applies error color to delete operation 22ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Operation Colors > applies muted color to unknown operation 18ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Dark Mode Support > applies dark mode classes to operation badges 15ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Dark Mode Support > applies dark mode classes to conflict items 17ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > ScrollArea Usage > uses ScrollArea for conflicts section 7ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Install Flow - Non-iOS > calls promptInstall when Install App is clicked on non-iOS 136ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Options > renders three resolution buttons 1442ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Options > renders icons in resolution buttons 31ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeRecords > should fetch fastest and slowest response records 76ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useRFIResponseAnalytics > should fetch complete analytics 64ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useLinkActionItem > should handle error when linking fails 71ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUnlinkActionItem > should unlink action item from task successfully 72ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useRFIResponseMetrics > should combine multiple metrics into one result 75ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useRFIResponseMetrics > should compute isError from individual query states 0ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUnlinkActionItem > should unlink action item from RFI successfully 66ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Install Flow - Non-iOS > does not show iOS instructions on non-iOS 204ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > ScrollArea Usage > uses ScrollArea for queue details 17ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Separators > uses separators between sections 16ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Accessibility > uses semantic heading for title 12ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useAssigneePerformance > should return assignee data with computed helpers 67ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useAssigneePerformance > should calculate average on-time percentage 78ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Options > defaults to server resolution selected 246ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUnlinkActionItem > should invalidate queries after successful unlink 77ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useUnlinkActionItem > should handle error when unlinking fails 80ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Install Flow - iOS > shows iOS instructions when Install App is clicked on iOS 129ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Accessibility > provides descriptive button labels 212ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Accessibility > capitalizes entity types for readability 20ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Edge Cases > handles empty entity type gracefully 23ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Edge Cases > handles multiple queue items of same type 22ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Edge Cases > handles large retry counts 24ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useAssigneePerformance > should filter by assignee IDs when provided 26ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeTrendAnalysis > should return trends with computed helpers 69ms
 ✓ src/components/__tests__/SyncStatusPanel.test.tsx > SyncStatusPanel > Edge Cases > handles both conflicts and queue items simultaneously 26ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useConvertToTask > should convert action item to task successfully 75ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Install Flow - iOS > calls analytics callback when iOS instructions are shown 105ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeTrendAnalysis > should detect declining trend 70ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useConvertToTask > should invalidate queries after successful conversion 70ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useConvertToTask > should handle error when conversion fails 74ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeTrendAnalysis > should detect stable trend 70ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > useResponseTimeTrendAnalysis > should use specified granularity 14ms
stderr | src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > Edge Cases > should handle null trends data in useResponseTimeTrendAnalysis
Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["rfi-response-analytics","project","test-project-123","trends",{"endDate":"2025-12-30","startDate":"2025-10-01"},"week"]

 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useCarryoverActionItems > should carryover action items successfully 86ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > Edge Cases > should handle empty assignee list in useAssigneePerformance 87ms
 ✓ src/features/rfis/hooks/useRFIResponseAnalytics.test.ts > Edge Cases > should handle null trends data in useResponseTimeTrendAnalysis 83ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Install Flow - iOS > does not call promptInstall on iOS 165ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Options > changes selection when Keep Local is clicked 318ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useCarryoverActionItems > should handle single item carryover message correctly 78ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useCarryoverActionItems > should carryover specific action items 72ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useCarryoverActionItems > should invalidate queries after successful carryover 71ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > useCarryoverActionItems > should handle error when carryover fails 78ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for all 2ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for lists 5ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for list with filters 3ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for details 2ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for detail with id 0ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for summary 1ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for byAssignee 1ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for overdue 4ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for overdue without project 3ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for dueSoon 3ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for escalated 2ms
 ✓ src/features/action-items/hooks/__tests__/useActionItems.test.tsx > Action Items Hooks > actionItemKeys > should generate correct key for statusCounts 1ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Dismiss Functionality > calls dismissPrompt when "Not now" is clicked 622ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetings > should get all meetings with default filters 7ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetings > should filter meetings by project_id 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetings > should filter meetings by meeting_type 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetings > should filter meetings by status 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetings > should filter meetings by date range 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetings > should search meetings by title and description 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetings > should handle database errors 3ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetings > should return empty array when no data 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetingById > should get a single meeting by ID 2ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetingById > should handle not found error 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getMeetingWithDetails > should get meeting with all related data 2ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > createMeeting > should create a new meeting with required fields 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > createMeeting > should create meeting with all optional fields 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > createMeeting > should handle creation errors 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > updateMeeting > should update meeting fields 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > updateMeeting > should update timestamp 0ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > publishMinutes > should publish meeting minutes 0ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > deleteMeeting > should soft delete meeting 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > deleteMeeting > should handle deletion errors 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getUpcomingMeetings > should get upcoming meetings with default limit 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getUpcomingMeetings > should filter by project_id 0ms
 ✓ src/lib/api/services/meetings.test.ts > meetingsApi > getUpcomingMeetings > should only include future meetings 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingNotesApi > getNotes > should get notes for a meeting 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingNotesApi > createNote > should create a note with required fields 0ms
 ✓ src/lib/api/services/meetings.test.ts > meetingNotesApi > createNote > should create note with all fields 0ms
 ✓ src/lib/api/services/meetings.test.ts > meetingNotesApi > updateNote > should update note content 0ms
 ✓ src/lib/api/services/meetings.test.ts > meetingNotesApi > deleteNote > should delete a note 0ms
 ✓ src/lib/api/services/meetings.test.ts > meetingNotesApi > reorderNotes > should reorder notes 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingActionItemsApi > getActionItems > should get action items for a meeting 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingActionItemsApi > createActionItem > should create action item with defaults 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingActionItemsApi > completeActionItem > should complete action item and set completion date 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingActionItemsApi > convertToTask > should convert action item to task 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttendeesApi > getAttendees > should get attendees ordered by required then name 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttendeesApi > addAttendee > should add attendee with default status 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttendeesApi > markAttendance > should mark attendee as attended 0ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttendeesApi > markAttendance > should mark attendee as absent 0ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttendeesApi > removeAttendee > should delete attendee 0ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttendeesApi > addProjectUsersAsAttendees > should add all project users as attendees 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttendeesApi > addProjectUsersAsAttendees > should return empty array if no project users 0ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttachmentsApi > getAttachments > should get attachments ordered by created_at desc 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttachmentsApi > addAttachment > should add attachment with default type 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttachmentsApi > deleteAttachment > should delete attachment 0ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttachmentsApi > uploadAndAttach > should upload file and create attachment record 2ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttachmentsApi > uploadAndAttach > should handle upload errors 1ms
 ✓ src/lib/api/services/meetings.test.ts > meetingAttachmentsApi > uploadAndAttach > should require authentication 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should get all equipment for a company 8ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should filter by equipment_type (single) 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should filter by equipment_type (multiple) 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should filter by category 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should filter by status 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should filter by ownership_type 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should filter by current_project_id 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should search equipment by multiple fields 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should handle database errors 3ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipment > should return empty array when no data 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipmentById > should get equipment with all details 3ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipmentById > should handle not found error 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > createEquipment > should create equipment with required fields 2ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > createEquipment > should create equipment with all optional fields 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > createEquipment > should handle user company not found 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > createEquipment > should handle creation errors 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > updateEquipment > should update equipment fields 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > updateEquipmentStatus > should update equipment status 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > deleteEquipment > should soft delete equipment 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > deleteEquipment > should handle deletion errors 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipmentStatistics > should calculate comprehensive statistics 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipmentStatistics > should calculate utilization rate 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getEquipmentStatistics > should return default stats when no equipment 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentApi > getAvailableEquipment > should get only available equipment 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentAssignmentsApi > getAssignments > should get assignments for equipment 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentAssignmentsApi > getProjectEquipment > should get active equipment for project 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentAssignmentsApi > assignEquipment > should assign equipment to project 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentAssignmentsApi > assignEquipment > should assign with optional fields 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentAssignmentsApi > updateAssignment > should update assignment 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentAssignmentsApi > returnEquipment > should complete assignment and update equipment status 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentAssignmentsApi > returnEquipment > should use current date if not provided 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentLogsApi > getLogs > should get logs with filters 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentLogsApi > getLogs > should filter by date range 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentLogsApi > createLog > should create log entry 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentLogsApi > getTotalHours > should calculate total hours for date range 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentLogsApi > getTotalHours > should return 0 when no logs 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentLogsApi > postCostToTransaction > should post equipment cost via RPC 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentLogsApi > batchPostCosts > should batch post costs and return results 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentMaintenanceApi > getMaintenance > should get maintenance records with filters 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentMaintenanceApi > scheduleMaintenance > should schedule maintenance 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentMaintenanceApi > completeMaintenance > should complete maintenance with details 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentMaintenanceApi > completeMaintenance > should use current date if not provided 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentMaintenanceApi > cancelMaintenance > should cancel maintenance 0ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentMaintenanceApi > getUpcomingMaintenance > should get maintenance scheduled in next 30 days 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentInspectionsApi > getInspections > should get inspections for equipment 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentInspectionsApi > createInspection > should create inspection 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentInspectionsApi > getLatestInspection > should get most recent inspection 1ms
 ✓ src/lib/api/services/equipment.test.ts > equipmentInspectionsApi > getLatestInspection > should return null when no inspections exist 0ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Dismiss Functionality > calls dismissPrompt when X button is clicked 533ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Options > changes selection when Keep Server is clicked 1094ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should calculate response time correctly for same day response 3ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should calculate response time correctly for 1 day 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should calculate response time correctly for multiple days 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should handle month boundary correctly 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should handle year boundary correctly 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should return null when submitted date is null 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should return null when responded date is null 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should return null when both dates are null 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should handle Date objects as input 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should handle ISO date strings with times 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateResponseTime > should handle negative response time (responded before submitted - edge case) 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateBusinessDays > should calculate business days excluding weekends 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateBusinessDays > should exclude Saturday and Sunday 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateBusinessDays > should return 0 for same day (exclusive end) 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateBusinessDays > should handle weekend only span 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateBusinessDays > should handle multiple weeks correctly 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateBusinessDays > should handle Saturday as start 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > isResponseOnTime > should return true when response is within required days 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > isResponseOnTime > should return true when response is exactly on required days 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > isResponseOnTime > should return false when response exceeds required days 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > isResponseOnTime > should return null when submitted date is null 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > isResponseOnTime > should return null when responded date is null 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > isResponseOnTime > should use priority-specific threshold when provided 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > isResponseOnTime > should return true for same day response 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateDaysOverdue > should return negative number when response is early 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateDaysOverdue > should return zero when response is exactly on time 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateDaysOverdue > should return positive number when response is late 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateDaysOverdue > should use current date when responded date is null (pending RFI) 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Response Time Calculations > calculateDaysOverdue > should return 0 when submitted date is null 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMean > should calculate mean correctly 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMean > should return 0 for empty array 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMean > should handle single value 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMean > should handle decimal values 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMean > should handle large values 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMedian > should calculate median for odd number of values 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMedian > should calculate median for even number of values 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMedian > should return 0 for empty array 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMedian > should handle single value 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMedian > should handle unsorted input 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateMedian > should not modify original array 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should calculate 50th percentile (median) 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should calculate 25th percentile 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should calculate 75th percentile 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should calculate 90th percentile 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should return 0 for empty array 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should return min value for 0th percentile 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should return max value for 100th percentile 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should throw error for percentile < 0 2ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentile > should throw error for percentile > 100 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateStandardDeviation > should calculate standard deviation correctly 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateStandardDeviation > should return 0 for empty array 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateStandardDeviation > should return 0 for single value 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateStandardDeviation > should return 0 for identical values 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateStatistics > should calculate all statistics correctly 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateStatistics > should return zeros for empty array 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculateStatistics > should handle single value 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentiles > should calculate all percentiles correctly 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Statistical Functions > calculatePercentiles > should handle small datasets 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Performance Rating > getPerformanceRating > should return excellent for >= 95% on-time 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Performance Rating > getPerformanceRating > should return good for >= 85% and < 95% 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Performance Rating > getPerformanceRating > should return average for >= 70% and < 85% 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Performance Rating > getPerformanceRating > should return needs_improvement for < 70% 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Performance Rating > getPerformanceRating > should use custom thresholds when provided 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > determineTrendDirection > should return improving when response times decrease significantly 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > determineTrendDirection > should return declining when response times increase significantly 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > determineTrendDirection > should return stable when change is within threshold 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > determineTrendDirection > should use custom threshold when provided 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > determineTrendDirection > should handle boundary values 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > calculateMovingAverage > should calculate moving average correctly 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > calculateMovingAverage > should return all nulls when window size exceeds array length 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > calculateMovingAverage > should handle window size of 1 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Trend Analysis > calculateMovingAverage > should handle empty array 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Distribution Buckets > createDistributionBuckets > should create default buckets with correct counts 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Distribution Buckets > createDistributionBuckets > should calculate percentages correctly 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Distribution Buckets > createDistributionBuckets > should handle empty array 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Distribution Buckets > createDistributionBuckets > should use custom buckets when provided 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Date Helpers > getDayOfWeekName > should return correct day names 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Date Helpers > getDayOfWeekName > should return Unknown for invalid day number 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Date Helpers > getMonthName > should return correct month names 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Date Helpers > getMonthName > should return Unknown for invalid month number 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Date Helpers > getDateRangeFromPreset > should return correct range for last_7_days 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Date Helpers > getDateRangeFromPreset > should return correct range for last_30_days 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Date Helpers > getDateRangeFromPreset > should return correct range for all_time 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Date Helpers > getDateRangeFromPreset > should default to all_time for unknown preset 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Same day responses > should count as 0 days response time 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Same day responses > should be considered on time 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Same day responses > should show negative days overdue (early) 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Very long response times > should handle 100+ day response times 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Very long response times > should correctly classify as late 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Very long response times > should calculate correct days overdue 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Leap year handling > should handle February 29 in leap year 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Leap year handling > should handle non-leap year February 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Timezone edge cases > should normalize times for consistent day calculation 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Zero required response days > should handle 0 required days threshold 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Statistical edge cases > should handle all identical values 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Statistical edge cases > should handle very large dataset 4ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Statistical edge cases > should handle negative values (theoretical edge case) 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Edge Cases > Statistical edge cases > should handle decimal precision 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Complete Analytics Scenarios > Healthy project scenario > should show positive metrics for on-time responses 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Complete Analytics Scenarios > Problematic project scenario > should identify issues with late responses 1ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Complete Analytics Scenarios > Priority-based analysis > should identify priority-specific performance issues 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Complete Analytics Scenarios > Trend detection > should detect improving trend when response times decrease 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Complete Analytics Scenarios > Trend detection > should detect declining trend when response times increase 0ms
 ✓ src/lib/api/services/rfi-response-analytics.test.ts > Complete Analytics Scenarios > Assignee comparison > should correctly rank assignees by performance 3ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Options > renders manual merge button with tooltip 476ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Tabs > renders three tabs 79ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Tabs > defaults to diff tab 78ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Tabs > renders tab labels 116ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Differences Tab > renders all field differences 105ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Differences Tab > displays local and server values for each difference 127ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Differences Tab > skips id and created_at fields 126ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Dismiss Functionality > dismisses permanently when "don't show again" is checked 906ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Dark Mode Support > applies dark mode classes to card 30ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Differences Tab > applies color coding to local and server values 141ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Differences Tab > shows "No differences found" when no differences exist 58ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallBanner > Accessibility > provides aria-label for dismiss button 193ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installed State > shows installed state when isInstalled is true 17ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installed State > shows installed state when isStandalone is true 10ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installed State > renders CheckCircle icon in installed state 19ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installed State > shows running in standalone mode status 20ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installed State > shows app version 17ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Differences Tab > renders field names with underscores replaced by spaces 46ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Differences Tab > renders icons for local and server labels 81ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installed State > applies green border in installed state 18ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Local Version Tab > renders local data as JSON 65ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Local Version Tab > wraps JSON in pre tag for formatting 43ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Server Version Tab > renders server data as JSON 65ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Server Version Tab > wraps JSON in pre tag for formatting 99ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > iOS Instructions State > shows iOS instructions when clicked on iOS device 128ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > iOS Instructions State > calls analytics callback when iOS instructions are shown 64ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Value Rendering > renders null as "Not set" 80ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > iOS Instructions State > does not show "don't show again" in iOS instructions 180ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Not Installable State > shows not installable state when not installable and not iOS 12ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Value Rendering > renders undefined as "Not set" 51ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Value Rendering > renders boolean true as "Yes" 58ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Not Installable State > shows "Show Install Prompt" button in not installable state 118ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Value Rendering > renders boolean false as "No" 39ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Value Rendering > renders objects as JSON 54ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Not Installable State > calls resetDismissed when "Show Install Prompt" is clicked 171ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Not Installable State > shows supported browsers info 11ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Not Installable State > renders Monitor icon in not installable state 27ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installable State > shows install button when installable on non-iOS 89ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installable State > shows "How to Install" button on iOS 61ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Value Rendering > renders strings as-is 84ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Value Rendering > renders numbers as strings 56ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installable State > calls promptInstall when Install App is clicked on non-iOS 151ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installable State > renders logo icon on non-iOS 4ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installable State > renders smartphone icon on iOS 3ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Installable State > shows benefits description 4ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Styling > applies custom className 4ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallButton > Styling > applies primary border in installable state 4ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Visibility > does not render when not installable 2ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Visibility > does not render when dismissed 2ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Visibility > renders when installable and not dismissed 40ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Button Rendering > renders download icon 5ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Preview > shows local resolution preview when local is selected 363ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should fetch all templates without filters 6ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should apply company_id filter 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should apply category filter 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should apply template_level filter 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should apply is_system_template filter 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should apply tags filter 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should apply search filter 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should handle database error 4ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplates > should return data as array when successful 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplate > should fetch single template by ID 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplate > should handle database error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplateWithItems > should fetch template with items 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplateWithItems > should handle error when template not found 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > createTemplate > should create new template 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > createTemplate > should handle insert error 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > updateTemplate > should update template 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > updateTemplate > should handle update error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > deleteTemplate > should soft delete template 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > deleteTemplate > should handle delete error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > duplicateTemplate > should duplicate template with items 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > duplicateTemplate > should handle duplication error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplateItems > should fetch template items 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getTemplateItems > should handle database error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > createTemplateItem > should create template item 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > createTemplateItem > should handle insert error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > updateTemplateItem > should update template item 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > updateTemplateItem > should handle update error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > deleteTemplateItem > should soft delete template item 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > deleteTemplateItem > should handle delete error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > reorderTemplateItems > should reorder multiple items 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > reorderTemplateItems > should handle empty array 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > reorderTemplateItems > should handle error during reorder 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should fetch all executions without filters 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should apply project_id filter 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should apply status filter 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should apply category filter 4ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should apply inspector_user_id filter 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should apply is_completed filter 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should apply date_from filter 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should apply date_to filter 11ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutions > should handle database error 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecution > should fetch single execution by ID 4ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecution > should handle error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutionWithResponses > should fetch execution with responses 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutionWithResponses > should handle error when execution not found 4ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > createExecution > should create new execution with defaults 4ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > createExecution > should handle insert error 2ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Button Rendering > renders pulse indicator dot 12ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Button Rendering > applies custom className 11ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > updateExecution > should update execution 12ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > updateExecution > should handle update error 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > submitExecution > should submit execution with timestamps 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > submitExecution > should handle submit error 4ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > deleteExecution > should soft delete execution 9ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > deleteExecution > should handle delete error 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getResponses > should fetch responses for execution 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getResponses > should handle database error 3ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > createResponse > should create response 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > createResponse > should handle insert error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > updateResponse > should update response 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > updateResponse > should handle update error 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > deleteResponse > should delete response 1ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > deleteResponse > should handle delete error 2ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > batchCreateResponses > should batch create responses 5ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > batchCreateResponses > should handle batch insert error 4ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutionScore > should calculate execution score from responses 8ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutionScore > should return zero scores when no responses 3ms
 ✓ src/lib/api/services/checklists.test.ts > checklistsApi > getExecutionScore > should handle all NA responses 3ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Install Flow - Non-iOS > calls promptInstall when clicked on non-iOS 141ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Preview > shows server resolution preview when server is selected 68ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Install Flow - Non-iOS > does not show tooltip on non-iOS 84ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Install Flow - iOS > shows iOS instructions tooltip when clicked on iOS 146ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Install Flow - iOS > calls analytics callback when iOS tooltip is shown 93ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Install Flow - iOS > does not call promptInstall on iOS 106ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Install Flow - iOS > renders compact iOS instructions in tooltip 61ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Preview > shows merge resolution preview when merge is selected 347ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > renders Cancel and Resolve buttons 408ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Install Flow - iOS > allows dismissing iOS tooltip permanently 649ms
 ✓ src/components/__tests__/PWAInstallPrompt.test.tsx > PWAInstallPrompt Components > PWAInstallIndicator > Accessibility > provides aria-label for install button 60ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > calls onOpenChange(false) when Cancel is clicked 481ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getConversations > should fetch conversations for user 7ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getConversations > should apply type filter 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getConversations > should apply project filter 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getConversations > should apply search filter 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getConversations > should apply pagination 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getConversations > should handle errors 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getConversation > should fetch single conversation 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getConversation > should return error if user not a participant 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > createConversation > should create group conversation 2ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > createConversation > should add initial participants 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > getOrCreateDirectConversation > should call database function 2ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > updateConversation > should update conversation name 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > addParticipants > should add new participants 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > addParticipants > should require creator to add participants 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > removeParticipant > should remove participant as creator 2ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > removeParticipant > should prevent removing self 1ms
 ✓ src/lib/api/services/messaging.test.ts > Conversation Methods > leaveConversation > should allow user to leave 1ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > getMessages > should fetch messages for conversation 2ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > getMessages > should apply before_id filter for pagination 1ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > getMessages > should apply sender filter 1ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > getMessage > should fetch single message 1ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > sendMessage > should send text message 2ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > sendMessage > should extract @mentions from content 2ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > editMessage > should edit message content 1ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > deleteMessage > should soft delete message 1ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > markAsRead > should mark messages as read 1ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > searchMessages > should search messages globally 1ms
 ✓ src/lib/api/services/messaging.test.ts > Message Methods > searchMessages > should search within specific conversation 1ms
 ✓ src/lib/api/services/messaging.test.ts > Participant Methods > getParticipants > should fetch all participants 1ms
 ✓ src/lib/api/services/messaging.test.ts > Participant Methods > updateParticipant > should update participant settings 1ms
 ✓ src/lib/api/services/messaging.test.ts > Participant Methods > getUnreadCount > should get total unread count 1ms
 ✓ src/lib/api/services/messaging.test.ts > Participant Methods > getUnreadCount > should get conversation-specific unread count 7ms
 ✓ src/lib/api/services/messaging.test.ts > Reaction Methods > addReaction > should add new reaction 1ms
 ✓ src/lib/api/services/messaging.test.ts > Reaction Methods > addReaction > should return existing reaction if duplicate 1ms
 ✓ src/lib/api/services/messaging.test.ts > Reaction Methods > removeReaction > should remove reaction 2ms
 ✓ src/lib/api/services/messaging.test.ts > Error Handling > should handle database errors gracefully 2ms
 ✓ src/lib/api/services/messaging.test.ts > Error Handling > should handle permission errors 2ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > isIncomingPayment > returns true for owner_requisition 2ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > isIncomingPayment > returns true for progress_billing 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > isIncomingPayment > returns false for subcontractor_pay_application 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > isIncomingPayment > returns false for invoice_payment 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > isIncomingPayment > returns false for vendor_payment 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > isIncomingPayment > returns false for retention_release 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > calculateDaysUntilDue > returns positive days for future dates 2ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > calculateDaysUntilDue > returns negative days for past dates 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > calculateDaysUntilDue > returns approximately 0 for today 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > getPriorityFromDueDate > returns critical for overdue (negative days) 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > getPriorityFromDueDate > returns high for 0-3 days until due 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > getPriorityFromDueDate > returns medium for 4-7 days until due 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > getPriorityFromDueDate > returns low for more than 7 days until due 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > getPaymentTypeConfig > returns correct config for each payment type 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Helpers > getPaymentTypeConfig > returns default config for unknown type 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Summary Calculations > calculates correct totals for mixed payments 2ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Summary Calculations > correctly identifies overdue payments 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Summary Calculations > correctly counts pending approvals 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Summary Calculations > groups payments by type correctly 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Summary Calculations > handles empty payment list 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Cash Flow Projection Calculations > calculates correct monthly totals 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Cash Flow Projection Calculations > calculates confidence percentage correctly 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Cash Flow Projection Calculations > handles 100% confirmed payments 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Cash Flow Projection Calculations > calculates cumulative cash flow correctly 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Cash Flow Projection Calculations > categorizes payment types correctly 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Calendar Data Generation > calculates correct daily totals 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Calendar Data Generation > handles days with no payments 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Calendar Data Generation > handles days with only incoming payments 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Calendar Data Generation > handles days with only outgoing payments 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Pattern Analysis > identifies improving trend 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Pattern Analysis > identifies declining trend 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Pattern Analysis > identifies stable trend 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Pattern Analysis > returns stable for insufficient data 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Pattern Analysis > calculates 100% when all payments are on time 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Pattern Analysis > calculates 0% when all payments are late 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Pattern Analysis > calculates correct percentage for mixed payments 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Pattern Analysis > returns 100% for no payment history 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Edge Cases > handles payments with zero amounts 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Edge Cases > handles payments with very large amounts 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Edge Cases > handles all payment statuses 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Edge Cases > handles all payment types 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Edge Cases > handles dates at year boundaries 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Weekly and Monthly Aggregation > correctly aggregates daily totals into weekly 1ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Weekly and Monthly Aggregation > handles empty days array 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Weekly and Monthly Aggregation > handles single day 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Multi-Month Cash Flow Projections > correctly calculates cumulative cash flow 2ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Multi-Month Cash Flow Projections > handles all negative months 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Multi-Month Cash Flow Projections > handles empty projections 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Priority Logic > assigns critical priority to severely overdue payments 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Priority Logic > assigns high priority to payments due today or within 3 days 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Priority Logic > assigns medium priority to payments due within 4-7 days 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Priority Logic > assigns low priority to payments due in more than a week 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Categorization > correctly identifies incoming payment types 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Categorization > correctly identifies outgoing payment types 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Payment Type Categorization > returns correct config for each payment type 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Boundary and Negative Value Handling > handles payments with null/undefined amounts gracefully 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Boundary and Negative Value Handling > handles mixed positive and negative net cash flows 0ms
 ✓ src/lib/api/services/payment-forecast.test.ts > Boundary and Negative Value Handling > calculates correct net when incoming equals outgoing 0ms
 × src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > calls resolveConflict with local data when Keep Local is selected 1633ms
   → expected "vi.fn()" to be called with arguments: [ 'conflict-123', …(1) ]

Received: 

  1st vi.fn() call:

@@ -1,7 +1,8 @@
  [
    "conflict-123",
+   "local",
    {
      "created_at": "2024-01-01T00:00:00Z",
      "id": "report-456",
      "notes": "Local notes",
      "status": "draft",


Number of calls: 1


Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"dialog"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-4xl max-h-[90vh]"[39m
          [33mdata-testid[39m=[32m"dialog-content"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"dialog-header"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"flex items-center gap-2"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"h-5 w-5 text-warning"[39m
                [33mdata-testid[39m=[32m"icon-alert-circle"[39m
              [36m>[39m
                [0mAlert[0m
              [36m</span>[39m
              [0mSync Conflict Detected[0m
            [36m</h2>[39m
            [36m<p>[39m
              [0mThe [0m
              [0mdaily_report[0m
              [0m was modified both locally and on the server. Choose which version to keep.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4 text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<span[39m
                [33mdata-testid[39m=[32m"badge"[39m
                [33mdata-variant[39m=[32m"outline"[39m
              [36m>[39m
                [0mdaily_report[0m
              [36m</span>[39m
              [36m<span>[39m
                [0mDetected: [0m
                [0mJan 15, 2024, 5:30 AM[0m
              [36m</span>[39m
              [36m<span>[39m
                [0m3[0m
                [0m field(s) differ[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-3 gap-2"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
                [33mdata-variant[39m=[32m"default"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mdata-testid[39m=[32m"icon-hard-drive"[39m
                [36m>[39m
                  [0mHardDrive[0m
                [36m</span>[39m
                [0mKeep Local[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
                [33mdata-variant[39m=[32m"outline"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mdata-testid[39m=[32m"icon-cloud"[39m
                [36m>[39m
                  [0mCloud[0m
                [36m</span>[39m
                [0mKeep Server[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
                [33mdata-variant[39m=[32m"outline"[39m
                [33mtitle[39m=[32m"Manually select which values to keep for each field"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mdata-testid[39m=[32m"icon-arrow-left-right"[39m
                [36m>[39m
                  [0mMerge[0m
                [36m</span>[39m
                [0mManual Merge[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-default-value[39m=[32m"diff"[39m
              [33mdata-testid[39m=[32m"tabs"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid w-full grid-cols-3"[39m
                [33mdata-testid[39m=[32m"tabs-list"[39m
              [36m>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"tab-trigger-diff"[39m
                  [33mdata-value[39m=[32m"diff"[39m
                [36m>[39m
                  [0mDifferences[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"tab-trigger-local"[39m
                  [33mdata-value[39m=[32m"local"[39m
                [36m>[39m
                  [0mLocal Version[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"tab-trigger-server"[39m
                  [33mdata-value[39m=[32m"server"[39m
                [36m>[39m
                  [0mServer Version[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
                [33mdata-testid[39m=[32m"tab-content-diff"[39m
                [33mdata-value[39m=[32m"diff"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-[400px] w-full rounded-md border p-4"[39m
                  [33mdata-testid[39m=[32m"scroll-area"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-2"[39m
                    [36m>[39m
                      [36m<h4[39m
                        [33mclass[39m=[32m"font-medium text-sm capitalize heading-card"[39m
                      [36m>[39m
                        [0mtitle[0m
                      [36m</h4>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-hard-drive"[39m
                              [36m>[39m
                                [0mHardDrive[0m
                              [36m</span>[39m
                              [0m Local[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-warning-light dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mLocal Report Title[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-cloud"[39m
                              [36m>[39m
                                [0mCloud[0m
                              [36m</span>[39m
                              [0m Server[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mServer Report Title[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-2"[39m
                    [36m>[39m
                      [36m<h4[39m
                        [33mclass[39m=[32m"font-medium text-sm capitalize heading-card"[39m
                      [36m>[39m
                        [0mstatus[0m
                      [36m</h4>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-hard-drive"[39m
                              [36m>[39m
                                [0mHardDrive[0m
                              [36m</span>[39m
                              [0m Local[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-warning-light dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mdraft[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-cloud"[39m
                              [36m>[39m
                                [0mCloud[0m
                              [36m</span>[39m
                              [0m Server[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0msubmitted[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-2"[39m
                    [36m>[39m
                      [36m<h4[39m
                        [33mclass[39m=[32m"font-medium text-sm capitalize heading-card"[39m
                      [36m>[39m
                        [0mnotes[0m
                      [36m</h4>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-hard-drive"[39m
                              [36m>[39m
                                [0mHardDrive[0m
                              [36m</span>[39m
                              [0m Local[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-warning-light dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mLocal notes[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-cloud"[39m
                              [36m>[39m
                                [0mCloud[0m
                              [36m</span>[39m
                              [0m Server[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mServer notes[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tab-content-local"[39m
                [33mdata-value[39m=[32m"local"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-[400px] w-full rounded-md border p-4"[39m
                  [33mdata-testid[39m=[32m"scroll-area"[39m
                [36m>[39m
                  [36m<pre[39m
                    [33mclass[39m=[32m"text-xs whitespace-pre-wrap"[39m
                  [36m>[39m
                    [0m{
  "id": "report-456",
  "title": "Local Report Title",
  "status": "draft",
  "notes": "Local notes",
  "created_at": "2024-01-01T00:00:00Z"
}[0m
                  [36m</pre>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tab-content-server"[39m
                [33mdata-value[39m=[32m"server"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-[400px] w-full rounded-md border p-4"[39m
                  [33mdata-testid[39m=[32m"scroll-area"[39m
                [36m>[39m
                  [36m<pre[39m
                    [33mclass[39m=[32m"text-xs whitespace-pre-wrap"[39m
                  [36m>[39m
                    [0m{
  "id": "report-456",
  "title": "Server Report Title",
  "status": "submitted",
  "notes": "Server notes",
  "created_at": "2024-01-01T00:00:00Z"
}[0m
                  [36m</pre>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-muted p-3 rounded-md"[39m
            [36m>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm font-medium mb-1"[39m
              [36m>[39m
                [0mResolution Preview:[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
              [36m>[39m
                [0mThe local changes will be kept and synced to the server, overwriting the server version.[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"dialog-footer"[39m
          [36m>[39m
            [36m<button[39m
              [33mdata-variant[39m=[32m"outline"[39m
            [36m>[39m
              [0mCancel[0m
            [36m</button>[39m
            [36m<button>[39m
              [0mResolve Conflict[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidStatistics > should return null for empty bid array 3ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidStatistics > should calculate statistics for single bid 2ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidStatistics > should calculate statistics for multiple competitive bids 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidStatistics > should calculate median correctly for odd number of bids 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidStatistics > should calculate median correctly for even number of bids 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidStatistics > should calculate variance and standard deviation 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyOutliers > should return empty array for less than 4 bids 2ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyOutliers > should not identify outliers in competitive bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyOutliers > should identify high outlier 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyOutliers > should identify low outlier 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyOutliers > should identify multiple outliers 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyOutliersByStdDev > should return empty array for less than 3 bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyOutliersByStdDev > should identify outliers beyond 2 standard deviations 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyOutliersByStdDev > should use custom threshold 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBids > should return empty array for no bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBids > should rank bids by amount ascending 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBids > should identify low and high bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBids > should calculate variance from low bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBids > should calculate variance from average 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBids > should calculate variance from median 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBids > should mark outliers 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBids > should calculate deviations from mean 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBidsWithEstimate > should calculate variance from estimate 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBidsWithEstimate > should show negative variance for bids below estimate 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > rankBidsWithEstimate > should show positive variance for bids above estimate 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > createBidComparisonMatrix > should return null for empty bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > createBidComparisonMatrix > should create comprehensive comparison matrix 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > createBidComparisonMatrix > should identify recommended bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > createBidComparisonMatrix > should exclude outliers from recommendation 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > createBidComparisonMatrix > should include estimate in matrix when provided 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > createBidComparisonMatrix > should exclude disqualified bids from recommendation 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidSpread > should calculate spread percentage 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidSpread > should return 0 for equal bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidSpread > should return 0 when low bid is 0 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidSpread > should calculate small spreads accurately 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > isBidSpreadAcceptable > should return true for spread within threshold 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > isBidSpreadAcceptable > should return false for spread exceeding threshold 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > isBidSpreadAcceptable > should use default threshold of 20% 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyLowBid > should return null for empty array 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyLowBid > should identify lowest bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > identifyLowBid > should handle single bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > isLowBidSuspicious > should return true for large gap 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > isLowBidSuspicious > should return false for normal gap 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > isLowBidSuspicious > should use default threshold of 15% 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > isLowBidSuspicious > should return false when next bid is 0 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > analyzeLowBid > should handle no bids 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > analyzeLowBid > should handle single bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > analyzeLowBid > should identify suspicious low bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > analyzeLowBid > should identify competitive low bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > analyzeLowBid > should calculate gap to next bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidVariance > should calculate all variance metrics 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidVariance > should return null for estimate variance when no estimate 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > calculateBidVariance > should calculate 0 variance for low bid 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > compareUnitPrices > should return null when no submissions have the item 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > compareUnitPrices > should compare unit prices across submissions 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > compareUnitPrices > should rank unit prices 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > Edge Cases > should handle tied bids 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > Edge Cases > should handle very large bid amounts 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > Edge Cases > should handle very small spreads 0ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > Real-World Construction Scenarios > should analyze electrical bid package with 5 bidders 1ms
 ✓ src/features/bidding/utils/__tests__/bidComparison.test.ts > Real-World Construction Scenarios > should identify suspiciously low bid in lump sum package 0ms
 × src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > calls resolveConflict with server data when Keep Server is selected 1321ms
   → expected "vi.fn()" to be called with arguments: [ 'conflict-123', …(1) ]

Received: 

  1st vi.fn() call:

@@ -1,7 +1,8 @@
  [
    "conflict-123",
+   "server",
    {
      "created_at": "2024-01-01T00:00:00Z",
      "id": "report-456",
      "notes": "Server notes",
      "status": "submitted",


Number of calls: 1


Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"dialog"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-4xl max-h-[90vh]"[39m
          [33mdata-testid[39m=[32m"dialog-content"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"dialog-header"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"flex items-center gap-2"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"h-5 w-5 text-warning"[39m
                [33mdata-testid[39m=[32m"icon-alert-circle"[39m
              [36m>[39m
                [0mAlert[0m
              [36m</span>[39m
              [0mSync Conflict Detected[0m
            [36m</h2>[39m
            [36m<p>[39m
              [0mThe [0m
              [0mdaily_report[0m
              [0m was modified both locally and on the server. Choose which version to keep.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4 text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<span[39m
                [33mdata-testid[39m=[32m"badge"[39m
                [33mdata-variant[39m=[32m"outline"[39m
              [36m>[39m
                [0mdaily_report[0m
              [36m</span>[39m
              [36m<span>[39m
                [0mDetected: [0m
                [0mJan 15, 2024, 5:30 AM[0m
              [36m</span>[39m
              [36m<span>[39m
                [0m3[0m
                [0m field(s) differ[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-3 gap-2"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
                [33mdata-variant[39m=[32m"outline"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mdata-testid[39m=[32m"icon-hard-drive"[39m
                [36m>[39m
                  [0mHardDrive[0m
                [36m</span>[39m
                [0mKeep Local[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
                [33mdata-variant[39m=[32m"default"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mdata-testid[39m=[32m"icon-cloud"[39m
                [36m>[39m
                  [0mCloud[0m
                [36m</span>[39m
                [0mKeep Server[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
                [33mdata-variant[39m=[32m"outline"[39m
                [33mtitle[39m=[32m"Manually select which values to keep for each field"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mdata-testid[39m=[32m"icon-arrow-left-right"[39m
                [36m>[39m
                  [0mMerge[0m
                [36m</span>[39m
                [0mManual Merge[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-default-value[39m=[32m"diff"[39m
              [33mdata-testid[39m=[32m"tabs"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid w-full grid-cols-3"[39m
                [33mdata-testid[39m=[32m"tabs-list"[39m
              [36m>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"tab-trigger-diff"[39m
                  [33mdata-value[39m=[32m"diff"[39m
                [36m>[39m
                  [0mDifferences[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"tab-trigger-local"[39m
                  [33mdata-value[39m=[32m"local"[39m
                [36m>[39m
                  [0mLocal Version[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"tab-trigger-server"[39m
                  [33mdata-value[39m=[32m"server"[39m
                [36m>[39m
                  [0mServer Version[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
                [33mdata-testid[39m=[32m"tab-content-diff"[39m
                [33mdata-value[39m=[32m"diff"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-[400px] w-full rounded-md border p-4"[39m
                  [33mdata-testid[39m=[32m"scroll-area"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-2"[39m
                    [36m>[39m
                      [36m<h4[39m
                        [33mclass[39m=[32m"font-medium text-sm capitalize heading-card"[39m
                      [36m>[39m
                        [0mtitle[0m
                      [36m</h4>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-hard-drive"[39m
                              [36m>[39m
                                [0mHardDrive[0m
                              [36m</span>[39m
                              [0m Local[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-warning-light dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mLocal Report Title[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-cloud"[39m
                              [36m>[39m
                                [0mCloud[0m
                              [36m</span>[39m
                              [0m Server[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mServer Report Title[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-2"[39m
                    [36m>[39m
                      [36m<h4[39m
                        [33mclass[39m=[32m"font-medium text-sm capitalize heading-card"[39m
                      [36m>[39m
                        [0mstatus[0m
                      [36m</h4>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-hard-drive"[39m
                              [36m>[39m
                                [0mHardDrive[0m
                              [36m</span>[39m
                              [0m Local[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-warning-light dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mdraft[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-cloud"[39m
                              [36m>[39m
                                [0mCloud[0m
                              [36m</span>[39m
                              [0m Server[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0msubmitted[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-2"[39m
                    [36m>[39m
                      [36m<h4[39m
                        [33mclass[39m=[32m"font-medium text-sm capitalize heading-card"[39m
                      [36m>[39m
                        [0mnotes[0m
                      [36m</h4>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-hard-drive"[39m
                              [36m>[39m
                                [0mHardDrive[0m
                              [36m</span>[39m
                              [0m Local[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-warning-light dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mLocal notes[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"space-y-1"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center justify-between"[39m
                          [36m>[39m
                            [36m<p[39m
                              [33mclass[39m=[32m"text-xs text-muted-foreground flex items-center gap-1"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"h-3 w-3"[39m
                                [33mdata-testid[39m=[32m"icon-cloud"[39m
                              [36m>[39m
                                [0mCloud[0m
                              [36m</span>[39m
                              [0m Server[0m
                            [36m</p>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"rounded p-2 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800"[39m
                          [36m>[39m
                            [36m<pre[39m
                              [33mclass[39m=[32m"text-xs whitespace-pre-wrap break-words"[39m
                            [36m>[39m
                              [0mServer notes[0m
                            [36m</pre>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tab-content-local"[39m
                [33mdata-value[39m=[32m"local"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-[400px] w-full rounded-md border p-4"[39m
                  [33mdata-testid[39m=[32m"scroll-area"[39m
                [36m>[39m
                  [36m<pre[39m
                    [33mclass[39m=[32m"text-xs whitespace-pre-wrap"[39m
                  [36m>[39m
                    [0m{
  "id": "report-456",
  "title": "Local Report Title",
  "status": "draft",
  "notes": "Local notes",
  "created_at": "2024-01-01T00:00:00Z"
}[0m
                  [36m</pre>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tab-content-server"[39m
                [33mdata-value[39m=[32m"server"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-[400px] w-full rounded-md border p-4"[39m
                  [33mdata-testid[39m=[32m"scroll-area"[39m
                [36m>[39m
                  [36m<pre[39m
                    [33mclass[39m=[32m"text-xs whitespace-pre-wrap"[39m
                  [36m>[39m
                    [0m{
  "id": "report-456",
  "title": "Server Report Title",
  "status": "submitted",
  "notes": "Server notes",
  "created_at": "2024-01-01T00:00:00Z"
}[0m
                  [36m</pre>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-muted p-3 rounded-md"[39m
            [36m>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm font-medium mb-1"[39m
              [36m>[39m
                [0mResolution Preview:[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
              [36m>[39m
                [0mThe server changes will be kept and applied locally, discarding local changes.[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"dialog-footer"[39m
          [36m>[39m
            [36m<button[39m
              [33mdata-variant[39m=[32m"outline"[39m
            [36m>[39m
              [0mCancel[0m
            [36m</button>[39m
            [36m<button>[39m
              [0mResolve Conflict[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should have all key as base 3ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate equipment list key 1ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate equipment list with filters key 1ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate equipment detail key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate equipment statistics key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate available equipment key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate assignments key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate project equipment key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate logs key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate logs list with filters key 1ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate maintenance key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate maintenance list with filters key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate maintenance detail key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate upcoming maintenance key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate inspections key 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > equipmentKeys > should generate latest inspection key 1ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Query Hooks > useEquipment > should fetch equipment list with filters 94ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Query Hooks > useEquipment > should not fetch when companyId is missing 4ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Query Hooks > useEquipmentDetail > should fetch equipment details 81ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Query Hooks > useEquipmentDetail > should not fetch when id is undefined 7ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column C: Scheduled Value with Change Orders > should calculate total scheduled value = scheduled + change orders 2ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column C: Scheduled Value with Change Orders > should handle negative change orders 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column C: Scheduled Value with Change Orders > should handle zero change orders 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column G: Total Completed and Stored (D+E+F) > should calculate Column G = Column D + Column E + Column F 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column G: Total Completed and Stored (D+E+F) > should handle zero materials stored 1ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column G: Total Completed and Stored (D+E+F) > should handle first application (no previous work) 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column H: Percent Complete (G÷C) > should calculate percent complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column H: Percent Complete (G÷C) > should handle 0% complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column H: Percent Complete (G÷C) > should handle 100% complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column H: Percent Complete (G÷C) > should handle partial completion 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column H: Percent Complete (G÷C) > should handle division by zero 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column I: Balance to Finish (C-G) > should calculate balance to finish = scheduled - completed 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column I: Balance to Finish (C-G) > should equal zero when 100% complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column I: Balance to Finish (C-G) > should equal scheduled value when 0% complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column J: Retainage > should calculate retainage from total completed and stored 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column J: Retainage > should handle 5% retainage 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Item Calculations > Column J: Retainage > should handle zero retainage 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Totals Row Calculations > should calculate correct totals from all items 1ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 SOV Totals Row Calculations > should calculate correct total percent complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should generate PDF blob 190ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Query Hooks > useEquipmentStatistics > should fetch equipment statistics 70ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should use landscape orientation 15ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should include project information in header 10ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should include application number 31ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should render SOV table with autoTable 54ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Query Hooks > useAvailableEquipment > should fetch available equipment 70ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Mutation Hooks > useCreateEquipment > should create equipment and show success toast 77ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getProjectHealthReport > should fetch project health report successfully 4ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getProjectHealthReport > should calculate budget variance correctly 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getProjectHealthReport > should count open items correctly 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getProjectHealthReport > should throw error when project not found 3ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getProjectHealthReport > should handle null budget and contract_value 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDailyReportAnalytics > should fetch daily report analytics successfully 2ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDailyReportAnalytics > should calculate submission rate correctly 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDailyReportAnalytics > should aggregate trades correctly 2ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDailyReportAnalytics > should aggregate equipment utilization correctly 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDailyReportAnalytics > should handle empty reports 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDailyReportAnalytics > should handle database errors gracefully 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getWorkflowSummary > should fetch workflow summary successfully 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getWorkflowSummary > should group items by status correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getWorkflowSummary > should calculate total cost impact correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getWorkflowSummary > should calculate total schedule impact correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getWorkflowSummary > should calculate average response time correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getWorkflowSummary > should handle empty workflow items 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getWorkflowSummary > should handle database errors gracefully 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getPunchListReport > should fetch punch list report successfully 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getPunchListReport > should group items by status correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getPunchListReport > should group items by trade with completion rate 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getPunchListReport > should group items by location correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getPunchListReport > should calculate rejection rate correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getPunchListReport > should handle empty punch list 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getPunchListReport > should handle database errors gracefully 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getSafetyIncidentReport > should fetch safety incident report successfully 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getSafetyIncidentReport > should group incidents by type correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getSafetyIncidentReport > should group incidents by severity correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getSafetyIncidentReport > should count open incidents correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getSafetyIncidentReport > should handle empty incidents 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getSafetyIncidentReport > should handle database errors gracefully 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getFinancialSummary > should fetch financial summary successfully 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getFinancialSummary > should calculate change orders impact correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getFinancialSummary > should calculate forecasted total correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getFinancialSummary > should calculate percentage over budget correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getFinancialSummary > should handle null budget 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getFinancialSummary > should handle database errors gracefully 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDocumentSummary > should fetch document summary successfully 1ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDocumentSummary > should group documents by type correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDocumentSummary > should group documents by discipline correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDocumentSummary > should count outstanding approvals correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDocumentSummary > should count superseded documents correctly 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDocumentSummary > should handle empty documents 0ms
 ✓ src/lib/api/services/reports.test.ts > Reports API Service > getDocumentSummary > should handle database errors gracefully 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Mutation Hooks > useCreateEquipment > should show error toast on failure 86ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > closes dialog after successful resolution 407ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should format SOV items correctly 25ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should handle long description text 21ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should include totals row 22ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > generateG703PDF > should handle empty SOV items 20ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Mutation Hooks > useUpdateEquipment > should update equipment and show success toast 80ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Mutation Hooks > useUpdateEquipmentStatus > should update equipment status 84ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > Multi-page SOV handling > should handle large number of SOV items 162ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > Multi-page SOV handling > should add instructions section 25ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > downloadG703PDF > should trigger download with correct filename 28ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 PDF Generation > downloadG703PDF > should sanitize project name in filename 24ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Edge Cases and Real-World Scenarios > should handle SOV with only materials stored (no work completed) 2ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Edge Cases and Real-World Scenarios > should handle items with change orders 1ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Edge Cases and Real-World Scenarios > should handle 100% complete items 1ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Edge Cases and Real-World Scenarios > should handle zero value items 1ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Edge Cases and Real-World Scenarios > should handle mixed retainage percentages 1ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Edge Cases and Real-World Scenarios > should handle items sorted by item_number 1ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Equipment Mutation Hooks > useDeleteEquipment > should delete equipment and show success toast 72ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Edge Cases and Real-World Scenarios > should handle very large scheduled values 2ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Edge Cases and Real-World Scenarios > should handle decimal precision in calculations 2ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > Combined G702/G703 Package > should generate combined payment application package 76ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Column Formatting > should format currency values correctly 1ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Column Formatting > should format percentage values correctly 5ms
 ✓ src/features/payment-applications/utils/__tests__/g703Template.test.ts > G703 Column Formatting > should truncate long descriptions 1ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Assignment Hooks > useEquipmentAssignments > should fetch equipment assignments 72ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Assignment Hooks > useProjectEquipment > should fetch project equipment 77ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > scheduleKeys > should generate correct base key 3ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > scheduleKeys > should generate correct list keys 1ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > scheduleKeys > should generate correct detail keys 1ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > scheduleKeys > should generate correct dependency keys 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > scheduleKeys > should generate correct baseline keys 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > scheduleKeys > should generate correct calendar keys 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > scheduleKeys > should generate correct stats keys 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Assignment Hooks > useAssignEquipment > should assign equipment to project 73ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleActivities > should fetch activities for project 107ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Assignment Hooks > useUpdateEquipmentAssignment > should update assignment 77ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Assignment Hooks > useReturnEquipment > should return equipment 78ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > shows resolving state while processing 529ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleActivities > should fetch activities with filters 96ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleActivities > should not fetch when projectId is undefined 31ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Log Hooks > useEquipmentLogs > should fetch equipment logs 76ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Log Hooks > useEquipmentLogs > should not fetch when no filters 2ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleActivity > should fetch single activity 78ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleDependencies > should fetch dependencies for project 89ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > disables buttons while resolving 502ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Log Hooks > useCreateEquipmentLog > should create equipment log 70ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Log Hooks > useUpdateEquipmentLog > should update equipment log 69ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleBaselines > should fetch baselines for project 73ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct all key 3ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct lists key 1ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct list key with projectId 1ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct list key with filters 1ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct details key 1ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct detail key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct withRevisions key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct register key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct byDiscipline key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct revisions key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct revisionHistory key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct sets key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct set key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct transmittals key 0ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > drawingKeys > should generate correct markups key 0ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > handles resolution errors gracefully 225ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Resolution Actions > logs warning when merge is selected 1ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Log Hooks > useDeleteEquipmentLog > should delete equipment log 69ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleCalendars > should fetch calendars for company 73ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawings hook > should fetch drawings for a project 104ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > ScrollArea > wraps diff content in scroll area 20ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > ScrollArea > sets fixed height on scroll areas 18ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Dark Mode Support > applies dark mode classes to local diff boxes 24ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Dark Mode Support > applies dark mode classes to server diff boxes 18ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Edge Cases > handles empty localData 16ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Edge Cases > handles empty serverData 12ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawings hook > should fetch drawings with filters 91ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawings hook > should be disabled when projectId is undefined 12ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingsByDiscipline hook > should fetch drawings by discipline 86ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleCalendars > should fetch calendars for specific project 101ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleStats > should fetch schedule statistics 81ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Maintenance Hooks > useEquipmentMaintenance > should fetch maintenance records 71ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Maintenance Hooks > useMaintenanceDetail > should fetch maintenance details 71ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useIFCDrawings hook > should fetch only IFC drawings 82ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Maintenance Hooks > useUpcomingMaintenance > should fetch upcoming maintenance 70ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Maintenance Hooks > useScheduleMaintenance > should schedule maintenance 69ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useScheduleImportLogs > should fetch import logs 74ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawing hook > should fetch a single drawing 69ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawing hook > should be disabled when drawingId is undefined 3ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useMasterScheduleData > should fetch combined schedule data 71ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useMasterScheduleData > should detect hasBaseline when activities have baseline dates 70ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useCreateScheduleActivity > should create activity 22ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Maintenance Hooks > useUpdateMaintenance > should update maintenance 70ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Maintenance Hooks > useCompleteMaintenance > should complete maintenance with completion data 71ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Edge Cases > handles complex nested objects 15ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Edge Cases > handles arrays in data 23ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Accessibility > uses semantic dialog structure 14ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useUpdateScheduleActivity > should update activity 10ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useBulkUpdateActivities > should bulk update activities 3ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useDeleteScheduleActivity > should delete activity 4ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useCreateDependency > should create dependency 5ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useDeleteDependency > should delete dependency 4ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useCreateBaseline > should create baseline 2ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useSetActiveBaseline > should set active baseline 3ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useClearBaseline > should clear active baseline 3ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useCreateCalendar > should create calendar 3ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useUpdateCalendar > should update calendar 2ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useDeleteCalendar > should delete calendar 4ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > useSyncToLookAhead > should sync activities to look-ahead 3ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Analysis Critical Tests > should identify critical path activities 2ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Analysis Critical Tests > should track float values for activities 1ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Analysis Critical Tests > should support dependency types 1ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Analysis Critical Tests > should track baseline vs actual dates 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Analysis Critical Tests > should track percent complete 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Analysis Critical Tests > should identify milestones 1ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Analysis Critical Tests > should provide schedule statistics 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Analysis Critical Tests > should track activities with float issues 1ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Calendar Configuration Tests > should support daily work hours configuration 1ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Calendar Configuration Tests > should track work start and end times 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Calendar Configuration Tests > should support default calendar flag 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Import Tests > should track import log status 1ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Import Tests > should track import source system 0ms
 ✓ src/features/schedule/hooks/useScheduleActivities.test.tsx > Schedule Import Tests > should track import counts 1ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Accessibility > provides descriptive button labels 293ms
 ✓ src/components/__tests__/ConflictResolutionDialog.test.tsx > ConflictResolutionDialog > Accessibility > uses heading for dialog title 27ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingWithRevisions hook > should fetch drawing with revisions 68ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingRegister hook > should fetch drawing register 86ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Maintenance Hooks > useCancelMaintenance > should cancel maintenance 70ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Inspection Hooks > useEquipmentInspections > should fetch equipment inspections 71ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Inspection Hooks > useEquipmentInspections > should not fetch when equipmentId is undefined 2ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Inspection Hooks > useLatestInspection > should fetch latest inspection 69ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingsByDisciplineSummary hook > should fetch discipline summary 73ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generateSCurveData > should include all historical data points 8ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generateSCurveData > should generate forecast points beyond historical data 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generateSCurveData > should cap forecast at BAC 5ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generateSCurveData > should handle empty historical data 2ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generateSCurveData > should handle single data point 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generatePlannedCurve > should generate linear curve correctly 4ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generatePlannedCurve > should generate S-curve with slow start and end 3ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generatePlannedCurve > should generate front-loaded curve 2ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generatePlannedCurve > should generate back-loaded curve 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > S-Curve Generation > generatePlannedCurve > should handle zero or negative duration 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > analyzeTrend > should detect improving trend 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > analyzeTrend > should detect declining trend 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > analyzeTrend > should detect stable trend 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > analyzeTrend > should return stable for insufficient data 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > calculateSlope > should calculate positive slope for increasing values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > calculateSlope > should calculate negative slope for decreasing values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > calculateSlope > should calculate zero slope for constant values 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > calculateSlope > should handle insufficient data 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > calculateSlope > should handle noisy data 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > detectTrendChange > should detect improvement from declining trend 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > detectTrendChange > should identify stable to declining change 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > detectTrendChange > should handle insufficient data 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > detectTrendChange > should assign confidence based on data points 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > calculateMovingAverage > should calculate moving average correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > calculateMovingAverage > should handle window size larger than data 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Trend Analysis > calculateMovingAverage > should smooth out noise in improving trend 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > estimateCompletionDates > should return planned date when on schedule 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > estimateCompletionDates > should project later date when behind schedule 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > estimateCompletionDates > should project earlier date when ahead of schedule 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > estimateCompletionDates > should calculate CSI projection more conservatively 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > estimateCompletionDates > should handle zero SPI gracefully 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateOnTimeCompletionProbability > should return high probability for SPI > 1 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateOnTimeCompletionProbability > should return low probability for SPI < 0.8 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateOnTimeCompletionProbability > should increase probability as completion increases with good SPI 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateOnTimeCompletionProbability > should return 0 for zero SPI 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateOnTimeCompletionProbability > should return 100 for completed project 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateOnTimeCompletionProbability > should boost probability for projects > 80% with good SPI 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateDaysRemaining > should calculate days correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateDaysRemaining > should return 0 when work is complete 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateDaysRemaining > should return Infinity for zero daily rate 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateDaysRemaining > should round up to whole days 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateDailyEVRate > should calculate rate from trend data 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateDailyEVRate > should return 0 for insufficient data 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Completion Date Estimates > calculateDailyEVRate > should handle same-day data points 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should generate 5 scenarios 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should have Original Plan EAC equal to BAC 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should calculate CPI projection correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should calculate CSI projection correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should have pessimistic worse than CPI projection 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should have optimistic better than CPI projection 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should include assumptions for each scenario 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should handle zero CPI gracefully 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should calculate VACPercent correctly 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should handle zero BAC for VACPercent calculations 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should use fallback values when CPI is 0 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Forecast Scenarios > generateForecastScenarios > should cap optimistic CPI at 1.5 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Edge Cases > should handle project that is complete 0ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Edge Cases > should handle very high CPI 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Edge Cases > should handle extremely low CPI 2ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Edge Cases > should handle project start (no progress) 1ms
 ✓ src/features/cost-tracking/utils/__tests__/evmForecasting.test.ts > Edge Cases > should handle moving average with exact window size 0ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Inspection Hooks > useCreateEquipmentInspection > should create equipment inspection 69ms
 ✓ src/features/equipment/hooks/useEquipment.test.tsx > Inspection Hooks > useCreateEquipmentInspection > should show error toast on failure 72ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingRevisions hook > should fetch drawing revisions 91ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useRevisionHistory hook > should fetch revision history 88ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should escape ampersand 2ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should escape less than 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should escape greater than 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should escape double quotes 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should escape single quotes 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should escape multiple special characters 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should handle null input 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should handle undefined input 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should handle empty string 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > escapeXml > should handle numbers converted to string 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > sanitizeForXml > should remove control characters 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > sanitizeForXml > should preserve tabs, newlines, carriage returns 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > XML Escaping > sanitizeForXml > should handle null input 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertDependencyTypeToMSP > should convert FS to 1 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertDependencyTypeToMSP > should convert SS to 3 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertDependencyTypeToMSP > should convert FF to 0 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertDependencyTypeToMSP > should convert SF to 2 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertDependencyTypeToMSP > should default to FS (1) for unknown types 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertMSPToDependencyType > should convert 1 to FS 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertMSPToDependencyType > should convert 3 to SS 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertMSPToDependencyType > should convert 0 to FF 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertMSPToDependencyType > should convert 2 to SF 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > convertMSPToDependencyType > should default to FS for unknown codes 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Dependency Type Conversion > should be reversible 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > formatDurationForMSP > should convert 1 day to PT8H0M0S (8 hours) 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > formatDurationForMSP > should convert 5 days to PT40H0M0S 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > formatDurationForMSP > should convert 10 days to PT80H0M0S 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > formatDurationForMSP > should handle zero duration 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > formatDurationForMSP > should handle null duration 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > formatDurationForMSP > should handle undefined duration 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > formatDurationForMSP > should handle fractional days by rounding 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > parseMSPDuration > should parse PT8H0M0S to 1 day 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > parseMSPDuration > should parse PT40H0M0S to 5 days 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > parseMSPDuration > should parse P5D format 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > parseMSPDuration > should handle empty string 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > parseMSPDuration > should round up partial days 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Duration Formatting > should be approximately reversible 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Date Formatting > formatDateForMSP > should format ISO date to MSP format 3ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Date Formatting > formatDateForMSP > should handle date with time 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Date Formatting > formatDateForMSP > should handle null date 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Date Formatting > formatDateForMSP > should handle undefined date 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Date Formatting > parseMSPDate > should parse MSP date to ISO date 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Date Formatting > parseMSPDate > should handle null 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Date Formatting > parseMSPDate > should handle empty string as null 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Activity Filtering > filterType > should return all activities for "all" filter 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Activity Filtering > filterType > should filter milestones only 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Activity Filtering > filterType > should filter critical path only 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Activity Filtering > date filtering > should filter by start date 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Activity Filtering > date filtering > should filter by end date 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Activity Filtering > date filtering > should filter by date range 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Activity Filtering > includeCompleted > should exclude completed activities when false 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Activity Filtering > includeCompleted > should include completed activities when true 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should generate valid XML with proper header 4ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should include project metadata 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should include calendar section 2ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should include tasks section 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should include project summary task (UID 0) 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should include all activities as tasks 2ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should include predecessor links 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should escape special characters in task names 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should include WBS code 3ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should format duration correctly 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should mark milestones 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should return correct filename 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should return correct activity count 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should return correct dependency count 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > MS Project XML Generation > should throw error for too many activities 10ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Primavera P6 XER Generation > should generate XER format with header 2ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Primavera P6 XER Generation > should include PROJECT table 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Primavera P6 XER Generation > should include TASK table 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Primavera P6 XER Generation > should include TASKPRED table for dependencies 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Primavera P6 XER Generation > should have correct file extension 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Primavera P6 XER Generation > should return correct mime type 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Primavera P6 XER Generation > should end with %E marker 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > CSV Export > should include header row 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > CSV Export > should include all activities 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > CSV Export > should escape commas in values 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > CSV Export > should escape quotes in values 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > CSV Export > should have correct file extension 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > CSV Export > should return correct mime type 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > CSV Export > should include predecessor information 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > exportSchedule > should route to MS Project export 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > exportSchedule > should route to Primavera export 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > exportSchedule > should route to CSV export 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > exportSchedule > should throw for unsupported format 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > validateExportOptions > should return null for valid options 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > validateExportOptions > should return error for invalid date range 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > validateExportOptions > should allow valid date range 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > estimateExportSize > should estimate MS Project XML size 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > estimateExportSize > should estimate Primavera XER size 1ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > estimateExportSize > should estimate CSV size 0ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > estimateExportSize > should format bytes correctly 1ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useCurrentRevision hook > should fetch current revision 71ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Round-trip validation > should export and have parseable XML 52ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Round-trip validation > should preserve activity data in round-trip 21ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Large dataset handling > should handle 1000 activities 72ms
 ✓ src/features/schedule/utils/__tests__/scheduleExport.test.ts > Large dataset handling > should handle activities with many dependencies 8ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingSets hook > should fetch drawing sets 79ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingSet hook > should fetch a single drawing set 73ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingTransmittals hook > should fetch drawing transmittals 76ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingMarkups hook > should fetch drawing markups 81ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDrawingMarkups hook > should fetch markups with status filter 77ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useCreateDrawing hook > should create a drawing 10ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useUpdateDrawing hook > should update a drawing 9ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDeleteDrawing hook > should delete a drawing 6ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useMarkDrawingIFC hook > should mark drawing as IFC 4ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useBulkCreateDrawings hook > should bulk create drawings 5ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useBulkMarkIFC hook > should bulk mark drawings as IFC 5ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useDuplicateDrawing hook > should duplicate a drawing 7ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useCreateRevision hook > should create a revision 6ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useUpdateRevision hook > should update a revision 8ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useSetCurrentRevision hook > should set current revision 8ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useCreateDrawingSet hook > should create a drawing set 4ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useAddDrawingToSet hook > should add drawing to set 5ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useRemoveDrawingFromSet hook > should remove drawing from set 7ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useSetCurrentDrawingSet hook > should set current drawing set 7ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useCreateDrawingTransmittal hook > should create a transmittal 10ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useAcknowledgeTransmittal hook > should acknowledge transmittal 6ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useCreateDrawingMarkup hook > should create a markup 9ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useUpdateDrawingMarkup hook > should update a markup 6ms
 ✓ src/features/drawings/hooks/useDrawings.test.tsx > useDrawings hooks > useResolveDrawingMarkup hook > should resolve a markup 5ms
 ✓ src/types/cost-tracking.test.ts > COST_TYPES > should have 3 cost types 3ms
 ✓ src/types/cost-tracking.test.ts > COST_TYPES > should have direct cost type 1ms
 ✓ src/types/cost-tracking.test.ts > COST_TYPES > should have indirect cost type 1ms
 ✓ src/types/cost-tracking.test.ts > COST_TYPES > should have overhead cost type 0ms
 ✓ src/types/cost-tracking.test.ts > COST_TYPES > should have all values with labels 1ms
 ✓ src/types/cost-tracking.test.ts > TRANSACTION_TYPES > should have 4 transaction types 0ms
 ✓ src/types/cost-tracking.test.ts > TRANSACTION_TYPES > should have commitment type with blue color 0ms
 ✓ src/types/cost-tracking.test.ts > TRANSACTION_TYPES > should have actual type with green color 0ms
 ✓ src/types/cost-tracking.test.ts > TRANSACTION_TYPES > should have adjustment type with orange color 0ms
 ✓ src/types/cost-tracking.test.ts > TRANSACTION_TYPES > should have forecast type with purple color 0ms
 ✓ src/types/cost-tracking.test.ts > TRANSACTION_TYPES > should have all values with labels and colors 1ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have 8 source types 0ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have change_order source type with label "Change Order" 0ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have invoice source type with label "Invoice" 0ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have timesheet source type with label "Timesheet" 0ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have material source type with label "Material" 0ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have equipment source type with label "Equipment" 0ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have subcontract source type with label "Subcontract" 0ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have purchase_order source type with label "Purchase Order" 0ms
 ✓ src/types/cost-tracking.test.ts > SOURCE_TYPES > should have manual source type with label "Manual Entry" 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > should have 35 CSI divisions 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > General group > should have Division 00 - Procurement and Contracting Requirements 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > General group > should have Division 01 - General Requirements 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 02 - Existing Conditions 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 03 - Concrete 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 04 - Masonry 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 05 - Metals 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 06 - Wood, Plastics, and Composites 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 07 - Thermal and Moisture Protection 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 08 - Openings 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 09 - Finishes 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 10 - Specialties 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 11 - Equipment 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 12 - Furnishings 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 13 - Special Construction 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Construction group > should have Division 14 - Conveying Equipment 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Services group > should have Division 21 - Fire Suppression 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Services group > should have Division 22 - Plumbing 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Services group > should have Division 23 - HVAC 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Services group > should have Division 25 - Integrated Automation 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Services group > should have Division 26 - Electrical 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Services group > should have Division 27 - Communications 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Facility Services group > should have Division 28 - Electronic Safety and Security 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Site and Infrastructure group > should have Division 31 - Earthwork 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Site and Infrastructure group > should have Division 32 - Exterior Improvements 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Site and Infrastructure group > should have Division 33 - Utilities 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Site and Infrastructure group > should have Division 34 - Transportation 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Site and Infrastructure group > should have Division 35 - Waterway and Marine Construction 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Process Equipment group > should have Division 40 - Process Interconnections 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Process Equipment group > should have Division 41 - Material Processing and Handling Equipment 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Process Equipment group > should have Division 42 - Process Heating, Cooling, and Drying Equipment 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Process Equipment group > should have Division 43 - Process Gas and Liquid Handling 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Process Equipment group > should have Division 44 - Pollution and Waste Control Equipment 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Process Equipment group > should have Division 45 - Industry-Specific Manufacturing Equipment 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Process Equipment group > should have Division 46 - Water and Wastewater Equipment 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > Process Equipment group > should have Division 48 - Electrical Power Generation 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > should have unique division codes 0ms
 ✓ src/types/cost-tracking.test.ts > CSI_DIVISIONS > should have all divisions with required fields 3ms
 ✓ src/types/cost-tracking.test.ts > Type definitions > CostType > should accept valid cost types 0ms
 ✓ src/types/cost-tracking.test.ts > Type definitions > TransactionType > should accept valid transaction types 0ms
 ✓ src/types/cost-tracking.test.ts > Type definitions > SourceType > should accept valid source types 0ms
 ✓ src/types/cost-tracking.test.ts > Interface validation > CostCode interface > should validate a complete cost code object 0ms
 ✓ src/types/cost-tracking.test.ts > Interface validation > ProjectBudget interface > should validate a complete project budget object 0ms
 ✓ src/types/cost-tracking.test.ts > Interface validation > CostTransaction interface > should validate a complete cost transaction object 0ms
 ✓ src/types/cost-tracking.test.ts > Interface validation > ProjectBudgetWithDetails interface > should include computed fields 1ms
 ✓ src/types/cost-tracking.test.ts > Interface validation > CostCodeWithChildren interface > should support hierarchical structure 1ms
 ✓ src/types/cost-tracking.test.ts > DTO validation > CreateCostCodeDTO > should validate required fields 0ms
 ✓ src/types/cost-tracking.test.ts > DTO validation > CreateCostCodeDTO > should accept optional fields 0ms
 ✓ src/types/cost-tracking.test.ts > DTO validation > CreateProjectBudgetDTO > should validate required fields 0ms
 ✓ src/types/cost-tracking.test.ts > DTO validation > CreateCostTransactionDTO > should validate required fields 0ms
 ✓ src/types/cost-tracking.test.ts > Filter interfaces > CostCodeFilters > should validate filter options 0ms
 ✓ src/types/cost-tracking.test.ts > Filter interfaces > ProjectBudgetFilters > should validate filter options 0ms
 ✓ src/types/cost-tracking.test.ts > Filter interfaces > CostTransactionFilters > should validate filter options 0ms
 ✓ src/types/cost-tracking.test.ts > Statistics types > ProjectBudgetTotals > should validate budget totals structure 0ms
 ✓ src/types/cost-tracking.test.ts > Statistics types > BudgetSummaryByDivision > should validate division summary structure 0ms
 ✓ src/types/cost-tracking.test.ts > Statistics types > CostTrendDataPoint > should validate trend data structure 0ms
 ✓ src/types/cost-tracking.test.ts > Form data types > ProjectBudgetFormData > should use string types for form inputs 0ms
 ✓ src/types/cost-tracking.test.ts > Form data types > CostTransactionFormData > should use string types for form inputs 0ms
 ✓ src/types/cost-tracking.test.ts > Form data types > CostTransactionFormData > should allow empty source_type 0ms
 ✓ src/types/cost-tracking.test.ts > CSI Division grouping > should have correct number of divisions per group 0ms
 ✓ src/types/cost-tracking.test.ts > CSI Division grouping > should cover all five CSI MasterFormat groups 1ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > createEmptyMetrics > should create metrics with all zero values 3ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > createEmptyMetrics > should set status date correctly 1ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > createEmptyMetrics > should default status values to good 1ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > createEmptyMetrics > should set data currency to current 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > calculateTrend > should return stable for single value 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > calculateTrend > should return stable for empty array 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > calculateTrend > should return improving for upward trend 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > calculateTrend > should return declining for downward trend 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > calculateTrend > should return stable for flat values 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > calculateTrend > should return stable for small variations 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > calculateTrend > should handle exactly 2 values 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > calculateTrend > should use only last 7 values for long arrays 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > determineRiskLevel > should return low for healthy project with no alerts 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > determineRiskLevel > should return medium for CSI below 1.0 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > determineRiskLevel > should return medium for warning alerts 1ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > determineRiskLevel > should return high for CSI below 0.9 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > determineRiskLevel > should return high for single critical alert 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > determineRiskLevel > should return critical for CSI below 0.8 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > determineRiskLevel > should return critical for multiple critical alerts 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Helper Functions > determineRiskLevel > should prioritize CSI over alert count 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Variance (CV) > should calculate positive variance (under budget) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Variance (CV) > should calculate negative variance (over budget) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Variance (CV) > should return zero when EV equals AC 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Variance (CV) > should handle zero values 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Schedule Variance (SV) > should calculate positive variance (ahead of schedule) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Schedule Variance (SV) > should calculate negative variance (behind schedule) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Schedule Variance (SV) > should return zero when on schedule 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Performance Index (CPI) > should calculate CPI above 1.0 (under budget) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Performance Index (CPI) > should calculate CPI below 1.0 (over budget) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Performance Index (CPI) > should return 1.0 when EV equals AC 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Performance Index (CPI) > should handle zero AC (division by zero) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost Performance Index (CPI) > should calculate precise decimal values 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Schedule Performance Index (SPI) > should calculate SPI above 1.0 (ahead of schedule) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Schedule Performance Index (SPI) > should calculate SPI below 1.0 (behind schedule) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Schedule Performance Index (SPI) > should return 1.0 when on schedule 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Schedule Performance Index (SPI) > should handle zero PV (division by zero) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost-Schedule Index (CSI) > should multiply CPI and SPI 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost-Schedule Index (CSI) > should indicate combined poor performance 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Core Calculations > Cost-Schedule Index (CSI) > should indicate combined good performance 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate at Completion (EAC) - CPI-based > should forecast higher cost when CPI < 1 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate at Completion (EAC) - CPI-based > should forecast lower cost when CPI > 1 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate at Completion (EAC) - CPI-based > should equal BAC when CPI = 1 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate at Completion (EAC) - CPI-based > should handle zero CPI 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate at Completion (EAC) - CPI*SPI-based > should be more conservative than CPI-only 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate at Completion (EAC) - CPI*SPI-based > should account for schedule impact 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate at Completion (EAC) - CPI*SPI-based > should handle zero CPI*SPI 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate to Complete (ETC) > should calculate remaining cost 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate to Complete (ETC) > should return zero when complete 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Estimate to Complete (ETC) > should handle negative (money returned scenario) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Variance at Completion (VAC) > should be negative when over budget 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Variance at Completion (VAC) > should be positive when under budget 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > Variance at Completion (VAC) > should be zero when on budget 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > To-Complete Performance Index (TCPI) > TCPI to meet BAC > should require higher efficiency when behind 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > To-Complete Performance Index (TCPI) > TCPI to meet BAC > should require lower efficiency when ahead 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > To-Complete Performance Index (TCPI) > TCPI to meet BAC > should handle edge case when exactly on track 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > To-Complete Performance Index (TCPI) > TCPI to meet BAC > should handle budget exhausted 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > To-Complete Performance Index (TCPI) > TCPI to meet EAC > should be lower than TCPI_BAC when EAC > BAC 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > EVM Forecast Calculations > To-Complete Performance Index (TCPI) > TCPI to meet EAC > should be higher than TCPI_BAC when EAC < BAC 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Variance > should calculate positive variance percentage 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Variance > should calculate negative variance percentage 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Variance > should handle zero baseline 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Complete > should calculate earned percentage of budget 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Complete > should handle zero BAC 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Complete > should handle over 100% (extra work) 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Spent > should calculate actual cost percentage of budget 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Spent > should indicate budget overrun 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Percentage Calculations > Percent Spent > should handle zero BAC 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Performance Status Determination > should return good for index >= 1.0 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Performance Status Determination > should return warning for index >= 0.95 and < 1.0 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Performance Status Determination > should return at_risk for index >= 0.9 and < 0.95 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Performance Status Determination > should return critical for index < 0.9 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Commercial Building Project - Month 6 > should calculate correct variances 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Commercial Building Project - Month 6 > should calculate correct performance indices 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Commercial Building Project - Month 6 > should calculate correct forecasts 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Commercial Building Project - Month 6 > should identify project as at-risk 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Highway Project - Ahead of Schedule > should show positive variances 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Highway Project - Ahead of Schedule > should show healthy performance indices 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Highway Project - Ahead of Schedule > should forecast under-budget completion 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Highway Project - Ahead of Schedule > should identify project as healthy 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Renovation Project - Severe Overrun > should show severe negative variances 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Renovation Project - Severe Overrun > should show poor performance indices 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Renovation Project - Severe Overrun > should forecast significant overrun 0ms
 ✓ src/lib/api/services/earned-value-management.test.ts > Real-World Construction Scenarios > Scenario: Renovation Project - Severe Overrun > should indicate unrealistic TCPI to meet original budget 0ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Projects > should only return projects for the current tenant 4ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Projects > should block direct access to other tenant projects by ID 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Projects > should allow access to own tenant projects 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Daily Reports > should only return daily reports for the current tenant 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Daily Reports > should block cross-tenant report access by ID 0ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Payment Applications > should isolate payment applications by tenant 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Payment Applications > should block access to other tenant financial data 0ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Change Orders > should block access to other tenant change orders 0ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > RFIs > should isolate RFIs by tenant 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Users > should only show users from current tenant 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Cross-Tenant Access Prevention > Users > should block access to user details from other tenant 0ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Resource Creation > should automatically set company_id to current tenant 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Resource Creation > should NEVER allow specifying a different company_id 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Nested Resource Access > should block access to nested resources through valid-looking paths 0ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Nested Resource Access > should validate project belongs to tenant before allowing report access 0ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - ID Enumeration Prevention > should not reveal existence of resources through error messages 0ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Bulk Operations > should filter bulk queries to only return tenant data 1ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Search Operations > should only search within tenant data 0ms
 ✓ src/__tests__/security/data-isolation.test.ts > Data Isolation - Search Operations > should prevent SQL injection attempts from bypassing tenant filter 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItems > should fetch schedule items for a project 8ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItems > should apply show_completed filter 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItems > should apply milestones_only filter 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItems > should apply date range filters 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItems > should apply search filter 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItems > should apply critical_only filter 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItems > should handle database errors 4ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItem > should fetch a single schedule item 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItem > should throw error when item ID is not provided 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItem > should throw error when item not found 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > createScheduleItem > should create a new schedule item 2ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > createScheduleItem > should throw error when project_id is missing 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > createScheduleItem > should throw error when task_name is missing 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > createScheduleItem > should handle database errors 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > updateScheduleItem > should update a schedule item 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > updateScheduleItem > should throw error when item ID is missing 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > updateScheduleItem > should handle database errors 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > deleteScheduleItem > should soft delete a schedule item 4ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > deleteScheduleItem > should throw error when item ID is missing 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > deleteScheduleItem > should handle database errors 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > updateProgress > should update progress percentage 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > updateProgress > should clamp progress to 0-100 range 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getDependencies > should fetch all dependencies for a project 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getDependencies > should throw error when project ID is missing 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getDependencies > should handle database errors 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > createDependency > should create a dependency 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > createDependency > should throw error when predecessor/successor IDs are missing 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > createDependency > should throw error for self-dependency 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > createDependency > should handle database errors on create 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > deleteDependency > should delete a dependency 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > deleteDependency > should throw error when dependency ID is missing 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleStats > should calculate schedule statistics correctly 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleStats > should calculate overall progress correctly 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleStats > should handle empty schedule 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleDateRange > should find earliest start and latest finish dates 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleDateRange > should return null for empty schedule 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItemsWithVariance > should fetch schedule items with variance 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getScheduleItemsWithVariance > should handle database errors 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > saveBaseline > should save a baseline 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > saveBaseline > should handle database errors 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > clearBaseline > should clear baseline 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > clearBaseline > should handle database errors 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > getBaselines > should fetch all baselines for a project 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > hasBaseline > should return true if baseline exists 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > hasBaseline > should return false if no baseline exists 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > hasBaseline > should return false on error 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > importScheduleItems > should import schedule items 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > importScheduleItems > should clear existing items when requested 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > importScheduleItems > should handle batch import errors 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > importDependencies > should import dependencies 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > importDependencies > should collect errors for failed dependencies 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > updateCriticalPath > should update critical path flags 1ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > updateCriticalPath > should handle empty critical task list 0ms
 ✓ src/lib/api/services/schedule.test.ts > scheduleApi > reorderItems > should reorder schedule items 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getProjectDocuments > should fetch project documents with default ordering 6ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getProjectDocuments > should fetch project documents with custom options 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getProjectDocuments > should wrap non-API errors in ApiErrorClass 3ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getProjectDocuments > should preserve API errors 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getDocument > should fetch a single document 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getDocument > should wrap errors in ApiErrorClass 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocument > should create a document with default status and version flags 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocument > should throw error if project_id is missing 2ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocument > should throw error if file_url is missing 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocument > should wrap API errors 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > updateDocument > should update a document 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > updateDocument > should throw error if document_id is missing 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > updateDocument > should wrap API errors 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > deleteDocument > should delete a document 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > deleteDocument > should throw error if document_id is missing 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > deleteDocument > should wrap API errors 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getProjectFolders > should fetch project folders ordered by sort_order 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getProjectFolders > should wrap errors 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createFolder > should create a folder 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createFolder > should throw error if project_id is missing 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createFolder > should wrap API errors 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > updateFolder > should update a folder 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > updateFolder > should wrap errors 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > deleteFolder > should delete a folder 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > deleteFolder > should wrap errors 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > findDocumentByName > should find a document by name without folder filter 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > findDocumentByName > should find a document by name with folder filter 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > findDocumentByName > should find a document by name with null folder filter 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > findDocumentByName > should return null if document not found 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > findDocumentByName > should throw error if projectId is missing 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > findDocumentByName > should throw error if documentName is missing 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > findDocumentByName > should wrap API errors with context 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocumentVersion > should create a new version with incremented version number 3ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocumentVersion > should handle version increments correctly 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocumentVersion > should default to version 1.1 if no version exists 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocumentVersion > should throw error if documentId is missing 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocumentVersion > should throw error if newFileUrl is missing 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > createDocumentVersion > should wrap errors 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getDocumentVersions > should fetch all versions in chronological order 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getDocumentVersions > should throw error if documentId is missing 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getDocumentVersions > should wrap errors 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getLatestVersion > should return the latest version 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getLatestVersion > should throw error if no latest version found 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > getLatestVersion > should wrap errors 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > revertToVersion > should revert to a previous version 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > revertToVersion > should handle case with no current latest version 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > revertToVersion > should throw error if versionId is missing 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > revertToVersion > should wrap errors 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > compareVersions > should compare two versions and return differences 1ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > compareVersions > should return empty differences if versions are identical 0ms
 ✓ src/lib/api/services/documents.test.ts > documentsApi > compareVersions > should wrap errors 0ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalRequests > should fetch approval requests 111ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 1-3: Contract Sum Calculations > should calculate Line 3 (Contract Sum to Date) = Line 1 + Line 2 2ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 1-3: Contract Sum Calculations > should handle negative change orders 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 1-3: Contract Sum Calculations > should handle zero change orders 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 4: Total Completed and Stored to Date > should calculate total from G703 Column G 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 4: Total Completed and Stored to Date > should handle zero materials stored 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 4: Total Completed and Stored to Date > should handle first application (no previous work) 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 5: Retainage Calculations > should calculate Line 5a (retainage from completed work) 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 5: Retainage Calculations > should calculate Line 5b (retainage from stored materials) 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 5: Retainage Calculations > should calculate total retainage (Line 5a + 5b) 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 5: Retainage Calculations > should handle zero retainage 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 5: Retainage Calculations > should handle 5% retainage 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 5: Retainage Calculations > should handle 15% retainage 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 6: Total Earned Less Retainage > should calculate Line 6 = Line 4 - Line 5 Total 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 6: Total Earned Less Retainage > should handle zero retainage 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 7: Less Previous Certificates for Payment > should track cumulative previous payments 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 7: Less Previous Certificates for Payment > should be zero for first application 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 8: Current Payment Due (CRITICAL) > should calculate Line 8 = Line 6 - Line 7 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 8: Current Payment Due (CRITICAL) > should handle first application (no previous certificates) 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 8: Current Payment Due (CRITICAL) > should handle 100% complete with retainage release 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 8: Current Payment Due (CRITICAL) > should never be negative 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 9: Balance to Finish > should calculate Line 9 = Line 3 - Line 6 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 9: Balance to Finish > should equal zero when project is 100% complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Line 9: Balance to Finish > should include retainage in balance 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Percent Complete Calculation > should calculate percent complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Percent Complete Calculation > should handle 0% complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Percent Complete Calculation > should handle 100% complete 0ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Template - Form Calculations > Percent Complete Calculation > should handle division by zero 0ms
stderr | src/features/approvals/hooks/useApprovals.test.tsx > useApprovalRequests > should return empty array on error
[useApprovalRequests] Query failed: Error: DB error
    at C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/src/features/approvals/hooks/useApprovals.test.tsx:296:43
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1209:10)
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1653:37
    at Traces.$ (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)
    at runTest (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1653:12)

 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Basic Rendering > renders the loading screen 220ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Basic Rendering > renders with default message 49ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Basic Rendering > renders with custom message 21ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > should generate correct base key 4ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > connection keys > should generate correct connection base key 1ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > connection keys > should generate correct connection status key 1ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > account mapping keys > should generate correct account mappings base key 1ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > account mapping keys > should generate correct account mappings list key 1ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > entity mapping keys > should generate correct entity mappings base key 0ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > entity mapping keys > should generate correct entity mapping key 0ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > entity mapping keys > should generate correct entity mappings list key with options 0ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > sync keys > should generate correct sync logs base key 0ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > sync keys > should generate correct sync log key 1ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > sync keys > should generate correct pending syncs base key 0ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > sync keys > should generate correct stats key 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > quickbooksKeys > sync keys > should generate correct dashboard key 0ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalLinks > should fetch links for an approval request 116ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalLinks > should not fetch when approvalRequestId is undefined 27ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalRequests > should fetch requests with filters 90ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalRequests > should return empty array on error 71ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should generate PDF blob 201ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Basic Rendering > does not render message when empty string provided 32ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Basic Rendering > renders the logo icon 28ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Basic Rendering > renders tagline 29ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Layout and Styling > is full screen with fixed positioning 24ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBConnectionStatus > should fetch connection status 100ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBConnectionStatus > should return connected status correctly 66ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalLinks > should handle fetch error 68ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useCreatePublicApprovalLink > should create a new approval link 14ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useCreatePublicApprovalLink > should handle creation error 23ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useRevokePublicApprovalLink > should revoke an approval link 19ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalRequest > should fetch single request 66ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalRequest > should not fetch when requestId is undefined 4ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should include project information 27ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should include contractor information 28ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should include architect information 12ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should include owner information 26ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should handle null/missing project information 13ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should include all calculation rows 16ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Layout and Styling > uses flexbox for centering 19ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Layout and Styling > has gradient background 16ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Layout and Styling > accepts custom className 21ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Layout and Styling > has animated background grid 20ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Logo Presentation > renders logo with correct size 17ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Logo Presentation > logo has drop shadow 24ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBConnection > should fetch raw connection 79ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useInitiateQBConnection > should exist and be callable 4ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useCompleteQBConnection > should exist and be callable 4ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useRefreshQBToken > should exist and be callable 3ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useUpdateQBConnection > should exist and be callable 3ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useDisconnectQB > should exist and be callable 3ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useValidatePublicApprovalToken > should validate a token 65ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useValidatePublicApprovalToken > should return invalid validation for bad token 77ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > usePendingApprovals > should fetch pending approvals for user 75ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > usePendingApprovals > should not fetch when userId is undefined 4ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > usePendingApprovals > should return empty summary on error 73ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should format retainage percentage correctly 7ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should include contractor certification section 8ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should include architect certificate section 15ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > generateG702PDF > should include signature dates when provided 15ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > downloadG702PDF > should trigger download with correct filename 31ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 PDF Generation > downloadG702PDF > should sanitize project name in filename 26ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Logo Presentation > logo has glow effect containers 17ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Logo Presentation > logo has gradient background container 14ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Progress Bar > renders progress bar 8ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Progress Bar > progress bar has gradient fill 19ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Progress Bar > progress bar is rounded 16ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Status Dots > renders three status dots 19ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Status Dots > dots have staggered animation delays 8ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Animations > includes inline animation styles 7ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBAccountMappings > should fetch account mappings 69ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useCreateQBAccountMapping > should exist and be callable 3ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useUpdateQBAccountMapping > should exist and be callable 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useDeleteQBAccountMapping > should exist and be callable 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useSetDefaultQBMapping > should exist and be callable 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBEntityMapping > should fetch entity mapping 67ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBEntityMapping > should not fetch when entityId is undefined 4ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 Edge Cases and Real-World Scenarios > should handle first payment application 12ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 Edge Cases and Real-World Scenarios > should handle final payment with retainage release 9ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 Edge Cases and Real-World Scenarios > should handle negative change orders 10ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 Edge Cases and Real-World Scenarios > should handle zero retainage project 15ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 Edge Cases and Real-World Scenarios > should handle large contract values 8ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 Edge Cases and Real-World Scenarios > should handle small contract values 8ms
 ✓ src/features/payment-applications/utils/__tests__/g702Template.test.ts > G702 Edge Cases and Real-World Scenarios > should handle materials stored without completed work this period 14ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useValidatePublicApprovalToken > should not validate when token is undefined 12ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalPageData > should fetch page data for valid token 70ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useEntityApprovalStatus > should fetch entity status 63ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useEntityApprovalStatus > should not fetch when entityType is undefined 3ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useEntityApprovalStatus > should not fetch when entityId is undefined 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Animations > has gridSlide animation keyframes 10ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Animations > has pulseGlow animation keyframes 10ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Animations > has construct animation keyframes 11ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Animations > has progressSlide animation keyframes 15ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Animations > has fadeInUp animation keyframes 17ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Animations > has bounce animation keyframes 11ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Dark Mode Support > has dark mode gradient colors for logo 8ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Dark Mode Support > has dark mode colors for progress bar 10ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Dark Mode Support > has dark mode colors for status dots 17ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBEntityMappings > should fetch entity mappings list 68ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalPageData > should return null for invalid token 73ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useSubmitClientApprovalResponse > should submit approval response 4ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useSubmitClientApprovalResponse > should handle rejection decision 3ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useSubmitClientApprovalResponse > should handle changes_requested decision 3ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > useSubmitClientApprovalResponse > should handle rate limit error 3ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useCanUserApprove > should check if user can approve 68ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useCanUserApprove > should return false when params are missing 5ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useCreateApprovalRequest > should create approval request 12ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useCancelApprovalRequest > should cancel approval request 6ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalHistory > should fetch approval history 74ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalHistory > should not fetch when requestId is undefined 2ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Text Content > message has uppercase styling 16ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Text Content > message has semibold font 15ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Text Content > tagline has tracking 20ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingScreen > Text Content > tagline has disabled text color 12ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Basic Rendering > renders spinner 9ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Basic Rendering > has spin animation 2ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Basic Rendering > has primary color 2ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Basic Rendering > has dark mode color 9ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Size Variants > renders small size 5ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Size Variants > renders medium size by default 5ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Size Variants > renders large size 5ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBAccounts > should fetch QuickBooks accounts 73ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBAccounts > should not fetch when connectionId is undefined 3ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useSyncEntity > should exist and be callable 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useBulkSync > should exist and be callable 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQueueForSync > should exist and be callable 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useRetrySync > should exist and be callable 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useCancelPendingSync > should exist and be callable 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBSyncLogs > should fetch sync logs 68ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApproveRequest > should approve request 4ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApproveRequest > should approve request without comment 6ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApproveWithConditions > should approve with conditions 5ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useRejectRequest > should reject request with comment 5ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useDelegateRequest > should delegate request 4ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useAddApprovalComment > should add comment 5ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalLinkManager > should provide all link management operations 55ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalLinkManager > should create link through manager 82ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Custom Styling > accepts custom className 7ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > Custom Styling > combines size and custom classes 5ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > SVG Structure > has circle element for background 6ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > SVG Structure > has path element for spinner arc 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > SVG Structure > circle has opacity styling 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingSpinner > SVG Structure > path has opacity styling 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Visibility Control > renders when show is true 8ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Visibility Control > does not render when show is false 1ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Visibility Control > toggles visibility based on show prop 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Layout and Styling > is full screen with fixed positioning 2ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Layout and Styling > has backdrop blur effect 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Layout and Styling > has semi-transparent background 5ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Layout and Styling > has high z-index for layering 8ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Layout and Styling > centers content 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Card Styling > has glass morphism card 2ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Card Styling > card has rounded corners 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Card Styling > card has border 5ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Content > renders logo icon 6ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Content > logo has correct size 6ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Content > renders loading spinner 6ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Content > renders message when provided 7ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBSyncLogs > should fetch sync logs with filters 65ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalWorkflows > should fetch workflows for company 73ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalWorkflows > should fetch workflows with type filter 69ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalWorkflows > should not fetch when companyId is undefined 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Content > does not render message when not provided 5ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Content > message has correct styling 9ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Dark Mode Support > has dark mode card background 9ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Dark Mode Support > has dark mode border color 7ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Dark Mode Support > message has dark mode text color 10ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Logo Glow Effect > has glow effect container 5ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > LoadingOverlay > Logo Glow Effect > logo has gradient background 8ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Basic Rendering > renders button loader 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Basic Rendering > uses inline-flex layout 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Basic Rendering > has gap between dots 6ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Dots > renders three dots 7ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Dots > dots are circular 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Dots > dots use current color 6ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Dots > dots have staggered animation delays 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Dots > dots have bounce animation 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Custom Styling > accepts custom className 3ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Custom Styling > combines default and custom classes 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Integration > can be used inline with text 5ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalPage > should provide page data and submit function 65ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalPage > should handle invalid token 62ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBSyncLog > should fetch single sync log 68ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBSyncLog > should not fetch when logId is undefined 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBPendingSyncs > should fetch pending syncs 67ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useActiveWorkflowsByType > should fetch active workflows by type 76ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useActiveWorkflowsByType > should not fetch when companyId is undefined 2ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useActiveWorkflowsByType > should not fetch when workflowType is undefined 2ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > ButtonLoader > Integration > inherits text color when used in button 4ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > Component Integration > all components can be imported from the same module 0ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > Component Integration > LoadingOverlay uses LoadingSpinner internally 6ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > Component Integration > all components share consistent branding 25ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > Edge Cases > handles very long message in LoadingScreen 17ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > Edge Cases > handles very long message in LoadingOverlay 15ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > Edge Cases > handles rapid show/hide toggling in LoadingOverlay 12ms
 ✓ src/components/__tests__/LoadingScreen.test.tsx > Edge Cases > handles undefined className gracefully 30ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalWorkflow > should fetch single workflow 68ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useApprovalWorkflow > should not fetch when workflowId is undefined 6ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useCreateApprovalWorkflow > should create workflow 7ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useUpdateApprovalWorkflow > should update workflow 11ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useDeleteApprovalWorkflow > should delete workflow 4ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > useDuplicateApprovalWorkflow > should duplicate workflow 3ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBSyncStats > should fetch sync stats 66ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useQBDashboard > should fetch dashboard data 73ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalPage > should submit response through page hook 158ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Public Approval Link Hooks > usePublicApprovalPage > should throw error when submitting without valid link 81ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > Approval Security Tests > should check user authorization before approving 75ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > Approval Security Tests > should track entity approval status 67ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useIsEntitySynced > should return synced status for synced entity 67ms
stderr | src/features/approvals/hooks/useApprovals.test.tsx > Approval Error Handling > should handle API errors gracefully for requests
[useApprovalRequests] Query failed: Error: Network error
    at C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/src/features/approvals/hooks/useApprovals.test.tsx:820:43
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1209:10)
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1653:37
    at Traces.$ (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)
    at runTest (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1653:12)

 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Edge Cases > should handle link with existing response 65ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > Approval Security Tests > should provide pending count for badge display 70ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > Approval Security Tests > should require comment when rejecting 3ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > Approval Security Tests > should track delegation chain 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > useIsEntitySynced > should return not synced for non-existent entity 72ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > QuickBooks Integration Security > should require company_id for all operations 67ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > Approval Error Handling > should handle API errors gracefully for requests 72ms
 ✓ src/features/approvals/hooks/useApprovals.test.tsx > Approval Error Handling > should handle mutation errors 9ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Edge Cases > should handle multi-use link 81ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Edge Cases > should handle revoked link 91ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Edge Cases > should handle expired link 62ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Edge Cases > should handle approval with signature 3ms
 ✓ src/features/approvals/hooks/usePublicApprovalLinks.test.tsx > Edge Cases > should handle approval with conditions 2ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > QuickBooks Integration Security > should handle token expiration status 79ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > QuickBooks Integration Security > should handle connection errors gracefully 72ms
 ✓ src/features/quickbooks/hooks/useQuickBooks.test.tsx > QuickBooks Integration Security > should track sync status accurately 77ms
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getVendorBidHistory > should fetch and calculate vendor bid history metrics
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getVendorBidHistory > should handle vendor with no bids
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getVendorBidHistory > should filter by divisions
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getVendorWinRate > should calculate win rate by division
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getBidAccuracyAnalysis > should analyze bid accuracy vs actual costs
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getBidAccuracyAnalysis > should handle project with no awarded bids
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getPriceVarianceByTrade > should calculate variance statistics by trade
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getPriceVarianceByTrade > should handle trade with no data
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getBidTrendAnalysis > should analyze bid trends over time
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getRecommendedVendors > should score and rank vendors based on performance
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > getRecommendedVendors > should return empty array when no vendors found
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > generateBidPerformanceReport > should generate comprehensive performance report
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > Error handling > should handle database errors gracefully
 ↓ src/lib/api/services/historical-bid-analysis.test.ts > Historical Bid Analysis API > Error handling > should throw ApiErrorClass for known errors
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > getWaiversNeedingReminders > should fetch waivers needing reminders within threshold 5ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > getWaiversNeedingReminders > should handle errors when fetching waivers 3ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > getOverdueWaivers > should fetch only overdue waivers 1ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > getProjectManagerEmail > should return PM email when found 1ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > getProjectManagerEmail > should return null when PM not found 1ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > sendWaiverReminder > should send reminder email for upcoming due date 33ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > sendWaiverReminder > should send overdue reminder and escalate to PM 2ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > sendWaiverReminder > should fail gracefully when no recipient email found 1ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > sendWaiverReminder > should handle email sending errors 2ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > processReminders > should process batch of reminders successfully 2ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > processReminders > should skip waivers without due dates 1ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > processReminders > should handle partial failures in batch 2ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > getReminderStats > should calculate reminder statistics correctly 2ms
 ✓ src/lib/api/services/lien-waiver-reminders.test.ts > lienWaiverReminderService > getReminderStats > should handle empty waiver list 1ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_DOCUMENT_TYPES > should contain all document types 3ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_DOCUMENT_TYPES > should have value, label, and category for each type 4ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_DOCUMENT_TYPES > should have unique values 1ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_DOCUMENT_TYPES > should include common closeout document types 2ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_DOCUMENT_TYPES > should map types to correct categories 1ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_STATUSES > should contain all status values 0ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_STATUSES > should have value, label, and color for each status 1ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_STATUSES > should include all status values 1ms
 ✓ src/types/closeout.test.ts > Closeout Constants > CLOSEOUT_STATUSES > should have appropriate colors 0ms
 ✓ src/types/closeout.test.ts > Closeout Constants > WARRANTY_TYPES > should contain all warranty types 0ms
 ✓ src/types/closeout.test.ts > Closeout Constants > WARRANTY_TYPES > should include warranty type values 0ms
 ✓ src/types/closeout.test.ts > Closeout Constants > WARRANTY_STATUSES > should contain all warranty statuses 0ms
 ✓ src/types/closeout.test.ts > Closeout Constants > WARRANTY_STATUSES > should include all status values 1ms
 ✓ src/types/closeout.test.ts > Closeout Constants > WARRANTY_STATUSES > should have appropriate colors 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutDocumentTypeLabel > should return correct labels for known types 1ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutDocumentTypeLabel > should return the type value for unknown types 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutDocumentCategory > should return correct categories for known types 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutDocumentCategory > should return documentation for unknown types 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutStatusColor > should return correct colors for statuses 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutStatusColor > should return gray for unknown status 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getWarrantyStatusColor > should return correct colors for warranty statuses 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getWarrantyStatusColor > should return gray for unknown status 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > isWarrantyExpiringSoon > should return false for non-active warranty 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > isWarrantyExpiringSoon > should return true when within default 90 day threshold 1ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > isWarrantyExpiringSoon > should return false when beyond threshold 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > isWarrantyExpiringSoon > should return false when already expired 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > isWarrantyExpiringSoon > should use custom threshold 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getDaysUntilWarrantyExpiration > should return positive days for future date 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getDaysUntilWarrantyExpiration > should return negative days for past date 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutTrafficLight > should return gray for zero total 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutTrafficLight > should return red when there are rejected items 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutTrafficLight > should return green when all approved 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutTrafficLight > should return yellow when some approved or pending 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > getCloseoutTrafficLight > should return gray when no progress 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > groupDocumentsBySpecSection > should group documents by spec section 1ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > groupDocumentsBySpecSection > should handle empty array 0ms
 ✓ src/types/closeout.test.ts > Closeout Utility Functions > groupDocumentsByCategory > should group documents by category 1ms
 ✓ src/types/closeout.test.ts > Closeout Type Structures > should have all properties on CloseoutDocument interface 0ms
 ✓ src/types/closeout.test.ts > Closeout Type Structures > should have all properties on Warranty interface 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > should generate correct base key 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > cost codes keys > should generate correct cost codes base key 1ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > cost codes keys > should generate correct cost codes list key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > cost codes keys > should generate correct cost codes tree key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > cost codes keys > should generate correct cost code detail key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > budget keys > should generate correct budgets base key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > budget keys > should generate correct budgets list key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > budget keys > should generate correct budget detail key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > budget keys > should generate correct budget totals key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > budget keys > should generate correct budget by division key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > transaction keys > should generate correct transactions base key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > transaction keys > should generate correct transactions list key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > transaction keys > should generate correct transaction detail key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > costTrackingKeys > transaction keys > should generate correct transaction totals key 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostCodes > should fetch cost codes with filters 98ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostCodes > should not fetch when companyId is missing 5ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostCodesTree > should fetch cost codes tree 78ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostCodesTree > should not fetch when companyId is undefined 7ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostCode > should fetch single cost code 82ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostCode > should not fetch when id is undefined 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCreateCostCode > should exist and be callable 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useUpdateCostCode > should exist and be callable 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useDeleteCostCode > should exist and be callable 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useSeedCSIDivisions > should exist and be callable 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useProjectBudgets > should fetch project budgets 76ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useProjectBudgets > should not fetch when projectId is missing 12ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useProjectBudget > should fetch single budget 71ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useProjectBudgetTotals > should fetch project budget totals 84ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useProjectBudgetTotals > should not fetch when projectId is undefined 2ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useBudgetByDivision > should fetch budget summary by division 75ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCreateProjectBudget > should exist and be callable 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useUpdateProjectBudget > should exist and be callable 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useDeleteProjectBudget > should exist and be callable 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useBulkCreateBudgets > should exist and be callable 2ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostTransactions > should fetch transactions with filters 75ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostTransactions > should not fetch when projectId is missing 3ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCostTransaction > should fetch single transaction 64ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useTransactionTotalsByType > should fetch transaction totals by type 78ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useCreateCostTransaction > should exist and be callable 4ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useUpdateCostTransaction > should exist and be callable 4ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > useDeleteCostTransaction > should exist and be callable 2ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > Financial Calculation Accuracy > should correctly calculate budget variance 1ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > Financial Calculation Accuracy > should correctly calculate percent spent 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > Financial Calculation Accuracy > should handle zero budget without division by zero 0ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > Financial Calculation Accuracy > should correctly aggregate budget totals 1ms
 ✓ src/features/cost-tracking/hooks/useCostTracking.test.tsx > Financial Calculation Accuracy > should correctly aggregate transaction totals 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should have all key as base 3ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate lists key 1ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate list with filters key 1ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate detail key 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate stats key 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate items key 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate invitations key 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate questions key 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate addenda key 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate submissions key 1ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > bidPackageKeys > should generate comparison key 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Query Hooks > useBidPackages > should fetch bid packages with filters 98ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Query Hooks > useBidPackage > should fetch single bid package 76ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Query Hooks > useBidPackage > should not fetch when id is undefined 8ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Query Hooks > useBidPackageItems > should fetch bid package items 78ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Invitation Hooks > useBidInvitations > should fetch invitations 69ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Invitation Hooks > useSendBidInvitation > should send invitation 72ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Question Hooks > useBidQuestions > should fetch questions 67ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > collectProjectSnapshot > should collect a snapshot successfully 7ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > collectProjectSnapshot > should handle snapshot collection error 4ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getProjectSnapshots > should fetch project snapshots 2ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getProjectSnapshots > should filter snapshots by date range 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getProjectSnapshots > should return empty array when no snapshots found 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getLatestSnapshot > should fetch the latest snapshot 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getLatestSnapshot > should return null when no snapshots exist 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getLatestPrediction > should fetch the latest prediction 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > storePrediction > should store a new prediction 2ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getRiskScores > should fetch risk assessment for project 2ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getRiskScores > should handle risk calculation errors 4ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getRecommendations > should fetch all recommendations for project 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getRecommendations > should filter recommendations by category 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getRecommendations > should filter recommendations by status 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > acknowledgeRecommendation > should acknowledge a recommendation 4ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > implementRecommendation > should mark recommendation as implemented 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > dismissRecommendation > should dismiss a recommendation with reason 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getActiveModel > should fetch active model by type 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getModels > should fetch all models 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > getDashboardData > should fetch complete dashboard data 2ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > Error Handling > should wrap database errors in ApiErrorClass 1ms
 ✓ src/lib/api/services/analytics.test.ts > Analytics API Service > Error Handling > should handle network errors 1ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Question Hooks > useAnswerBidQuestion > should answer question 75ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Addenda Hooks > useBidAddenda > should fetch addenda 74ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > costEstimateKeys > should generate correct base key 3ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > costEstimateKeys > should generate correct lists base key 1ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > costEstimateKeys > should generate correct list key for project 1ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > costEstimateKeys > should generate correct details base key 0ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > costEstimateKeys > should generate correct detail key for estimate 0ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > costEstimateKeys > should generate correct items key for estimate 0ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Addenda Hooks > useCreateAddendum > should create addendum 69ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useProjectEstimates > should fetch project estimates 114ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useProjectEstimates > should not fetch when projectId is undefined 7ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useEstimate > should fetch single estimate with items 70ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useEstimate > should not fetch when estimateId is undefined 6ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Submission Hooks > useBidSubmissions > should fetch submissions 75ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Submission Hooks > useBidSubmission > should fetch single submission 69ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useEstimateItems > should fetch estimate items 76ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useEstimateItems > should not fetch when estimateId is undefined 4ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Submission Hooks > useCreateBidSubmission > should create submission 66ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useCreateEstimate > should create estimate successfully 71ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useCreateEstimate > should handle create error 79ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Submission Hooks > useUpdateBidSubmissionStatus > should update submission status 80ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Submission Hooks > useUpdateBidSubmissionStatus > should handle disqualification with reason 70ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useUpdateEstimate > should update estimate successfully 66ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useUpdateEstimate > should handle update error 67ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Mutation Hooks > useCreateBidPackage > should create bid package 64ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Mutation Hooks > useUpdateBidPackage > should update bid package 63ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useDeleteEstimate > should delete estimate successfully 78ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Mutation Hooks > usePublishBidPackage > should publish bid package 65ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Mutation Hooks > useDeleteBidPackage > should soft delete bid package 73ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useDeleteEstimate > should handle delete error 69ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useDuplicateEstimate > should duplicate estimate successfully 64ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Bid Package Mutation Hooks > useAwardBid > should award bid 78ms
 ✓ src/features/bidding/hooks/useBidding.test.tsx > Error Handling > should handle fetch error 62ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useDuplicateEstimate > should handle duplicate error 67ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useAddEstimateItem > should add estimate item successfully 62ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > calculateExecutionScore > should calculate binary score - all pass 8ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > calculateExecutionScore > should calculate binary score - any fail 1ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > calculateExecutionScore > should calculate percentage score correctly 1ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > calculateExecutionScore > should calculate points-based score correctly 1ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > calculateExecutionScore > should handle N/A items correctly when included in total 1ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > calculateExecutionScore > should handle N/A items correctly when excluded from total 1ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > calculateExecutionScore > should auto-fail on critical item failure 1ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > calculateExecutionScore > should calculate letter grade correctly 1ms
 ✓ src/lib/api/services/checklist-scoring.test.ts > checklistScoringApi > getScoringReport > should calculate summary statistics correctly 0ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useAddEstimateItem > should handle add item error 67ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useUpdateEstimateItem > should update estimate item successfully 63ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > initializeDraft > should initialize a new draft report 4ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > initializeDraft > should clear previous data when initializing new draft 2ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > initializeFromPreviousReport > should copy data from previous report 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > initializeFromPreviousReport > should copy workforce with new IDs 2ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > initializeFromPreviousReport > should clear submission/approval fields 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > initializeFromExistingReport > should load existing report for editing 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > initializeFromExistingReport > should add to sync queue with server timestamp 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > initializeFromExistingReport > should keep existing IDs for related data 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > updateDraft > should update draft fields 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > updateDraft > should handle null draft gracefully 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Workforce Entries > should add workforce entry 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Workforce Entries > should update total workers when adding team entry 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Workforce Entries > should update total workers when adding individual entry 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Workforce Entries > should update workforce entry 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Workforce Entries > should remove workforce entry 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Workforce Entries > should calculate total workers correctly with mixed entries 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Equipment Entries > should add equipment entry 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Equipment Entries > should update equipment entry 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Equipment Entries > should remove equipment entry 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Delivery Entries > should add delivery entry 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Delivery Entries > should update delivery entry 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Delivery Entries > should remove delivery entry 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Visitor Entries > should add visitor entry 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Visitor Entries > should update visitor entry 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Visitor Entries > should remove visitor entry 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Photos > should add photo 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Photos > should update photo 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Photos > should update photo caption 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Photos > should remove photo 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Sync Status > should set sync status 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Sync Status > should set sync status with error 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Sync Status > should set online status 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Sync Queue > should add item to sync queue 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Sync Queue > should remove item from sync queue 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Sync Queue > should update sync queue item 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Conflict Resolution > should set conflict 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Conflict Resolution > should clear conflict when set to null 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Conflict Resolution > should resolve conflict with keep_local strategy 1ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Conflict Resolution > should resolve conflict with keep_server strategy 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > Conflict Resolution > should resolve conflict with merge strategy 0ms
 ✓ src/features/daily-reports/store/offlineReportStore.test.ts > Offline Report Store > clearDraft > should clear all data 1ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useUpdateEstimateItem > should handle update item error 70ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useDeleteEstimateItem > should delete estimate item successfully 66ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useDeleteEstimateItem > should handle delete item error 70ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useCreateEstimateFromTakeoff > should create estimate from takeoff successfully 59ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useCreateEstimateFromTakeoff > should handle create from takeoff error 65ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useOptimisticEstimateUpdate > should return a function 4ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useOptimisticEstimateUpdate > should update estimate in cache optimistically 3ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useOptimisticItemUpdate > should return a function 5ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > useOptimisticItemUpdate > should update item in cache optimistically 4ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Cost Calculation Business Logic > should calculate material cost correctly 0ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Cost Calculation Business Logic > should calculate labor cost correctly 0ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Cost Calculation Business Logic > should calculate total cost correctly 0ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Cost Calculation Business Logic > should calculate markup correctly 1ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Cost Calculation Business Logic > should handle zero values 0ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Cost Calculation Business Logic > should handle decimal quantities 0ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Edge Cases > should handle empty estimate list 82ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Edge Cases > should handle estimate with no items 79ms
 ✓ src/features/cost-estimates/hooks/useCostEstimates.test.tsx > Edge Cases > should handle null estimate 71ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatCurrency > should format positive numbers correctly 30ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatCurrency > should format negative numbers correctly 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatCurrency > should handle null and undefined 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatCurrency > should handle zero 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatCurrency > should handle very large numbers 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatCurrency > should handle very small numbers 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatCurrency > should always show two decimal places 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatPercent > should format percentages with one decimal place 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatPercent > should handle null and undefined 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatPercent > should handle zero 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatPercent > should handle 100% 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatPercent > should handle decimal values 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatPercent > should handle values over 100% 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatDate > should format date strings correctly 24ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatDate > should handle null and undefined 2ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatDate > should handle invalid dates gracefully 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatDate > should format ISO date strings 2ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatShortDate > should format date strings in MM/DD/YYYY format 2ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatShortDate > should handle null and undefined 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Utility Functions > formatShortDate > should handle invalid dates gracefully 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG702Data > should build G702 data with all fields 6ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG702Data > should handle missing project info 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG702Data > should handle partial project info 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG702Data > should handle application without project 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG702Data > should handle null project fields 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG703Data > should build G703 data with calculated totals 3ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG703Data > should handle empty items array 2ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG703Data > should handle items with null retainage 0ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG703Data > should handle items with undefined values 2ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG703Data > should calculate totals for large number of items 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > buildG703Data > should handle decimal precision in totals 2ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > downloadPaymentApplicationPDFs > should download both G702 and G703 PDFs 4ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > downloadPaymentApplicationPDFs > should build correct G702 data structure 2ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > downloadPaymentApplicationPDFs > should build correct G703 data structure 7ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > downloadPaymentApplicationPDFs > should handle missing project info 3ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > downloadPaymentApplicationPDFs > should download PDFs in parallel 103ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should generate PDF with basic report info 9ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should fetch company info when not provided 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should use provided company info 2ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render weather section when weather data exists 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render weather delays in red when present 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render workforce table when workers present 3ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should skip workforce section when empty 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render equipment table when equipment present 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render deliveries table with formatted time 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should format time correctly (AM/PM) 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render visitors table 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render work performed section 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should skip work performed when empty 0ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render issues and observations 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render comments section 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should handle report with all sections 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should render status badge with correct color 0ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > generateDailyReportPDF > should handle different status values 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > downloadDailyReportPDF > should generate and download PDF 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > downloadDailyReportPDF > should create download link with correct filename 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > downloadDailyReportPDF > should handle report without number in filename 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > downloadDailyReportPDF > should cleanup blob URL after download 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > downloadDailyReportPDF > should append and remove link from DOM 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > Edge Cases > should handle report with all null values 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > Edge Cases > should handle missing delivery time 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > Edge Cases > should handle workforce with null hours 1ms
 ✓ src/features/daily-reports/utils/__tests__/pdfExport.test.ts > Daily Reports PDF Export > Edge Cases > should handle equipment with null values 1ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > downloadPaymentApplicationPDFs > should handle empty items array 104ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Integration Tests > should maintain data consistency between G702 and G703 107ms
 ✓ src/features/payment-applications/utils/__tests__/pdfExport.test.ts > PDF Export Integration Tests > should handle complete workflow from draft to approved 309ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_STATUSES > should have 5 sync statuses 3ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_STATUSES > should have pending status with gray color 1ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_STATUSES > should have syncing status with blue color 1ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_STATUSES > should have synced status with green color 0ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_STATUSES > should have failed status with red color 0ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_STATUSES > should have skipped status with yellow color 1ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_STATUSES > should have all values with required fields 1ms
 ✓ src/types/quickbooks.test.ts > QB_ENTITY_TYPES > should have 6 entity types 0ms
 ✓ src/types/quickbooks.test.ts > QB_ENTITY_TYPES > should map vendor to subcontractors 0ms
 ✓ src/types/quickbooks.test.ts > QB_ENTITY_TYPES > should map bill to change_orders 0ms
 ✓ src/types/quickbooks.test.ts > QB_ENTITY_TYPES > should map invoice to payment_applications 0ms
 ✓ src/types/quickbooks.test.ts > QB_ENTITY_TYPES > should map expense to cost_transactions 0ms
 ✓ src/types/quickbooks.test.ts > QB_ENTITY_TYPES > should map customer to projects 0ms
 ✓ src/types/quickbooks.test.ts > QB_ENTITY_TYPES > should map account to cost_codes 0ms
 ✓ src/types/quickbooks.test.ts > QB_ENTITY_TYPES > should have all values with required fields 1ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_DIRECTIONS > should have 3 sync directions 0ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_DIRECTIONS > should have to_quickbooks direction 0ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_DIRECTIONS > should have from_quickbooks direction 0ms
 ✓ src/types/quickbooks.test.ts > QB_SYNC_DIRECTIONS > should have bidirectional direction 0ms
 ✓ src/types/quickbooks.test.ts > QB_API_URLS > OAuth URLs > should have authorize URL 0ms
 ✓ src/types/quickbooks.test.ts > QB_API_URLS > OAuth URLs > should have token URL 0ms
 ✓ src/types/quickbooks.test.ts > QB_API_URLS > OAuth URLs > should have revoke URL 0ms
 ✓ src/types/quickbooks.test.ts > QB_API_URLS > OAuth URLs > should have userInfo URL 0ms
 ✓ src/types/quickbooks.test.ts > QB_API_URLS > API Base URLs > should have production API URL 0ms
 ✓ src/types/quickbooks.test.ts > QB_API_URLS > API Base URLs > should have sandbox API URL 0ms
 ✓ src/types/quickbooks.test.ts > QB_API_URLS > should have scopes defined 0ms
 ✓ src/types/quickbooks.test.ts > getQBEntityType > should return vendor for subcontractors 0ms
 ✓ src/types/quickbooks.test.ts > getQBEntityType > should return bill for change_orders 0ms
 ✓ src/types/quickbooks.test.ts > getQBEntityType > should return invoice for payment_applications 0ms
 ✓ src/types/quickbooks.test.ts > getQBEntityType > should return expense for cost_transactions 0ms
 ✓ src/types/quickbooks.test.ts > getQBEntityType > should return customer for projects 0ms
 ✓ src/types/quickbooks.test.ts > getQBEntityType > should return account for cost_codes 0ms
 ✓ src/types/quickbooks.test.ts > getQBEntityType > should return null for unknown entity type 0ms
 ✓ src/types/quickbooks.test.ts > getLocalEntityType > should return subcontractors for vendor 0ms
 ✓ src/types/quickbooks.test.ts > getLocalEntityType > should return change_orders for bill 0ms
 ✓ src/types/quickbooks.test.ts > getLocalEntityType > should return payment_applications for invoice 0ms
 ✓ src/types/quickbooks.test.ts > getLocalEntityType > should return cost_transactions for expense 0ms
 ✓ src/types/quickbooks.test.ts > getLocalEntityType > should return projects for customer 0ms
 ✓ src/types/quickbooks.test.ts > getLocalEntityType > should return cost_codes for account 0ms
 ✓ src/types/quickbooks.test.ts > getLocalEntityType > should return null for unknown QB entity type 0ms
 ✓ src/types/quickbooks.test.ts > getSyncStatusConfig > should return correct config for pending 0ms
 ✓ src/types/quickbooks.test.ts > getSyncStatusConfig > should return correct config for synced 0ms
 ✓ src/types/quickbooks.test.ts > getSyncStatusConfig > should return correct config for failed 0ms
 ✓ src/types/quickbooks.test.ts > getSyncStatusConfig > should return first status for unknown value 1ms
 ✓ src/types/quickbooks.test.ts > connectionNeedsRefresh > should return true when token_expires_at is null 0ms
 ✓ src/types/quickbooks.test.ts > connectionNeedsRefresh > should return true when token expires within 5 minutes 1ms
 ✓ src/types/quickbooks.test.ts > connectionNeedsRefresh > should return false when token is valid for more than 5 minutes 0ms
 ✓ src/types/quickbooks.test.ts > connectionNeedsReauth > should return true when refresh_token_expires_at is null 0ms
 ✓ src/types/quickbooks.test.ts > connectionNeedsReauth > should return true when refresh token is expired 0ms
 ✓ src/types/quickbooks.test.ts > connectionNeedsReauth > should return false when refresh token is still valid 0ms
 ✓ src/types/quickbooks.test.ts > getQBApiBaseUrl > should return sandbox URL when isSandbox is true 0ms
 ✓ src/types/quickbooks.test.ts > getQBApiBaseUrl > should return production URL when isSandbox is false 0ms
 ✓ src/types/quickbooks.test.ts > buildQBApiUrl > should build correct sandbox URL 0ms
 ✓ src/types/quickbooks.test.ts > buildQBApiUrl > should build correct production URL 0ms
 ✓ src/types/quickbooks.test.ts > buildQBApiUrl > should handle different endpoints 1ms
 ✓ src/types/quickbooks.test.ts > QBConnection interface > should validate a complete connection object 0ms
 ✓ src/types/quickbooks.test.ts > QBAccountMapping interface > should validate a complete account mapping 0ms
 ✓ src/types/quickbooks.test.ts > QBEntityMapping interface > should validate a complete entity mapping 0ms
 ✓ src/types/quickbooks.test.ts > QBSyncLog interface > should validate a complete sync log 0ms
 ✓ src/types/quickbooks.test.ts > QBPendingSync interface > should validate a complete pending sync 0ms
 ✓ src/types/quickbooks.test.ts > QBConnectionStatus interface > should validate connection status structure 0ms
 ✓ src/types/quickbooks.test.ts > QBSyncStats interface > should validate sync stats structure 0ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should generate basic checklist PDF 7ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should fetch company info when not provided 2ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should use provided company info 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should fall back to execution project_id when projectId not provided 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should add document header with checklist name 2ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should render status badge 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should render metadata section with all fields 2ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should render created and completed dates 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should not render completed date when not available 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should render score summary table when score exists 2ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should not render score summary when score is null 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should not render score summary when total_count is 0 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should render section headers 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should render items table with responses 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should format checkbox responses correctly 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should format number responses with units 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should format photo responses with count 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should format signature responses 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should truncate long notes to 50 characters 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should add footers to all pages 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should generate filename with sanitized checklist name and date 0ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should handle missing optional metadata fields 2ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should group items by section correctly 1ms
 ✓ src/features/checklists/utils/__tests__/pdfExport.test.ts > Checklist PDF Export > generateChecklistPDF > should default to "General" section when section is null 1ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Projects Table RLS > should NOT allow anonymous users to read projects 137ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Projects Table RLS > should NOT allow anonymous users to create projects 11ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Projects Table RLS > should NOT allow anonymous users to update projects 5ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Projects Table RLS > should NOT allow anonymous users to delete projects 5ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Daily Reports Table RLS > should NOT allow anonymous users to read daily reports 7ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Daily Reports Table RLS > should NOT allow anonymous users to create daily reports 7ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Workflow Items (RFIs, Submittals, etc) Table RLS > should NOT allow anonymous users to read workflow items 7ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Workflow Items (RFIs, Submittals, etc) Table RLS > should NOT allow anonymous users to create workflow items 8ms
stderr | src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests
GoTrueClient@sb-your_project_id-auth-token:1 (2.89.0) 2025-12-30T22:39:39.886Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Documents Table RLS > should NOT allow anonymous users to read documents 22ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Documents Table RLS > should NOT allow anonymous users to upload documents 14ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Users Table RLS > should NOT allow anonymous users to read user data 18ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Users Table RLS > should NOT allow anonymous users to create users 7ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Users Table RLS > should NOT allow anonymous users to modify other users 13ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Companies Table RLS > should NOT allow anonymous users to read companies 8ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Companies Table RLS > should NOT allow anonymous users to create companies 4ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Safety Incidents Table RLS > should NOT allow anonymous users to read safety incidents 5ms
 ✓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests > Safety Incidents Table RLS > should NOT allow anonymous users to create safety incidents 7ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Tasks Table RLS > should NOT allow anonymous users to read tasks 6ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Tasks Table RLS > should NOT allow anonymous users to create tasks 6ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Punch Items Table RLS > should NOT allow anonymous users to read punch items 5ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Punch Items Table RLS > should NOT allow anonymous users to create punch items 6ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Checklists Table RLS > should NOT allow anonymous users to read checklists 7ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Messages Table RLS > should NOT allow anonymous users to read messages 8ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Messages Table RLS > should NOT allow anonymous users to send messages 6ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Contacts Table RLS > should NOT allow anonymous users to read contacts 6ms
 ✓ src/__tests__/security/rls-policies.test.ts > Cross-Tenant Isolation Tests > Contacts Table RLS > should NOT allow anonymous users to create contacts 12ms
 ↓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests - Authenticated Users > Own Company/Project Access > should allow authenticated users to read their own projects
 ↓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests - Authenticated Users > Own Company/Project Access > should allow users to read daily reports for their projects
 ↓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests - Authenticated Users > Own Company/Project Access > should allow users to read their company data
 ↓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests - Authenticated Users > Cross-Tenant Isolation (Authenticated) > should NOT allow users to read projects from other companies
 ↓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests - Authenticated Users > Cross-Tenant Isolation (Authenticated) > should NOT allow users to read daily reports from other projects
 ↓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests - Authenticated Users > Cross-Tenant Isolation (Authenticated) > should NOT allow users to read other companies
 ↓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests - Authenticated Users > Write Operations > should NOT allow users to insert into other companies
 ↓ src/__tests__/security/rls-policies.test.ts > RLS Policy Tests - Authenticated Users > Write Operations > should NOT allow users to update records in other companies
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Default Mode > renders theme toggle 129ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Default Mode > displays current theme label 34ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Default Mode > shows dropdown trigger button 515ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Default Mode > displays sun icon for light theme 27ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LIEN_WAIVER_TYPES > should contain all four waiver types 4ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LIEN_WAIVER_TYPES > should have correct conditional flags 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LIEN_WAIVER_TYPES > should have human-readable labels for all types 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LIEN_WAIVER_TYPES > should have correct labels 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LIEN_WAIVER_STATUSES > should contain all nine status values 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LIEN_WAIVER_STATUSES > should have color codes for all statuses 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LIEN_WAIVER_STATUSES > should have appropriate colors for status states 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LIEN_WAIVER_STATUSES > should have descriptions for all statuses 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > US_STATES > should contain all 50 US states 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > US_STATES > should have valid state codes (2 characters) 6ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > US_STATES > should identify states with statutory form requirements 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > US_STATES > should have unique state codes 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > US_STATES > should include major construction states 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getWaiverTypeLabel > should return correct label for known types 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getWaiverTypeLabel > should return the type value for unknown types 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getWaiverStatusLabel > should return correct label for known statuses 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getWaiverStatusLabel > should return the status value for unknown statuses 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getWaiverStatusColor > should return correct color for known statuses 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getWaiverStatusColor > should return gray for unknown statuses 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isConditionalWaiver > should return true for conditional waiver types 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isConditionalWaiver > should return false for unconditional waiver types 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isConditionalWaiver > should return false for unknown types 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isFinalWaiver > should return true for final waiver types 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isFinalWaiver > should return false for progress waiver types 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isFinalWaiver > should return false for unknown types 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getStateName > should return correct state name for known codes 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getStateName > should return the code for unknown states 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > hasStatutoryForm > should return true for states with statutory forms 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > hasStatutoryForm > should return false for states without statutory forms 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > hasStatutoryForm > should return false for unknown state codes 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > formatWaiverAmount > should format amounts as USD currency 31ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > formatWaiverAmount > should handle decimal amounts correctly 4ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > formatWaiverAmount > should format large construction amounts 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isWaiverOverdue > should return false when due_date is null 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isWaiverOverdue > should return false for approved waivers 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isWaiverOverdue > should return false for void waivers 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isWaiverOverdue > should return true for pending waiver past due date 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isWaiverOverdue > should return false for pending waiver with future due date 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > isWaiverOverdue > should return true for sent waiver past due date 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getDaysUntilDue > should return positive days for future due dates 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getDaysUntilDue > should return negative days for past due dates 2ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getDaysUntilDue > should return 0 or 1 for today 4ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > getDaysUntilDue > should handle date strings correctly 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LienWaiverTemplate interface > should have required fields for template identification 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > LienWaiverRequirement interface > should have required fields for payment waiver enforcement 1ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > ProjectWaiverSummary interface > should track all waiver status counts 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > WaiverComplianceStatus interface > should track compliance percentage correctly 0ms
 ✓ src/types/lien-waiver.test.ts > lien-waiver types > WaiverComplianceStatus interface > should identify compliant status 0ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Default Mode > shows theme options when dropdown is opened 1037ms
 ✓ src/types/drawing.test.ts > Drawing Types > DRAWING_DISCIPLINES > should have all expected disciplines 5ms
 ✓ src/types/drawing.test.ts > Drawing Types > DRAWING_DISCIPLINES > should have exactly 9 disciplines 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > DRAWING_DISCIPLINES > should have standard prefixes 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > DRAWING_DISCIPLINES > should have labels for all disciplines 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > DRAWING_STATUSES > should have all expected statuses 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > DRAWING_STATUSES > should have exactly 4 statuses 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DRAWING_STATUSES > should have appropriate colors 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DRAWING_STATUSES > should have labels for all statuses 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > REVISION_TYPES > should have all expected revision types 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > REVISION_TYPES > should have exactly 5 revision types 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > REVISION_TYPES > should have ASI label with full name 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > REVISION_TYPES > should have labels for all types 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > SHEET_SIZES > should have standard sheet sizes 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > SHEET_SIZES > should have architectural sheet sizes 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > SHEET_SIZES > should have exactly 10 sheet sizes 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > SHEET_SIZES > should have dimensions for all sizes 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > SHEET_SIZES > should have correct dimensions for standard sizes 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > ISSUE_PURPOSES > should have all expected issue purposes 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > ISSUE_PURPOSES > should have exactly 6 issue purposes 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > ISSUE_PURPOSES > should have labels matching values 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > MARKUP_TYPES > should have all expected markup types 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > MARKUP_TYPES > should have exactly 7 markup types 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > MARKUP_TYPES > should have icons for all types 1ms
 ✓ src/types/drawing.test.ts > Drawing Types > MARKUP_TYPES > should have appropriate icons 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Type definitions > DrawingDiscipline type > should accept valid disciplines 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Type definitions > DrawingStatus type > should accept valid statuses 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Type definitions > RevisionType type > should accept valid revision types 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Type definitions > MarkupType type > should accept valid markup types 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Type definitions > MarkupStatus type > should accept valid markup statuses 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Type definitions > DrawingSetStatus type > should accept valid set statuses 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Type definitions > IssuePurpose type > should accept valid issue purposes 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Type definitions > SheetSize type > should accept valid sheet sizes 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Drawing interface > should have all required fields 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > Drawing interface > should allow optional fields 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingInsert interface > should require minimum fields for insert 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingRevision interface > should have all required fields 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingRevision interface > should allow ASI revision type 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingSet interface > should have all required fields 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingSet interface > should allow items array 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingTransmittal interface > should have all required fields 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingTransmittal interface > should track acknowledgment 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingMarkup interface > should have all required fields 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingMarkup interface > should allow position and dimension 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingMarkup interface > should track resolution 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingFilters interface > should support all filter options 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DrawingRegisterEntry interface > should have all expected fields 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > DisciplineSummary interface > should have all expected fields 0ms
 ✓ src/types/drawing.test.ts > Drawing Types > RevisionHistoryEntry interface > should have all expected fields 0ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Draft Management > should initialize a new draft 31ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Draft Management > should initialize with default shift times 6ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Draft Management > should update draft fields 9ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Draft Management > should set mode and adjust expanded sections 8ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Draft Management > should initialize from existing report 6ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Draft Management > should clear draft 12ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Weather > should apply weather data 7ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Workforce Management > should add workforce entry 14ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Workforce Management > should update workforce entry 5ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Workforce Management > should remove workforce entry 8ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Workforce Management > should calculate total workers correctly 4ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Equipment Management > should add equipment entry 6ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Equipment Management > should update equipment entry 5ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Equipment Management > should remove equipment entry 6ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Delays Management > should add delay entry 6ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Delays Management > should update delay entry with updated_at 23ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Safety Incidents > should add safety incident 3ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Safety Incidents > should update safety incident 6ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Template Application > should apply template 6ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Template Application > should apply previous day data 6ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Sync Management > should manage sync status 5ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Sync Management > should manage sync queue 8ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Sync Management > should handle conflict resolution 12ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > UI State Management > should toggle section expansion 7ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > UI State Management > should expand all sections 5ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > UI State Management > should set active section 3ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Form Data Export > should export complete form data 3ms
 ✓ src/features/daily-reports/store/__tests__/dailyReportStoreV2.test.ts > useDailyReportStoreV2 > Form Data Export > should return null when no draft exists 2ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Default Mode > calls setTheme when light option is clicked 724ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Default Mode > calls setTheme when dark option is clicked 778ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should have all key as base 3ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should generate documents key without projectId 1ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should generate documents key with projectId 1ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should generate document detail key 0ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should generate warranties key 1ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should generate warranty detail key 0ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should generate checklist key 0ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should generate documentStats key 0ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > closeoutKeys > should generate warrantyStats key 0ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Closeout Document Query Hooks > useCloseoutDocuments > should fetch closeout documents 100ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Closeout Document Query Hooks > useCloseoutDocuments > should fetch all documents without projectId 75ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Closeout Document Query Hooks > useCloseoutDocument > should fetch single document 78ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Closeout Document Query Hooks > useCloseoutDocument > should not fetch when id is undefined 4ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Closeout Document Mutation Hooks > useCreateCloseoutDocument > should create closeout document 72ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Closeout Document Mutation Hooks > useUpdateCloseoutDocument > should update closeout document 71ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Default Mode > calls setTheme when system option is clicked 662ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Compact Mode > renders in compact mode 43ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Compact Mode > does not show label in compact mode 13ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Compact Mode > has accessible aria-label in compact mode 38ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Closeout Document Mutation Hooks > useDeleteCloseoutDocument > should soft delete closeout document 73ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Warranty Query Hooks > useWarranties > should fetch warranties 75ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Warranty Query Hooks > useWarranties > should calculate expiration info 78ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Role Assignment > should have valid role hierarchy with correct levels 3ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Role Assignment > should define all standard roles 1ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Role Assignment > should correctly compare role levels 1ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Admin Role > should have all permissions 1ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Company Admin Role > should have company-wide management permissions 1ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Company Admin Role > should NOT have system admin permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Company Admin Role > should NOT be able to delete users (admin only) 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Project Manager Role > should have project-level permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Project Manager Role > should NOT have company admin permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Superintendent Role > should have field operations permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Superintendent Role > should NOT have project management permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Foreman Role > should have team leader permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Foreman Role > should NOT have approval permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Field Worker Role > should have basic field access 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Field Worker Role > should NOT have edit or management permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Subcontractor Role > should have limited external access 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Viewer Role > should have read-only access 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Checks > Viewer Role > should NOT have any write permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Inheritance > should ensure higher roles have all permissions of lower roles for basic operations 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Inheritance > should ensure admin has all company_admin permissions 1ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Inheritance > should ensure project_manager has all superintendent permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Security Critical Denials > should deny field_worker from accessing financial data 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Security Critical Denials > should deny foreman from approving change orders 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Security Critical Denials > should deny superintendent from user management 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Security Critical Denials > should deny project_manager from deleting projects 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Security Critical Denials > should deny company_admin from system administration 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Security Critical Denials > should deny viewer from any write operations 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Edge Cases > should return false for unknown roles 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Edge Cases > should return false for unknown permissions 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Edge Cases > should handle null/undefined gracefully 0ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Categories > should have permissions organized by category 3ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Categories > should have CRUD operations for main resources 1ms
 ✓ src/lib/auth/rbac.test.ts > RBAC - Permission Counts > should have progressively more permissions as role level increases 1ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Warranty Query Hooks > useWarranty > should fetch single warranty 66ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Warranty Query Hooks > useWarranty > should not fetch when id is undefined 3ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Compact Mode > has screen reader only text 13ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Warranty Mutation Hooks > useCreateWarranty > should create warranty 65ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Warranty Mutation Hooks > useUpdateWarranty > should update warranty 82ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Warranty Mutation Hooks > useDeleteWarranty > should soft delete warranty 69ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Checklist Hooks > useCloseoutChecklist > should fetch checklist items 63ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Checklist Hooks > useCreateChecklistItem > should create checklist item 67ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Checklist Hooks > useToggleChecklistItem > should toggle checklist item completion 68ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Checklist Hooks > useToggleChecklistItem > should uncomplete checklist item 70ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Compact Mode > shows dropdown menu in compact mode 649ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Compact Mode > has icon button styling in compact mode 51ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Label Display > shows label by default 20ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Label Display > hides label when showLabel is false 19ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Error Handling > should handle document fetch error 67ms
 ✓ src/features/closeout/hooks/useCloseout.test.tsx > Error Handling > should handle warranty fetch error 62ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Label Display > shows label when showLabel is true 22ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Theme States > displays correct icon for light theme 17ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Theme States > displays correct icon for dark theme 14ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Theme States > displays correct icon for system theme 23ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Theme States > displays correct label for dark theme 21ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Theme States > displays correct label for system theme 38ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Custom Styling > accepts custom className 17ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeToggle > Custom Styling > applies custom className in compact mode 38ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Basic Rendering > renders theme switch 19ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Basic Rendering > renders switch component 40ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Basic Rendering > displays status text when enabled 8ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Basic Rendering > displays status text when disabled 5ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Icon Display > shows sun icon when light mode 9ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Icon Display > shows moon icon when dark mode 11ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Icon Display > moon icon has blue color in dark mode 16ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Icon Display > sun icon has warning color in light mode 11ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Switch Interaction > switch is checked when dark mode is enabled 45ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Switch Interaction > switch is unchecked when dark mode is disabled 48ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Switch Interaction > calls toggleTheme when switch is toggled 76ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Switch Interaction > has accessible aria-label 59ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Label Control > shows label by default 6ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Label Control > hides label when showLabel is false 9ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct base key 3ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct metrics key 1ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct by-division key 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct trend key 1ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct s-curve key 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct forecasts key 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct alerts key 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct summary key 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > EVM Query Keys > should generate correct snapshots key 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMMetrics > should fetch EVM metrics for a project 105ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMMetrics > should fetch metrics with status date 77ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMMetrics > should not fetch when projectId is undefined 8ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMMetrics > should respect enabled option 12ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMByDivision > should fetch EVM data by division 74ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMByDivision > should not fetch when projectId is undefined 11ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMTrend > should fetch trend data with default days 65ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMTrend > should fetch trend data with custom days 68ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMSCurve > should fetch S-curve data with forecasts 82ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMSCurve > should fetch S-curve data without forecasts 68ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Label Control > shows label when showLabel is true 18ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSwitch > Custom Styling > accepts custom className 9ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Basic Rendering > renders theme selector 16ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMForecasts > should fetch forecast scenarios 67ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMAlerts > should fetch alerts 73ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useProjectEVMSummary > should fetch complete EVM summary 72ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMSnapshots > should fetch snapshots with default limit 72ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Query Hooks > useEVMSnapshots > should fetch snapshots with custom limit 67ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Basic Rendering > renders all three theme buttons 604ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Basic Rendering > renders icons for each option 14ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Mutation Hooks > useCreateEVMSnapshot > should create a snapshot 79ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Mutation Hooks > useUpdateManagementEstimate > should update management estimate 70ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Mutation Hooks > useGenerateDailySnapshots > should generate daily snapshots 77ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Theme Selection > highlights active theme button 290ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Helper Hooks > useEVMDisplayValues > should format metrics for display 44ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Helper Hooks > useEVMDisplayValues > should handle undefined metrics 1ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Helper Hooks > useEVMHealthCheck > should identify at-risk project with low CPI 75ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Theme Selection > does not highlight inactive buttons 198ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Helper Hooks > useEVMHealthCheck > should identify healthy project 70ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Helper Hooks > useEVMHealthCheck > should identify critical project with CSI < 0.8 70ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Helper Hooks > useEVMHealthCheck > should return unknown for undefined metrics 2ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Financial Calculations Accuracy > should correctly calculate CPI from metrics 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Financial Calculations Accuracy > should correctly calculate SPI from metrics 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Financial Calculations Accuracy > should correctly calculate CSI from metrics 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Financial Calculations Accuracy > should correctly calculate EAC from CPI 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Financial Calculations Accuracy > should correctly calculate ETC 0ms
 ✓ src/features/cost-tracking/hooks/useEVM.test.tsx > Financial Calculations Accuracy > should correctly calculate VAC 0ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Theme Selection > calls setTheme when light button is clicked 166ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Theme Selection > calls setTheme when dark button is clicked 151ms
 ✓ src/types/schedule.test.ts > DependencyType > should accept valid dependency types 2ms
 ✓ src/types/schedule.test.ts > ScheduleItemStatus > should accept valid status values 3ms
 ✓ src/types/schedule.test.ts > GanttZoomLevel > should accept valid zoom levels 1ms
 ✓ src/types/schedule.test.ts > DEFAULT_GANTT_CONFIG > should have correct display settings 1ms
 ✓ src/types/schedule.test.ts > DEFAULT_GANTT_CONFIG > should have Date instances for start_date and end_date 1ms
 ✓ src/types/schedule.test.ts > DEFAULT_GANTT_CONFIG > should default to week zoom level 0ms
 ✓ src/types/schedule.test.ts > DEFAULT_GANTT_CONFIG > should have correct feature toggles 0ms
 ✓ src/types/schedule.test.ts > DEFAULT_GANTT_CONFIG > should have correct interaction settings 0ms
 ✓ src/types/schedule.test.ts > TASK_BAR_COLORS > should have colors for all statuses 0ms
 ✓ src/types/schedule.test.ts > TASK_BAR_COLORS > should have valid hex color format 1ms
 ✓ src/types/schedule.test.ts > TASK_BAR_COLORS > should use appropriate colors for status 0ms
 ✓ src/types/schedule.test.ts > Color Constants > should have valid CRITICAL_PATH_COLOR 0ms
 ✓ src/types/schedule.test.ts > Color Constants > should have valid MILESTONE_COLOR 0ms
 ✓ src/types/schedule.test.ts > Color Constants > should have valid TODAY_LINE_COLOR 0ms
 ✓ src/types/schedule.test.ts > Color Constants > should have valid BASELINE_COLOR 0ms
 ✓ src/types/schedule.test.ts > ScheduleItem interface > should accept valid schedule item 0ms
 ✓ src/types/schedule.test.ts > ScheduleItem interface > should allow null for optional fields 0ms
 ✓ src/types/schedule.test.ts > ScheduleItemWithVariance interface > should include variance calculations 0ms
 ✓ src/types/schedule.test.ts > ScheduleItemWithVariance interface > should accept all schedule status values 1ms
 ✓ src/types/schedule.test.ts > TaskDependency interface > should accept valid task dependency 0ms
 ✓ src/types/schedule.test.ts > TaskDependency interface > should support positive lag (delay) 0ms
 ✓ src/types/schedule.test.ts > TaskDependency interface > should support negative lag (lead) 0ms
 ✓ src/types/schedule.test.ts > CriticalPathItem interface > should include slack calculations 0ms
 ✓ src/types/schedule.test.ts > CriticalPathItem interface > should identify non-critical items with slack 0ms
 ✓ src/types/schedule.test.ts > GanttConfig interface > should allow custom configuration 0ms
 ✓ src/types/schedule.test.ts > CreateScheduleItemDTO > should accept minimal required fields 0ms
 ✓ src/types/schedule.test.ts > CreateScheduleItemDTO > should accept all optional fields 0ms
 ✓ src/types/schedule.test.ts > UpdateScheduleItemDTO > should allow partial updates 0ms
 ✓ src/types/schedule.test.ts > UpdateScheduleItemDTO > should allow updating critical flag 0ms
 ✓ src/types/schedule.test.ts > CreateDependencyDTO > should accept required fields 0ms
 ✓ src/types/schedule.test.ts > CreateDependencyDTO > should accept optional dependency type and lag 0ms
 ✓ src/types/schedule.test.ts > ScheduleFilters > should accept filter options 0ms
 ✓ src/types/schedule.test.ts > TimelineColumn > should represent a timeline column 0ms
 ✓ src/types/schedule.test.ts > GanttViewport > should track viewport state 0ms
 ✓ src/types/schedule.test.ts > GanttTask interface > should include computed display properties 0ms
 ✓ src/types/schedule.test.ts > GanttTask interface > should support hierarchical tasks 0ms
 ✓ src/types/schedule.test.ts > ScheduleBaseline interface > should represent a saved baseline 0ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Theme Selection > calls setTheme when system button is clicked 186ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Theme Selection > highlights dark theme when active 110ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Theme Selection > highlights system theme when active 109ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Layout > uses flex layout for buttons 8ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Layout > buttons have equal flex width 35ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Custom Styling > accepts custom className 5ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Accessibility > has accessible label 6ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Accessibility > all buttons have accessible names 129ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > ThemeSelector > Accessibility > uses aria-pressed for toggle state 33ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > SunIcon > renders sun icon 4ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > SunIcon > has default size classes 3ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > SunIcon > accepts custom className 6ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > SunIcon > has proper SVG attributes 3ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > MoonIcon > renders moon icon 3ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > MoonIcon > has default size classes 2ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > MoonIcon > accepts custom className 2ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > MonitorIcon > renders monitor icon 4ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > MonitorIcon > has default size classes 3ms
 ✓ src/components/__tests__/ThemeToggle.test.tsx > Icon Components > MonitorIcon > accepts custom className 3ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > MEETING_TYPES constant > should have expected meeting types 4ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > MEETING_TYPES constant > should have labels and descriptions for all types 2ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > MEETING_STATUSES constant > should have expected statuses 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > MEETING_STATUSES constant > should have labels and colors for all statuses 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > ACTION_ITEM_STATUSES constant > should have expected action item statuses 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > ACTION_ITEM_STATUSES constant > should have labels and colors for all statuses 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > ACTION_ITEM_PRIORITIES constant > should have expected priorities 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > ACTION_ITEM_PRIORITIES constant > should have labels and colors for all priorities 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > ACTION_ITEM_PRIORITIES constant > should have ascending severity order 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > getMeetingTypeLabel > should return correct label for known types 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > getMeetingTypeLabel > should return the type value for unknown types 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > getMeetingStatusColor > should return correct colors for known statuses 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > getMeetingStatusColor > should return gray for unknown statuses 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > getActionItemStatusColor > should return correct colors for known statuses 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > getActionItemStatusColor > should return gray for unknown statuses 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > getActionItemPriorityColor > should return correct colors for priorities 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > getActionItemPriorityColor > should return gray for unknown priorities 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > isUpcomingMeeting > should return true for future scheduled meetings 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > isUpcomingMeeting > should return false for past meetings 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > isUpcomingMeeting > should return false for cancelled meetings 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > isActionItemOverdue > should return true for past due open items 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > isActionItemOverdue > should return false for future due items 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > isActionItemOverdue > should return false for completed items 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > isActionItemOverdue > should return false for items without due date 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > formatMeetingTitle > should format title with meeting number 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > formatMeetingTitle > should return just title when no meeting number 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > formatMeetingTimeRange > should format time range with start and end 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > formatMeetingTimeRange > should format just start time when no end time 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > formatMeetingTimeRange > should return empty string when no start time 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Type definitions > should allow valid MeetingType values 1ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Type definitions > should allow valid MeetingStatus values 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Type definitions > should allow valid ActionItemStatus values 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Type definitions > should allow valid AttendanceStatus values 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Type definitions > should allow valid RSVPResponse values 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Type definitions > should allow valid MeetingAttachmentType values 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Type definitions > should allow valid ActionItemPriority values 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Filter types > should validate MeetingFilters structure 0ms
 ✓ src/types/meeting-minutes.test.ts > meeting-minutes types > Filter types > should validate ActionItemFilters structure 0ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > queueMessage > should queue a text message 8ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > queueMessage > should queue a message with attachments 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > queueMessage > should queue a message with mentioned users 0ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > queueMessage > should queue a reply message 0ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > queueMessage > should default to text message type 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > getPendingMessages > should return pending messages 2ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > getPendingMessages > should filter out non-message items 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > getAllQueuedMessages > should return all queued messages regardless of status 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > getQueuedMessagesForConversation > should return messages for specific conversation 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > updateMessageStatus > should update message status 2ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > updateMessageStatus > should include error message when provided 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > updateMessageStatus > should handle non-existent message gracefully 0ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > removeFromQueue > should remove message from queue 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > incrementRetry > should increment retry count 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > incrementRetry > should start from 0 if no retry count exists 0ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > incrementRetry > should return 0 for non-existent message 0ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > calculateRetryDelay > should calculate exponential backoff 0ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > calculateRetryDelay > should cap at maximum delay 0ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > calculateRetryDelay > should add jitter to prevent thundering herd 0ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > processMessageQueue > should skip processing when offline 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > processMessageQueue > should process pending messages when online 203ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > processMessageQueue > should handle send failures with retry 104ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > processMessageQueue > should mark as failed after max retries 105ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > processMessageQueue > should respect retry delay 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > clearFailedMessages > should clear all failed messages 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > clearFailedMessages > should return 0 when no failed messages 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > retryFailedMessages > should reset failed messages to pending 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > getQueueStats > should return queue statistics 1ms
 ✓ src/lib/offline/message-queue.test.ts > Message Queue > getQueueStats > should return zero stats for empty queue 0ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDocuments > should fetch all documents for a project 160ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDocuments > should filter documents by folder 70ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDocuments > should filter root-level documents when folderId is null 78ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDocuments > should be disabled when projectId is undefined 5ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDocument > should fetch single document by ID 74ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDocument > should be disabled when documentId is undefined 3ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDocumentVersions > should fetch all versions of a document 73ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDocumentVersions > should be disabled when documentId is undefined 6ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useFolders > should fetch all folders for a project 71ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useFolders > should filter folders by parent folder 70ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useFolders > should filter root-level folders when parentFolderId is null 78ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useFolder > should fetch single folder by ID 68ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useFolder > should be disabled when folderId is undefined 3ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useCreateDocument > should create a document 18ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useCreateDocument > should throw error when user is not authenticated 10ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useUpdateDocument > should update a document 9ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDeleteDocument > should soft delete a document 5ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useCreateFolder > should create a folder 6ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useCreateFolder > should throw error when user is not authenticated 7ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useUpdateFolder > should update a folder 5ms
 ✓ src/features/documents/hooks/useDocuments.test.ts > useDeleteFolder > should soft delete a folder 4ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > emailSchema > should accept valid email 3ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > emailSchema > should reject empty string 2ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > emailSchema > should reject invalid email format 1ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > emailSchema > should accept email with subdomains 0ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > emailSchema > should accept email with plus addressing 0ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > passwordSchema > should accept valid password 0ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > passwordSchema > should reject password shorter than 8 characters 1ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > passwordSchema > should reject password without uppercase letter 1ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > passwordSchema > should reject password without lowercase letter 1ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > passwordSchema > should reject password without number 1ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > optionalStringSchema > should accept string value 0ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > optionalStringSchema > should accept undefined 0ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > optionalStringSchema > should accept null 0ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > statusSchema > should accept valid status values 1ms
 ✓ src/lib/validation/schemas.test.ts > Common Schemas > statusSchema > should reject invalid status 1ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should accept valid project data 3ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should reject project with empty name 1ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should reject project with name shorter than 3 characters 1ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should reject project with name longer than 200 characters 1ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should accept minimal project (name only) 0ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should reject invalid start date 1ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should accept null optional fields 0ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should default status to planning 0ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectCreateSchema > should reject state longer than 2 characters 1ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectUpdateSchema > should accept partial project data 2ms
 ✓ src/lib/validation/schemas.test.ts > Project Schemas > projectUpdateSchema > should accept empty object 0ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should accept valid daily report data 4ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should reject invalid project_id (not UUID) 1ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should reject future report date 4ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should accept today as report date 1ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should reject temperature below -100°F 1ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should reject temperature above 150°F 1ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should reject negative worker count 1ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should reject non-integer worker count 1ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should default status to draft 1ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportCreateSchema > should accept minimal report 1ms
 ✓ src/lib/validation/schemas.test.ts > Daily Report Schemas > dailyReportUpdateSchema > should accept partial update 3ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCreateSchema > should accept valid change order data 2ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCreateSchema > should reject title shorter than 5 characters 1ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCreateSchema > should reject negative cost_impact 1ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCreateSchema > should reject cost_impact above 10 million 1ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCreateSchema > should default priority to normal 0ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCreateSchema > should default assignees to empty array 1ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCreateSchema > should reject invalid assignee UUID 1ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCommentSchema > should accept valid comment 1ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCommentSchema > should reject empty comment 1ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCommentSchema > should reject comment shorter than 2 characters 0ms
 ✓ src/lib/validation/schemas.test.ts > Change Order Schemas > changeOrderCommentSchema > should reject comment longer than 5000 characters 0ms
 ✓ src/lib/validation/schemas.test.ts > Workflow Item Schemas > workflowItemCreateSchema > should accept valid workflow item data 1ms
 ✓ src/lib/validation/schemas.test.ts > Workflow Item Schemas > workflowItemCreateSchema > should reject title shorter than 5 characters 0ms
 ✓ src/lib/validation/schemas.test.ts > Workflow Item Schemas > workflowItemCreateSchema > should default priority to normal 0ms
 ✓ src/lib/validation/schemas.test.ts > Workflow Item Schemas > workflowItemCreateSchema > should accept null description 0ms
 ✓ src/lib/validation/schemas.test.ts > Workflow Item Schemas > workflowItemCreateSchema > should reject invalid due_date 1ms
 ✓ src/lib/validation/schemas.test.ts > Workflow Item Schemas > workflowItemUpdateSchema > should accept partial update 2ms
 ✓ src/lib/validation/schemas.test.ts > Workflow Item Schemas > workflowItemUpdateSchema > should accept empty object 1ms
 ✓ src/lib/validation/schemas.test.ts > validateArray > should validate array of valid items 2ms
 ✓ src/lib/validation/schemas.test.ts > validateArray > should separate valid and invalid items 1ms
 ✓ src/lib/validation/schemas.test.ts > validateArray > should provide error details with index 1ms
 ✓ src/lib/validation/schemas.test.ts > validateArray > should handle empty array 1ms
 ✓ src/lib/validation/schemas.test.ts > validateArray > should handle all invalid items 1ms
 ✓ src/lib/validation/schemas.test.ts > validateArray > should provide multiple errors for single item 1ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Online/Offline State Management > should track online status 44ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Online/Offline State Management > should update state when going offline 8ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Online/Offline State Management > should update state when going online 8ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Online/Offline State Management > should trigger pending syncs update when coming online 115ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Queue Management > should load sync queue from IndexedDB 11ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Queue Management > should filter only pending items when loading sync queue 6ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Queue Management > should update pending syncs count 6ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Queue Management > should handle empty sync queue 4ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Queue Management > should remove item from sync queue 9ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Queue Management > should clear entire sync queue 11ms
stderr | src/stores/__tests__/offline-store.test.ts > Offline Store > Event Listeners > should handle online event
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Queue Management > should handle large sync queue (100+ items) 89ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Conflict Detection and Resolution > should load conflicts from IndexedDB 6ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Conflict Detection and Resolution > should only load unresolved conflicts 4ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Conflict Detection and Resolution > should add conflict to store 3ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Conflict Detection and Resolution > should not add duplicate conflicts 4ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Conflict Detection and Resolution > should resolve conflict with local strategy 10ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Conflict Detection and Resolution > should resolve conflict with server strategy 7ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Conflict Detection and Resolution > should resolve conflict with merge strategy 7ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Conflict Detection and Resolution > should update conflict count correctly 11ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Progress Tracking > should set sync progress 4ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Progress Tracking > should clear sync progress 5ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Progress Tracking > should track syncing state 6ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Progress Tracking > should track last sync time 2ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Network Quality Management > should set network quality 4ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Network Quality Management > should clear network quality 4ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Preferences > should have default sync preferences 3ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Preferences > should update sync preferences 4ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Sync Preferences > should update max batch size 4ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Storage Quota Management > should update storage quota 5ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Event Listeners > should initialize offline listeners 3ms
stderr | src/stores/__tests__/offline-store.test.ts > Offline Store > Event Listeners > should handle offline event
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Event Listeners > should handle online event 12ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Event Listeners > should handle offline event 6ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Event Listeners > should cleanup event listeners 2ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Edge Cases and Error Handling > should handle IndexedDB not available 6ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Edge Cases and Error Handling > should handle concurrent sync queue operations 7ms
 ✓ src/stores/__tests__/offline-store.test.ts > Offline Store > Edge Cases and Error Handling > should handle missing conflict during resolution 3ms
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Complete Lifecycle > should complete full submittal lifecycle: Create → Submit → Approve → Track Procurement 1340ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Rendering > should render dialog when open is true 354ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Rendering > should not render dialog content when open is false 9ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Rendering > should render all form fields 48ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Rendering > should render submit button 156ms
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Complete Lifecycle > should handle rejection workflow 356ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Rendering > should render cancel button 120ms
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Status Transitions > should transition from draft to submitted 253ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Interaction > should update title field when typed 351ms
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Status Transitions > should transition from submitted to approved 317ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Interaction > should update description field when typed 311ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Interaction > should update cost impact field when typed 139ms
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Status Transitions > should transition from submitted to rejected 338ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Interaction > should update schedule impact field when typed 102ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Interaction > should update due date field when selected 201ms
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Procurement Tracking > should only show procurement section for approved submittals 328ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Validation > should not submit when title is empty 112ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Validation > should not submit when projectId is missing 366ms
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Procurement Tracking > should track procurement status transitions 672ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should generate PDF with basic RFI info 10ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should fetch company info when not provided 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should use provided company info 2ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render project information 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render dates section with overdue highlighting 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render references section when present 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should skip references when all fields empty 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render question in a box 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render response when present 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should show awaiting response when no response 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render cost and schedule impact 77ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render distribution list when present 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should skip distribution when empty 2ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render attachments table when includeAttachments is true 2ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should skip attachments when includeAttachments is false 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should render comments when includeComments is true 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFIPDF > should skip comments when includeComments is false 2ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > downloadRFIPDF > should generate and download PDF 2ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > downloadRFIPDF > should create download link with correct filename 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > downloadRFIPDF > should cleanup blob URL after download 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFILogPDF > should generate RFI log with summary stats 2ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFILogPDF > should create table with all RFIs 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFILogPDF > should truncate long subjects 1ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > generateRFILogPDF > should add footers to all pages 2ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > downloadRFILogPDF > should generate and download RFI log 2ms
 ✓ src/features/rfis/utils/__tests__/pdfExport.test.ts > RFI PDF Export > downloadRFILogPDF > should create download link with sanitized filename 1ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Validation > should trim whitespace from title 474ms
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Procurement Tracking > should create procurement record with vendor details 421ms
stderr | src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Multiple Submittals > should handle multiple submittals independently
Encountered two children with the same key, `new-1`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.

 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Multiple Submittals > should handle multiple submittals independently 167ms
 ✓ src/__tests__/integration/submittal-workflow.test.tsx > Submittal Workflow Integration > Error Handling > should handle network errors gracefully 29ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Submission > should call mutateAsync with correct data on submit 1098ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Submission > should include cost impact when provided 1172ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Submission > should include schedule impact when provided 632ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Submission > should include due date when provided 636ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Submission > should reset form after successful submission 667ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Submission > should close dialog after successful submission 386ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Form Submission > should call onSuccess callback after successful submission 361ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Error Handling > should handle submission error 434ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Error Handling > should not close dialog on submission error 376ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Cancel Action > should close dialog when cancel is clicked 136ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Cancel Action > should not submit form when cancel is clicked 359ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Distribution > should render distribution picker 12ms
 ✓ src/features/submittals/components/__tests__/CreateSubmittalDialog.test.tsx > CreateSubmittalDialog > Distribution > should update distribution when changed 123ms
 ✓ src/types/permissions.test.ts > hasPermission > should return true when permission is granted 2ms
 ✓ src/types/permissions.test.ts > hasPermission > should return false when permission is not granted 1ms
 ✓ src/types/permissions.test.ts > hasPermission > should return false when permission does not exist 0ms
 ✓ src/types/permissions.test.ts > hasPermission > should return false when permissions map is undefined 0ms
 ✓ src/types/permissions.test.ts > hasPermission > should handle all PERMISSION_CODES 3ms
 ✓ src/types/permissions.test.ts > hasAnyPermission > should return true when at least one permission is granted 1ms
 ✓ src/types/permissions.test.ts > hasAnyPermission > should return false when no permissions are granted 0ms
 ✓ src/types/permissions.test.ts > hasAnyPermission > should return false when permissions map is empty 0ms
 ✓ src/types/permissions.test.ts > hasAnyPermission > should return false when permissions map is undefined 0ms
 ✓ src/types/permissions.test.ts > hasAnyPermission > should handle empty permission codes array 1ms
 ✓ src/types/permissions.test.ts > hasAnyPermission > should return true when all permissions are granted 0ms
 ✓ src/types/permissions.test.ts > hasAllPermissions > should return true when all permissions are granted 0ms
 ✓ src/types/permissions.test.ts > hasAllPermissions > should return false when not all permissions are granted 0ms
 ✓ src/types/permissions.test.ts > hasAllPermissions > should return false when any permission is missing 0ms
 ✓ src/types/permissions.test.ts > hasAllPermissions > should return false when permissions map is undefined 0ms
 ✓ src/types/permissions.test.ts > hasAllPermissions > should return true when checking empty permissions array 0ms
 ✓ src/types/permissions.test.ts > hasAllPermissions > should handle single permission check 0ms
 ✓ src/types/permissions.test.ts > groupPermissionsByCategory > should group permissions by category 3ms
 ✓ src/types/permissions.test.ts > groupPermissionsByCategory > should handle empty permissions array 0ms
 ✓ src/types/permissions.test.ts > groupPermissionsByCategory > should handle single permission 0ms
 ✓ src/types/permissions.test.ts > groupPermissionsByCategory > should maintain original permission objects 0ms
 ✓ src/types/permissions.test.ts > getCategoryLabel > should return correct labels for all categories 1ms
 ✓ src/types/permissions.test.ts > getCategoryLabel > should return the category itself for unknown categories 0ms
 ✓ src/types/permissions.test.ts > getRoleInfo > should return role info for all default roles 1ms
 ✓ src/types/permissions.test.ts > getRoleInfo > should return owner role info 2ms
 ✓ src/types/permissions.test.ts > getRoleInfo > should return admin role info 0ms
 ✓ src/types/permissions.test.ts > getRoleInfo > should return project_manager role info 0ms
 ✓ src/types/permissions.test.ts > getRoleInfo > should return undefined for unknown roles 0ms
 ✓ src/types/permissions.test.ts > formatRole > should format default roles with their labels 1ms
 ✓ src/types/permissions.test.ts > formatRole > should convert snake_case custom roles to Title Case 0ms
 ✓ src/types/permissions.test.ts > formatRole > should handle single word roles 0ms
 ✓ src/types/permissions.test.ts > PERMISSION_CODES > should have all expected project permissions 0ms
 ✓ src/types/permissions.test.ts > PERMISSION_CODES > should have all expected daily report permissions 0ms
 ✓ src/types/permissions.test.ts > PERMISSION_CODES > should have all expected financial permissions 0ms
 ✓ src/types/permissions.test.ts > PERMISSION_CODES > should have all expected admin permissions 1ms
 ✓ src/types/permissions.test.ts > PERMISSION_CODES > should use consistent naming pattern (category.action) 2ms
 ✓ src/types/permissions.test.ts > DEFAULT_ROLES > should have all 8 default roles 1ms
 ✓ src/types/permissions.test.ts > DEFAULT_ROLES > should have owner as highest privilege role 1ms
 ✓ src/types/permissions.test.ts > DEFAULT_ROLES > should have admin without billing access 0ms
 ✓ src/types/permissions.test.ts > DEFAULT_ROLES > should have worker with minimal permissions 1ms
 ✓ src/types/permissions.test.ts > DEFAULT_ROLES > should have subcontractor and client portal roles 0ms
 ✓ src/types/permissions.test.ts > DEFAULT_ROLES > should have all required properties for each role 2ms
 ✓ src/types/permissions.test.ts > Security-Critical Permission Checks > should not grant access when permission is explicitly false 0ms
 ✓ src/types/permissions.test.ts > Security-Critical Permission Checks > should handle dangerous permission checks correctly 0ms
 ✓ src/types/permissions.test.ts > Security-Critical Permission Checks > should require all permissions for admin operations 0ms
 ✓ src/types/permissions.test.ts > Security-Critical Permission Checks > should correctly check financial permissions hierarchy 0ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > getIncidents > should fetch all incidents 6ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > getIncidents > should apply project filter 1ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > getIncidents > should apply severity filter with array 1ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > getIncidents > should apply date range filters 1ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > getIncidents > should exclude deleted incidents by default 1ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > getIncidents > should handle database errors 3ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > getIncident > should fetch single incident by ID 1ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > getIncident > should throw error when incident not found 1ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > createIncident > should create a new incident 1ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > createIncident > should throw error when not authenticated 1ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > updateIncident > should update an incident 1ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > deleteIncident > should soft delete an incident 1ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > getIncidentPeople > should fetch people for an incident 1ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > addPerson > should add a person to an incident 0ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > getIncidentPhotos > should fetch photos for an incident 0ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > addPhoto > should add a photo to an incident 0ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > getCorrectiveActions > should fetch corrective actions 1ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > getCorrectiveActions > should filter by incident ID 0ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > getCorrectiveActions > should filter by status 0ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > createCorrectiveAction > should create a corrective action 1ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > completeCorrectiveAction > should mark action as completed 0ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > getStats > should calculate incident statistics 1ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > getStats > should calculate days since last incident 0ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > getCorrectiveActionStats > should calculate corrective action statistics 0ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > _isSeriousIncident > should return true for medical_treatment 0ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > _isSeriousIncident > should return true for lost_time 0ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > _isSeriousIncident > should return true for fatality 0ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > _isSeriousIncident > should return false for near_miss 0ms
 ✓ src/lib/api/services/safety-incidents.test.ts > safetyIncidentsApi > _isSeriousIncident > should return false for first_aid 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > EQUIPMENT_TYPES > should contain all equipment types 4ms
 ✓ src/types/equipment.test.ts > Equipment Constants > EQUIPMENT_TYPES > should have value, label, and category for each type 5ms
 ✓ src/types/equipment.test.ts > Equipment Constants > EQUIPMENT_TYPES > should have unique values 1ms
 ✓ src/types/equipment.test.ts > Equipment Constants > EQUIPMENT_TYPES > should include common construction equipment 1ms
 ✓ src/types/equipment.test.ts > Equipment Constants > EQUIPMENT_TYPES > should map types to correct categories 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > EQUIPMENT_CATEGORIES > should contain all equipment categories 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > EQUIPMENT_CATEGORIES > should have value and label for each category 1ms
 ✓ src/types/equipment.test.ts > Equipment Constants > EQUIPMENT_CATEGORIES > should include standard construction categories 1ms
 ✓ src/types/equipment.test.ts > Equipment Constants > EQUIPMENT_STATUSES > should contain all equipment statuses 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > EQUIPMENT_STATUSES > should have value, label, and color for each status 1ms
 ✓ src/types/equipment.test.ts > Equipment Constants > EQUIPMENT_STATUSES > should include all status values 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > EQUIPMENT_STATUSES > should have appropriate colors 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > OWNERSHIP_TYPES > should contain all ownership types 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > OWNERSHIP_TYPES > should include owned, rented, and leased 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > FUEL_TYPES > should contain all fuel types 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > FUEL_TYPES > should include common fuel types 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > MAINTENANCE_TYPES > should contain all maintenance types 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > MAINTENANCE_TYPES > should include standard maintenance types 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > MAINTENANCE_STATUSES > should contain all maintenance statuses 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > MAINTENANCE_STATUSES > should include workflow statuses 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > MAINTENANCE_STATUSES > should have appropriate colors 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > INSPECTION_TYPES > should contain all inspection types 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > INSPECTION_TYPES > should include inspection frequency types 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > INSPECTION_STATUSES > should contain all inspection statuses 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > INSPECTION_STATUSES > should include pass, fail, and needs_attention 0ms
 ✓ src/types/equipment.test.ts > Equipment Constants > INSPECTION_STATUSES > should have appropriate colors 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > getEquipmentTypeLabel > should return correct label for known types 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > getEquipmentTypeLabel > should return the type value for unknown types 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > getEquipmentTypeLabel > should return Aerial Lift for lift type 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > getEquipmentStatusColor > should return correct colors for statuses 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > getEquipmentStatusColor > should return gray for unknown status 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > getEquipmentStatusLabel > should return correct labels for statuses 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > getEquipmentStatusLabel > should return the status value for unknown status 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > getMaintenanceStatusColor > should return correct colors for maintenance statuses 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > getMaintenanceStatusColor > should return gray for unknown status 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > getInspectionStatusColor > should return correct colors for inspection statuses 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > getInspectionStatusColor > should return gray for unknown status 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > formatEquipmentName > should format equipment name with number and name 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > formatEquipmentName > should handle simple names 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > isMaintenanceOverdue > should return false for non-scheduled maintenance 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > isMaintenanceOverdue > should return false for in_progress maintenance 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > isMaintenanceOverdue > should return true when scheduled date is in the past 1ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > isMaintenanceOverdue > should return false when scheduled date is in the future 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > isMaintenanceOverdue > should return true when equipment hours exceed due hours 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > isMaintenanceOverdue > should return false when equipment hours below due hours 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > isMaintenanceOverdue > should return true when equipment miles exceed due miles 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > isMaintenanceOverdue > should return false when equipment miles below due miles 0ms
 ✓ src/types/equipment.test.ts > Equipment Utility Functions > isMaintenanceOverdue > should return false when no due criteria are set 0ms
 ✓ src/types/equipment.test.ts > Equipment Type Structures > should have expected properties on Equipment interface 0ms
 ✓ src/types/equipment.test.ts > Equipment Type Structures > should have expected properties on EquipmentMaintenance interface 1ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > distributionListKeys > should generate correct query keys 3ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Query Hooks > useDistributionLists > should fetch distribution lists for company 100ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Query Hooks > useDistributionLists > should fetch with isActive filter 12ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Query Hooks > useDistributionLists > should fetch with projectId filter 23ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Query Hooks > useDistributionLists > should fetch with listType filter 16ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Query Hooks > useDistributionLists > should fetch with search filter 11ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Query Hooks > useDistributionLists > should not fetch when user not authenticated 4ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Query Hooks > useProjectDistributionLists > should fetch distribution lists for a project 57ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Query Hooks > useProjectDistributionLists > should filter by list type 4ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Query Hooks > useDistributionList > should fetch a single distribution list with members 79ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Query Hooks > useDistributionList > should not fetch when listId is empty 3ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Query Hooks > useDistributionListMembers > should fetch members of a distribution list 65ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Query Hooks > useExpandDistribution > should expand distribution lists to recipients 75ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Query Hooks > useExpandDistribution > should not fetch when no list ids or user ids 3ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Query Hooks > useDefaultDistributionList > should fetch project-specific default list 63ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Query Hooks > useDefaultDistributionList > should fallback to company-wide default if no project default 8ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Mutation Hooks > useCreateDistributionList > should create a distribution list 64ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Mutation Hooks > useCreateDistributionList > should create list with members 65ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Mutation Hooks > useCreateDistributionList > should throw error when user not authenticated 72ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Mutation Hooks > useUpdateDistributionList > should update a distribution list 71ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Mutation Hooks > useDeleteDistributionList > should delete a distribution list 69ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Mutation Hooks > useAddDistributionListMember > should add a member to a distribution list 70ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Mutation Hooks > useAddDistributionListMember > should add external member 71ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Mutation Hooks > useUpdateDistributionListMember > should update a distribution list member 72ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Mutation Hooks > useUpdateDistributionListMember > should update notification preferences 69ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Mutation Hooks > useRemoveDistributionListMember > should remove a member from a distribution list 70ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Error Handling > should handle database error in useDistributionLists 68ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Error Handling > should handle database error in useDistributionList 80ms
 ✓ src/features/distribution-lists/hooks/useDistributionLists.test.tsx > Error Handling > should handle RPC error in useExpandDistribution 79ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > aiQueryKeys > should generate base key 3ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > aiQueryKeys > should generate configuration key 1ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > aiQueryKeys > should generate usage key without dates 1ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > aiQueryKeys > should generate usage key with dates 0ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > aiQueryKeys > should generate budget check key 0ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useAIConfiguration > should fetch AI configuration 100ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useAIConfiguration > should handle null configuration (not set up) 81ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useAIConfiguration > should handle configuration fetch error 74ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useAIUsageStats > should fetch usage stats without dates 73ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useAIUsageStats > should fetch usage stats with date range 73ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useAIUsageStats > should return usage breakdown by feature 64ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useAIBudgetCheck > should check budget status 63ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useAIBudgetCheck > should indicate when budget is exceeded 69ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useAIFeatureEnabled > should return enabled status for enabled feature 64ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useAIFeatureEnabled > should return disabled status for disabled feature 65ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useAIFeatureEnabled > should return disabled when AI is globally disabled 72ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useAIFeatureEnabled > should return disabled when config is null 69ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useUpdateAIConfiguration > should update AI configuration 5ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useUpdateAIConfiguration > should handle update error 2ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useUpdateAIConfiguration > should update provider settings 2ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useUpdateAIConfiguration > should update budget settings 2ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useUpdateAIConfiguration > should update feature toggles 2ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useTestAIConfiguration > should test configuration successfully 2ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useTestAIConfiguration > should handle test failure from API response 2ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useTestAIConfiguration > should handle test exception 2ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useTestAIConfiguration > should test OpenAI configuration 5ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > useTestAIConfiguration > should test Anthropic configuration 2ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > AI Configuration Business Logic > should identify provider from configuration 71ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > AI Configuration Business Logic > should calculate budget usage percentage 78ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > AI Configuration Business Logic > should aggregate costs by feature correctly 67ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > AI Configuration Business Logic > should support all AI providers 1ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > AI Configuration Business Logic > should support all AI features 0ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > Cost Management > should track monthly usage against budget 66ms
 ✓ src/features/ai/hooks/useAIConfiguration.test.tsx > useAIConfiguration hooks > Cost Management > should return budget status correctly 71ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > getProjectReports > should fetch daily reports for a project 9ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > getProjectReports > should throw error for missing project ID 4ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > getProjectReports > should handle database errors gracefully 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > getReport > should fetch a single report by ID 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > getReport > should handle missing report 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > getReportsByDate > should fetch reports for a specific date 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > getReportsByDateRange > should fetch reports within a date range 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > createReport > should create a new daily report with valid data 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > createReport > should validate input data before creating 2ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > createReport > should handle database constraint violations 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > createReport > should preserve ApiErrorClass errors from client 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > updateReport > should update a daily report with valid data 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > updateReport > should throw error for missing report ID 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > updateReport > should validate update data before updating 2ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > updateReport > should handle concurrent update conflicts 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > deleteReport > should delete a daily report 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > deleteReport > should throw error for missing report ID 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > submitReport > should submit a report for approval 7ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > approveReport > should approve a report 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > rejectReport > should reject a report with a reason 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > rejectReport > should prepend "Rejected:" to the reason 0ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > rejectReport > should handle empty rejection reason 0ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > Edge Cases and Error Handling > should handle custom filters with null values 0ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > Edge Cases and Error Handling > should handle empty arrays from database 0ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > Edge Cases and Error Handling > should handle ApiErrorClass from API client 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > Edge Cases and Error Handling > should wrap generic errors in ApiErrorClass 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > Edge Cases and Error Handling > should handle special characters in text fields 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > Edge Cases and Error Handling > should handle very long text content 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > Edge Cases and Error Handling > should handle concurrent read operations 1ms
 ✓ src/lib/api/services/daily-reports.test.ts > dailyReportsApi > Edge Cases and Error Handling > should handle database foreign key violations on delete 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should generate basic lien waiver PDF 101ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should fetch company info when not provided 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should use provided company info 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should add document header with waiver number and type 4ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should render state name below header 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should default to California when state code is missing 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should render project information section 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should render project values in project info 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should render waiver body text with splitTextToSize 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should generate conditional progress text for conditional_progress type 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should generate unconditional progress text for unconditional_progress type 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should generate conditional final text for conditional_final type 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should generate unconditional final text for unconditional_final type 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should include exceptions in waiver text when provided 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should render signature section 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should render claimant information in signature section 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should render notarization section when required 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should not render notarization section when not required 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should add footers to all pages 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateLienWaiverPDF > should handle missing optional project info gracefully 1ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > downloadLienWaiverPDF > should trigger download with correct filename 4ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > downloadLienWaiverPDF > should cleanup blob URL after download 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateBlankWaiverPDF > should generate blank waiver PDF with minimal data 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateBlankWaiverPDF > should include project info when provided 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > generateBlankWaiverPDF > should set notarization_required based on state code 2ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > downloadBlankWaiverPDF > should trigger download with correct filename for blank template 8ms
 ✓ src/features/lien-waivers/utils/__tests__/pdfExport.test.ts > Lien Waiver PDF Export > downloadBlankWaiverPDF > should cleanup blob URL after download 2ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Topics API > getTopics > should fetch topics with filters 5ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Topics API > getTopics > should filter by category 3ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Topics API > getTopic > should fetch single topic 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Topics API > getTopic > should throw error when topic not found 3ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Topics API > createTopic > should create new topic 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Topics API > updateTopic > should update topic 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Talks API > getTalks > should fetch talks with filters 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Talks API > getTalk > should fetch single talk 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Talks API > getTalkWithDetails > should fetch talk with attendees 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Talks API > createTalk > should create new talk 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Talks API > startTalk > should start talk and set status to in_progress 2ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Talks API > completeTalk > should complete talk 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Talks API > getUpcomingTalks > should fetch upcoming talks 2ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Attendees API > getAttendees > should fetch attendees for talk 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Attendees API > addAttendee > should add attendee to talk 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Attendees API > bulkAddAttendees > should add multiple attendees 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Attendees API > signInAttendee > should sign in attendee 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Attendees API > markAbsent > should mark attendee as absent 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Attendees API > bulkSignIn > should sign in all expected attendees 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Certifications API > getCertifications > should fetch certifications with status calculation 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Certifications API > getWorkerCertifications > should fetch certifications for specific worker 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Certifications API > getExpiringCertifications > should fetch certifications expiring within days 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Stats API > getProjectStats > should fetch project statistics 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Stats API > getProjectStats > should return default stats when no data 0ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Stats API > getComplianceSummary > should calculate compliance summary 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Stats API > getAttendanceRate > should calculate attendance rate 1ms
 ✓ src/lib/api/services/__tests__/toolbox-talks.test.ts > Toolbox Stats API > getAttendanceRate > should return 100 when no talks 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Field Diff Detection > should detect modified fields 4ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Field Diff Detection > should detect added fields 1ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Field Diff Detection > should detect removed fields 1ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Field Diff Detection > should not detect diffs for identical values 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Field Diff Detection > should handle nested objects 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Field Diff Detection > should mark server-priority fields as auto-mergeable 1ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Field Diff Detection > should mark local-priority fields as auto-mergeable 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Field Diff Detection > should mark null/undefined differences as auto-mergeable 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Last-Write-Wins Strategy > should keep local data when local is newer 1ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Last-Write-Wins Strategy > should keep server data when server is newer 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Last-Write-Wins Strategy > should keep server data when timestamps are equal 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Field-Level Merge Strategy > should merge non-conflicting fields 1ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Field-Level Merge Strategy > should prioritize server for security fields 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Field-Level Merge Strategy > should prioritize local for updated_at 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Field-Level Merge Strategy > should prefer local for non-auto-mergeable conflicts 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Manual Selection Strategy > should apply manual field selections 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Manual Selection Strategy > should use server as base for unselected fields 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Merge Preview > should generate merge preview for last-write-wins 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Merge Preview > should generate merge preview for field-level-merge 1ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Merge Preview > should identify manual fields that need user input 1ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Conflict History > should record conflict resolution 1ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Conflict History > should record manual field selections 1ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Conflict History > should filter history by entity type 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Conflict History > should filter history by entity ID 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Conflict History > should limit history to 100 entries 1ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Conflict History > should clear history 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Conflict History > should sort history by timestamp descending 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Recommended Strategy > should recommend field-level-merge when no conflicts 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Recommended Strategy > should recommend manual when few conflicts 0ms
 ✓ src/lib/offline/__tests__/conflict-resolver.test.ts > ConflictResolver > Recommended Strategy > should recommend last-write-wins when many conflicts 0ms
 ✓ src/types/approval-workflow.test.ts > ApprovalStatus type > should allow all valid status values 4ms
 ✓ src/types/approval-workflow.test.ts > ApprovalActionType type > should allow all valid action types 1ms
 ✓ src/types/approval-workflow.test.ts > WorkflowEntityType type > should allow all valid entity types 1ms
 ✓ src/types/approval-workflow.test.ts > APPROVAL_STATUS_CONFIG > should have configuration for all statuses 0ms
 ✓ src/types/approval-workflow.test.ts > APPROVAL_STATUS_CONFIG > should have correct pending status config 1ms
 ✓ src/types/approval-workflow.test.ts > APPROVAL_STATUS_CONFIG > should have correct approved status config 0ms
 ✓ src/types/approval-workflow.test.ts > APPROVAL_STATUS_CONFIG > should have correct approved_with_conditions status config 0ms
 ✓ src/types/approval-workflow.test.ts > APPROVAL_STATUS_CONFIG > should have correct rejected status config 0ms
 ✓ src/types/approval-workflow.test.ts > APPROVAL_STATUS_CONFIG > should have correct cancelled status config 0ms
 ✓ src/types/approval-workflow.test.ts > APPROVAL_STATUS_CONFIG > should have valid color values for all statuses 1ms
 ✓ src/types/approval-workflow.test.ts > APPROVAL_ACTION_CONFIG > should have configuration for all action types 0ms
 ✓ src/types/approval-workflow.test.ts > APPROVAL_ACTION_CONFIG > should have correct approve action config 0ms
 ✓ src/types/approval-workflow.test.ts > APPROVAL_ACTION_CONFIG > should have correct approve_with_conditions action config 0ms
 ✓ src/types/approval-workflow.test.ts > APPROVAL_ACTION_CONFIG > should have correct reject action config 0ms
 ✓ src/types/approval-workflow.test.ts > APPROVAL_ACTION_CONFIG > should have correct delegate action config 0ms
 ✓ src/types/approval-workflow.test.ts > APPROVAL_ACTION_CONFIG > should have correct comment action config 0ms
 ✓ src/types/approval-workflow.test.ts > APPROVAL_ACTION_CONFIG > should have both label and pastTense for all actions 0ms
 ✓ src/types/approval-workflow.test.ts > WORKFLOW_ENTITY_CONFIG > should have configuration for all entity types 0ms
 ✓ src/types/approval-workflow.test.ts > WORKFLOW_ENTITY_CONFIG > should have correct document config 0ms
 ✓ src/types/approval-workflow.test.ts > WORKFLOW_ENTITY_CONFIG > should have correct submittal config 0ms
 ✓ src/types/approval-workflow.test.ts > WORKFLOW_ENTITY_CONFIG > should have correct rfi config 0ms
 ✓ src/types/approval-workflow.test.ts > WORKFLOW_ENTITY_CONFIG > should have correct change_order config 0ms
 ✓ src/types/approval-workflow.test.ts > WORKFLOW_ENTITY_CONFIG > should have both label and plural for all types 0ms
 ✓ src/types/approval-workflow.test.ts > ApprovalWorkflow interface > should accept valid workflow object 0ms
 ✓ src/types/approval-workflow.test.ts > ApprovalWorkflow interface > should allow null description 0ms
 ✓ src/types/approval-workflow.test.ts > ApprovalStep interface > should accept valid step object 0ms
 ✓ src/types/approval-workflow.test.ts > ApprovalStep interface > should allow null auto_approve_after_days 0ms
 ✓ src/types/approval-workflow.test.ts > ApprovalRequest interface > should accept valid request object 0ms
 ✓ src/types/approval-workflow.test.ts > ApprovalRequest interface > should accept approved request with conditions 0ms
 ✓ src/types/approval-workflow.test.ts > ApprovalActionRecord interface > should accept valid action record 0ms
 ✓ src/types/approval-workflow.test.ts > ApprovalActionRecord interface > should accept delegation action record 0ms
 ✓ src/types/approval-workflow.test.ts > CreateWorkflowInput interface > should accept valid workflow input 0ms
 ✓ src/types/approval-workflow.test.ts > CreateWorkflowInput interface > should allow null description 0ms
 ✓ src/types/approval-workflow.test.ts > CreateApprovalRequestInput interface > should accept valid request input 0ms
 ✓ src/types/approval-workflow.test.ts > ApprovalRequestFilters interface > should accept empty filters 0ms
 ✓ src/types/approval-workflow.test.ts > ApprovalRequestFilters interface > should accept single status filter 0ms
 ✓ src/types/approval-workflow.test.ts > ApprovalRequestFilters interface > should accept array of statuses 0ms
 ✓ src/types/approval-workflow.test.ts > ApprovalRequestFilters interface > should accept all filter options 0ms
 ✓ src/types/approval-workflow.test.ts > EntityApprovalStatus interface > should represent entity with no active request 0ms
 ✓ src/types/approval-workflow.test.ts > EntityApprovalStatus interface > should represent entity with active request 0ms
 ✓ src/types/approval-workflow.test.ts > PendingApprovalsSummary interface > should represent empty pending summary 0ms
 ✓ src/types/approval-workflow.test.ts > PendingApprovalsSummary interface > should represent pending summary with requests 0ms
 ✓ src/types/approval-workflow.test.ts > Approval Workflow Security Considerations > should track who initiated an approval request 0ms
 ✓ src/types/approval-workflow.test.ts > Approval Workflow Security Considerations > should track who performed each action 0ms
 ✓ src/types/approval-workflow.test.ts > Approval Workflow Security Considerations > should require specific approvers for each step 0ms
 ✓ src/types/approval-workflow.test.ts > Approval Workflow Security Considerations > should provide clear status for rejected requests 0ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getOcrResult > should fetch OCR result for a document 6ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getOcrResult > should return null when OCR result not found 1ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getOcrResult > should throw error on database failure 3ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > triggerOcrProcessing > should create queue item for processable document 5ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > triggerOcrProcessing > should throw error for non-existent document 1ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > triggerOcrProcessing > should throw error for unsupported file type 1ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > reprocessOcr > should reset OCR status and update queue 1ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getDocumentCategory > should fetch category for a document 1ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getDocumentCategory > should return null when category not found 0ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > updateDocumentCategory > should update category with manual override 1ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > updateDocumentCategory > should throw error when document not found 1ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getSuggestedCategories > should return suggested categories 0ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getSuggestedCategories > should return empty array when no suggestions 0ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getExtractedMetadata > should fetch extracted metadata 0ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getExtractedMetadata > should return null when no metadata 0ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getSimilarDocuments > should fetch similar documents above threshold 2ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getSimilarDocuments > should return empty array when no similar documents 0ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > findDuplicates > should find duplicate documents in project 1ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getProcessingStatus > should return processing status for document 1ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getProcessingStatus > should return not queued status when no queue item 0ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getQueuedDocuments > should fetch pending and processing documents 1ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > cancelProcessing > should cancel processing for document 1ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getProcessingStats > should fetch processing statistics 0ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getProcessingStats > should return default stats when none exist 0ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getProjectDocumentsAiStatus > should fetch AI status for all project documents 1ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getCategoryDistribution > should return category counts 1ms
 ✓ src/lib/api/services/document-ai.test.ts > documentAiApi > getCategoryDistribution > should return empty array when no documents 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canTransition > should allow draft -> submitted transition 3ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canTransition > should allow submitted -> approved transition 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canTransition > should allow submitted -> changes_requested transition 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canTransition > should allow changes_requested -> submitted transition 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canTransition > should allow approved -> locked transition 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canTransition > should not allow draft -> approved direct transition 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canTransition > should not allow locked -> any transition 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canTransition > should not allow approved -> draft transition 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canPerformTransition > should allow author to submit draft 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canPerformTransition > should allow admin to perform any valid transition 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canPerformTransition > should allow approver to approve submission 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canPerformTransition > should allow reviewer to request changes 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canPerformTransition > should not allow author to approve their own report 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > canPerformTransition > should not allow reviewer to submit draft 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > getAvailableTransitions > should return submit and voided for author with draft 3ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > getAvailableTransitions > should return approve and request changes for approver with submitted 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > getAvailableTransitions > should return empty array for locked status 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Transitions > getAvailableTransitions > should return submit and draft for author with changes_requested 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Validation > validateForSubmission > should pass validation for valid report 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Validation > validateForSubmission > should fail validation for missing work summary 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Validation > validateForSubmission > should fail validation for missing project_id 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Validation > validateForSubmission > should fail validation for missing signature when required 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Validation > validateForSubmission > should pass validation without signature when not required 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Notification Configuration > should return notification config for draft -> submitted 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Notification Configuration > should return notification config for approved transition 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Notification Configuration > should return notification config for changes requested 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Notification Configuration > should return null for transitions without notifications 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Auto-Lock Logic > should return true for immediate lock (0 days) 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Auto-Lock Logic > should return false for report not yet approved 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Auto-Lock Logic > should return false for approved report without approval date 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Auto-Lock Logic > should return true for report approved beyond lock period 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Auto-Lock Logic > should return false for recently approved report 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Review Reminders > should return true when reminder time has passed 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Review Reminders > should return false for recently submitted report 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Review Reminders > should return false for non-submitted status 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Escalation Logic > should return true when escalation time has passed 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Escalation Logic > should work for in_review status 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Escalation Logic > should return false before escalation time 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Escalation Logic > should return false for approved status 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Display Info > should return correct info for each status 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Display Info > should return draft info correctly 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Status Display Info > should return approved info correctly 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Available Actions > should return submit and void actions for author with draft 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Available Actions > should return approve and request changes for approver with submitted 1ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Available Actions > should return lock action for admin with approved 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Available Actions > should set requiresComment for request changes action 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Singleton Instance > should export a default configured instance 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Singleton Instance > should have default configuration 0ms
 ✓ src/features/daily-reports/services/__tests__/workflowEngine.test.ts > DailyReportWorkflowEngine > Custom Configuration > should allow custom configuration 0ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Unauthenticated Access Prevention > should prevent access to protected resources without authentication 3ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Unauthenticated Access Prevention > should not expose user data when unauthenticated 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Unauthenticated Access Prevention > should require valid session for authenticated operations 2ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Unauthenticated Access Prevention > should validate session exists before granting access 2ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Unauthenticated Access Prevention > should prevent session hijacking by validating user ID 2ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Role-Based Access Control (RBAC) > Admin Access > should grant admin full permissions 2ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Role-Based Access Control (RBAC) > Superintendent Access > should grant superintendent appropriate permissions 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Role-Based Access Control (RBAC) > Superintendent Access > should prevent superintendent from accessing financials 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Role-Based Access Control (RBAC) > Project Manager Access > should grant project manager appropriate permissions 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Role-Based Access Control (RBAC) > Foreman Access > should grant foreman limited permissions 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Role-Based Access Control (RBAC) > Foreman Access > should prevent foreman from managing projects 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Role-Based Access Control (RBAC) > Foreman Access > should prevent foreman from approving documents 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Role-Based Access Control (RBAC) > Viewer Access > should grant viewer minimal permissions 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Role-Based Access Control (RBAC) > Viewer Access > should prevent viewer from all write operations 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Role-Based Access Control (RBAC) > Role Escalation Prevention > should not allow role to be modified in client 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Role-Based Access Control (RBAC) > Role Escalation Prevention > should validate role on each permission check 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Session Validation > should validate session token format 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Session Validation > should validate session expiry time 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Session Validation > should reject expired sessions 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Session Validation > should validate refresh token exists 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Session Validation > should validate user data matches session 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Token Tampering Prevention > should detect modified access tokens 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Token Tampering Prevention > should prevent token reuse after logout 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Token Tampering Prevention > should validate token signature 1ms
 × src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > MFA Requirement Enforcement > should enforce MFA for admin users 9ms
   → expected undefined to be true // Object.is equality
 × src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > MFA Requirement Enforcement > should allow optional MFA for regular users 2ms
   → expected undefined to be false // Object.is equality
 × src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > MFA Requirement Enforcement > should verify MFA status in user profile 2ms
   → expected undefined to be true // Object.is equality
 × src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > MFA Requirement Enforcement > should prevent access to sensitive operations without MFA verification 1ms
   → expected undefined to be false // Object.is equality
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Session Fixation Prevention > should regenerate session on login 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Session Fixation Prevention > should not reuse session IDs across different users 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Cross-Site Request Forgery (CSRF) Protection > should include user context in authenticated requests 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Cross-Site Request Forgery (CSRF) Protection > should validate request origin matches user session 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Brute Force Protection > should simulate rate limiting on failed login attempts 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Authorization Boundary Tests > should prevent cross-user data access 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Authorization Boundary Tests > should validate user ownership for resource access 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Authorization Boundary Tests > should enforce project-level access control 0ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Security Headers and Metadata > should include security metadata in session 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Security Headers and Metadata > should track session creation time 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Privilege Separation > should separate read and write permissions 1ms
 ✓ src/__tests__/security/auth-bypass-prevention.test.ts > Authentication Bypass Prevention > Privilege Separation > should separate administrative permissions 1ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > PAYMENT_APPLICATION_STATUSES > should have all expected statuses 4ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > PAYMENT_APPLICATION_STATUSES > should have exactly 7 statuses 1ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > PAYMENT_APPLICATION_STATUSES > should have labels for all statuses 1ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > PAYMENT_APPLICATION_STATUSES > should have colors for all statuses 1ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > PAYMENT_APPLICATION_STATUSES > should have descriptions for all statuses 1ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > PAYMENT_APPLICATION_STATUSES > should have appropriate colors for status severity 1ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > RETAINAGE_OPTIONS > should have common retainage percentages 1ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > RETAINAGE_OPTIONS > should have labels for all options 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > RETAINAGE_OPTIONS > should have exactly 4 options 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > RETAINAGE_OPTIONS > should have 10% retainage as standard 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > AGING_BUCKETS > should have all expected aging periods 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > AGING_BUCKETS > should have exactly 5 buckets 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > AGING_BUCKETS > should have correct day ranges 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > AGING_BUCKETS > should have severity-appropriate colors 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > AGING_BUCKETS > should have labels for all buckets 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > DEFAULT_AGING_ALERT_CONFIG > should have warning threshold 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > DEFAULT_AGING_ALERT_CONFIG > should have critical threshold 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > DEFAULT_AGING_ALERT_CONFIG > should have auto-escalate threshold 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > DEFAULT_AGING_ALERT_CONFIG > should have escalation role 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > DEFAULT_AGING_ALERT_CONFIG > should have thresholds in ascending order 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > PaymentApplicationStatus type > should accept valid statuses 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > AgingBucket type > should accept valid aging buckets 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > PaymentApplication interface > should have all G702 required fields 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > ScheduleOfValuesItem interface > should have all G703 line item fields 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > CreatePaymentApplicationDTO interface > should require minimum fields 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > CreatePaymentApplicationDTO interface > should allow optional fields 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > PaymentApplicationFilters interface > should support all filter options 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > ProjectPaymentSummary interface > should have all expected summary fields 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > AgingReceivable interface > should have all expected fields 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > AgingBucketSummary interface > should have all expected fields 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > DSOMetrics interface > should have all expected fields 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > DSOMetrics interface > should accept all trend values 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > CashFlowForecastItem interface > should have all expected fields 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > CashFlowForecastItem interface > should accept all confidence levels 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > G702 Calculation Validation > should validate contract sum calculation 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > G702 Calculation Validation > should validate total completed and stored calculation 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > G702 Calculation Validation > should validate retainage calculation 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > G702 Calculation Validation > should validate current payment due calculation (G702 Line 8) 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > G702 Calculation Validation > should validate balance to finish calculation (G702 Line 9) 0ms
 ✓ src/types/payment-application.test.ts > Payment Application Types > G702 Calculation Validation > should validate percent complete calculation 0ms
 ✓ src/features/bidding/hooks/useHistoricalBidAnalysis.test.tsx > Historical Bid Analysis Hooks > useVendorBidHistory > should fetch vendor bid history successfully 95ms
 ✓ src/features/bidding/hooks/useHistoricalBidAnalysis.test.tsx > Historical Bid Analysis Hooks > useVendorBidHistory > should handle filters 79ms
 ✓ src/features/bidding/hooks/useHistoricalBidAnalysis.test.tsx > Historical Bid Analysis Hooks > useVendorBidHistory > should not fetch when vendor ID is undefined 4ms
 ✓ src/features/bidding/hooks/useHistoricalBidAnalysis.test.tsx > Historical Bid Analysis Hooks > useVendorBidHistory > should not fetch when enabled is false 5ms
 ✓ src/features/bidding/hooks/useHistoricalBidAnalysis.test.tsx > Historical Bid Analysis Hooks > useVendorWinRate > should fetch vendor win rate statistics 74ms
 ✓ src/features/bidding/hooks/useHistoricalBidAnalysis.test.tsx > Historical Bid Analysis Hooks > useBidAccuracyAnalysis > should fetch bid accuracy analysis 74ms
 ✓ src/features/bidding/hooks/useHistoricalBidAnalysis.test.tsx > Historical Bid Analysis Hooks > usePriceVarianceByTrade > should fetch price variance by trade 75ms
 ✓ src/features/bidding/hooks/useHistoricalBidAnalysis.test.tsx > Historical Bid Analysis Hooks > useBidTrendAnalysis > should fetch bid trends with default date range 82ms
 ✓ src/features/bidding/hooks/useHistoricalBidAnalysis.test.tsx > Historical Bid Analysis Hooks > useBidTrendAnalysis > should use custom date range 78ms
 ✓ src/features/bidding/hooks/useHistoricalBidAnalysis.test.tsx > Historical Bid Analysis Hooks > useRecommendedVendors > should fetch vendor recommendations 69ms
 ✓ src/features/bidding/hooks/useHistoricalBidAnalysis.test.tsx > Historical Bid Analysis Hooks > useBidPerformanceReport > should fetch performance report 70ms
 ✓ src/features/bidding/hooks/useHistoricalBidAnalysis.test.tsx > Historical Bid Analysis Hooks > useGeneratePerformanceReport > should generate report and show success toast 70ms
 ✓ src/features/bidding/hooks/useHistoricalBidAnalysis.test.tsx > Historical Bid Analysis Hooks > useBidAnalysisDashboard > should fetch combined dashboard data 72ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Browser Support Detection > should detect WebAuthn support 39ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Browser Support Detection > should detect platform authenticator availability 66ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Browser Support Detection > should handle unsupported browsers 5ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Browser Support Detection > should handle unavailable platform authenticator 4ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Settings Loading > should load biometric settings on mount 77ms
stderr | src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Settings Loading > should handle loading errors
Error loading biometric settings: Error: Failed to load
    at C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx:186:9
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1209:10)
    at file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1653:37
    at Traces.$ (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)
    at runTest (file:///C:/Users/kubik/iCloudDrive/JobSiight/SuperSiteHero/node_modules/@vitest/runner/dist/index.js:1653:12)

 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Settings Loading > should show enabled state from settings 68ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Settings Loading > should handle loading errors 66ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Settings Loading > should not load settings when user is not authenticated 16ms
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Device Registration > should register new device successfully 7ms
   → Biometric authentication not available
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Device Registration > should register device with auto-generated name 5ms
   → Biometric authentication not available
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Device Registration > should handle registration errors 11ms
   → expected [Function] to throw error including 'Registration failed' but got 'Biometric authentication not available'
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Device Registration > should refresh settings after successful registration 4ms
   → Biometric authentication not available
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Device Removal > should remove device successfully 3ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Device Removal > should refresh settings after device removal 5ms
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Device Removal > should handle removal errors 8ms
   → promise resolved "undefined" instead of rejecting
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Authentication > should authenticate successfully 6ms
   → expected false to be true // Object.is equality
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Authentication > should handle authentication failure 24ms
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Authentication > should handle authentication errors 5ms
   → promise resolved "undefined" instead of rejecting
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Settings Management > should toggle enabled state 4ms
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Settings Management > should update reauth interval 4ms
   → expected "vi.fn()" to be called with arguments: [ …(2) ]

Received: 

  1st vi.fn() call:

  [
    "14a30d58-5115-441c-bf76-bb065d88146a",
    {
-     "reauth_interval": "four_hours",
+     "reauthInterval": "four_hours",
    },
  ]


Number of calls: 1

stderr | src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Session Management > should clear biometric auth session
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Settings Management > should refresh settings after toggle 1029ms
   → expected "vi.fn()" to be called 2 times, but got 1 times

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 × src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Re-authentication Checking > should check if re-authentication is needed 73ms
   → expected "vi.fn()" to be called with arguments: [ 'one_hour' ]

Number of calls: 0

 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Re-authentication Checking > should not need reauth when recently authenticated 4ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Session Management > should clear biometric auth session 4ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Manual Settings Refresh > should allow manual settings refresh 4ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Edge Cases > should handle rapid successive operations 7ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Edge Cases > should handle user changing during hook lifetime 88ms
 ✓ src/features/auth/hooks/__tests__/useBiometricAuth.test.tsx > useBiometricAuth > Edge Cases > should handle disabled biometric settings 15ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > getRequests > should fetch all requests 5ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > getRequests > should filter by status 2ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > getRequests > should filter by multiple statuses 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > getRequests > should filter by entity_type 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > getRequests > should filter by project_id 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > getRequests > should filter by pending_for_user 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > getRequests > should filter out non-pending requests when filtering by pending_for_user 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > getRequest > should fetch a single request 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > getRequest > should sort actions by created_at 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > getRequest > should throw error for missing request ID 3ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > getRequest > should throw error when request not found 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > getPendingForUser > should return pending approvals summary 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > getPendingForUser > should throw error for missing user ID 0ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > createRequest > should create a new request 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > createRequest > should throw error for missing workflow ID 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > createRequest > should throw error for missing entity type 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > createRequest > should throw error for missing entity ID 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > createRequest > should throw error for missing project ID 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > createRequest > should throw error if request already exists 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > cancelRequest > should cancel a pending request 3ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > cancelRequest > should throw error for missing request ID 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > cancelRequest > should throw error if user is not initiator 2ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > cancelRequest > should throw error if request is not pending 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > getEntityStatus > should return status for entity with active request 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > getEntityStatus > should return can_submit=true for entity with no request 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > getEntityStatus > should return can_submit=false for approved entity 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > getEntityStatus > should throw error for missing params 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > canUserApprove > should return true if user is approver for current step 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > canUserApprove > should return false if user is not approver 0ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > canUserApprove > should return false for non-pending request 1ms
 ✓ src/lib/api/services/approval-requests.test.ts > approvalRequestsApi > canUserApprove > should return false for missing params 1ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > checkMFARequirement > should require MFA for superintendent role 5ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > checkMFARequirement > should not require MFA for field worker 1ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > checkMFARequirement > should enforce MFA when user preference enabled 1ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > checkMFARequirement > should handle null user profile 1ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > checkMFARequirement > should throw error for missing user ID 3ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > isPathMFAProtected > should protect admin routes 1ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > isPathMFAProtected > should protect company settings 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > isPathMFAProtected > should protect billing routes 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > isPathMFAProtected > should protect user management for authorized roles 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > isPathMFAProtected > should not protect regular routes 1ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > isPathMFAProtected > should match wildcard routes 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > isPathMFAProtected > should check role requirements 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > isPathMFAProtected > should protect financial routes for authorized roles 1ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > isPathMFAProtected > should protect security-sensitive routes regardless of role 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > calculateMFAGracePeriod > should calculate remaining days correctly 1ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > calculateMFAGracePeriod > should show grace period enabled for recent accounts 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > calculateMFAGracePeriod > should disable grace period after 7 days 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > calculateMFAGracePeriod > should use role change date when provided 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > calculateMFAGracePeriod > should handle exact deadline 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > enforceMFAForRoute > should deny access for unauthenticated users 1ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > enforceMFAForRoute > should allow access to non-protected routes 1ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > enforceMFAForRoute > should require MFA verification for enrolled users on protected routes 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > enforceMFAForRoute > should show grace period warning for unenrolled users 1ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > enforceMFAForRoute > should redirect to MFA setup when grace period expired 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > enforceMFAForRoute > should allow access for non-MFA roles on any route 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > MFASession > should mark session as verified 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > MFASession > should return false for unverified session 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > MFASession > should expire verification after 30 minutes 1ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > MFASession > should clear verification manually 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > MFASession > should track separate sessions for different users 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > MFASession > should calculate remaining session time 1ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > MFASession > should return 0 for expired or non-existent sessions 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > MFASession > should handle rapid verification toggles 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > MFA_PROTECTED_ROUTES Configuration > should define admin routes 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > MFA_PROTECTED_ROUTES Configuration > should define financial routes 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > MFA_PROTECTED_ROUTES Configuration > should define security-sensitive routes 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > MFA_PROTECTED_ROUTES Configuration > should have role restrictions where appropriate 1ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > MFA_PROTECTED_ROUTES Configuration > should require MFA for all defined routes 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > Security Critical Tests > should deny access by default on errors 1ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > Security Critical Tests > should not leak user information in error messages 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > Security Critical Tests > should validate user profile structure 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > Security Critical Tests > should handle concurrent session checks 0ms
 ✓ src/lib/auth/mfaMiddleware.test.ts > MFA Middleware > Security Critical Tests > should maintain session isolation between users 0ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Initialization > should initialize with default state 29ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Initialization > should initialize with custom values 4ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Single Touch Drawing > should start drawing on single touch 13ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Single Touch Drawing > should track drawing points during move 7ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Single Touch Drawing > should end drawing and call onDrawEnd 9ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Tap Detection > should detect single tap 3ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Tap Detection > should detect double tap 7ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Pinch-to-Zoom > should start zooming with two touches 3ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Pinch-to-Zoom > should calculate zoom based on pinch distance 3ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Pinch-to-Zoom > should respect min and max scale constraints 3ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Two-Finger Pan > should pan with two-finger gesture 3ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Two-Finger Pan > should update translate values during pan 2ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Palm Rejection > should ignore large touch areas (palm touches) 2ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Palm Rejection > should accept normal touch areas when palm rejection enabled 3ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Palm Rejection > should allow disabling palm rejection 2ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Stylus Detection > should detect stylus touches 2ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Stylus Detection > should track stylus pressure 2ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Stylus Detection > should distinguish stylus from finger touches 2ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Touch Cancel > should reset state on touch cancel 5ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Transform Controls > should manually set scale 3ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Transform Controls > should manually set translate 3ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Transform Controls > should reset transform 3ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Element Binding > should provide handlers for manual binding 2ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Element Binding > should provide bindTouchHandlers helper 2ms
 ✓ src/features/documents/hooks/useMobileTouchGestures.test.ts > useMobileTouchGestures > Element Binding > should handle null element in bindTouchHandlers 2ms
